import{R as Vr,r as w,a as Nu,L as Kf,b as qf,P as oh,c as fh,C as gh,T as Jf,d as mh,X as hh,Y as xh,e as bh}from"./charts-DgrdrEOe.js";import{r as yh,b as ph,g as Qf}from"./vendor-CvrAlPOO.js";import{L as vh,D as jh,B as Xf,S as Vf,G as _l,M as Sh,F as Nh,a as Zf,b as wu,c as ku,d as wh,U as En,e as Ml,f as kh,g as Ah,C as Ol,h as If,i as $f,j as Eh,k as Ff,l as Ut,m as Au,A as Th,n as Ir,o as $r,p as Eu,Z as Wf,q as Ns,T as zu,r as Ef,s as Tu,t as Ul,u as Ch,v as zh,E as Dh,w as ks,X as fl,P as Du,x as ws,y as Zr,z as Fr,H as _h,I as An,J as Mh,K as _u,N as Wr,O as Oh,Q as Tf,R as Uh,V as Rh,W as Cf,Y as Hh,_ as Bh,$ as zf,a0 as Lh,a1 as Gh,a2 as Yh,a3 as Kh,a4 as fu,a5 as qh,a6 as Jh,a7 as Qh,a8 as Xh}from"./icons-Dy16QcjU.js";import{r as Vh,E as Lr}from"./pdf-CoY2g0EJ.js";import{u as sa,w as Ss,r as Zh}from"./excel-BBWTpfDg.js";import{r as Ih,T as ol,a as Oe,A as he,P,F as Gr,b as Yr,W as Kr,c as qr,d as Ot}from"./word-8J_a-qQ9.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))o(S);new MutationObserver(S=>{for(const _ of S)if(_.type==="childList")for(const k of _.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&o(k)}).observe(document,{childList:!0,subtree:!0});function g(S){const _={};return S.integrity&&(_.integrity=S.integrity),S.referrerPolicy&&(_.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?_.credentials="include":S.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function o(S){if(S.ep)return;S.ep=!0;const _=g(S);fetch(S.href,_)}})();var gu={exports:{}},ps={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df;function $h(){if(Df)return ps;Df=1;var c=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function g(o,S,_){var k=null;if(_!==void 0&&(k=""+_),S.key!==void 0&&(k=""+S.key),"key"in S){_={};for(var H in S)H!=="key"&&(_[H]=S[H])}else _=S;return S=_.ref,{$$typeof:c,type:o,key:k,ref:S!==void 0?S:null,props:_}}return ps.Fragment=d,ps.jsx=g,ps.jsxs=g,ps}var _f;function Fh(){return _f||(_f=1,gu.exports=$h()),gu.exports}var n=Fh(),mu={exports:{}},vs={},hu={exports:{}},xu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf;function Wh(){return Mf||(Mf=1,(function(c){function d(m,E){var U=m.length;m.push(E);e:for(;0<U;){var ne=U-1>>>1,$=m[ne];if(0<S($,E))m[ne]=E,m[U]=$,U=ne;else break e}}function g(m){return m.length===0?null:m[0]}function o(m){if(m.length===0)return null;var E=m[0],U=m.pop();if(U!==E){m[0]=U;e:for(var ne=0,$=m.length,Me=$>>>1;ne<Me;){var oe=2*(ne+1)-1,ue=m[oe],Ne=oe+1,G=m[Ne];if(0>S(ue,U))Ne<$&&0>S(G,ue)?(m[ne]=G,m[Ne]=U,ne=Ne):(m[ne]=ue,m[oe]=U,ne=oe);else if(Ne<$&&0>S(G,U))m[ne]=G,m[Ne]=U,ne=Ne;else break e}}return E}function S(m,E){var U=m.sortIndex-E.sortIndex;return U!==0?U:m.id-E.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var _=performance;c.unstable_now=function(){return _.now()}}else{var k=Date,H=k.now();c.unstable_now=function(){return k.now()-H}}var O=[],I=[],T=1,v=null,z=3,K=!1,M=!1,ee=!1,q=!1,X=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function N(m){for(var E=g(I);E!==null;){if(E.callback===null)o(I);else if(E.startTime<=m)o(I),E.sortIndex=E.expirationTime,d(O,E);else break;E=g(I)}}function W(m){if(ee=!1,N(m),!M)if(g(O)!==null)M=!0,le||(le=!0,te());else{var E=g(I);E!==null&&Fe(W,E.startTime-m)}}var le=!1,Y=-1,se=5,je=-1;function Ae(){return q?!0:!(c.unstable_now()-je<se)}function ae(){if(q=!1,le){var m=c.unstable_now();je=m;var E=!0;try{e:{M=!1,ee&&(ee=!1,Q(Y),Y=-1),K=!0;var U=z;try{a:{for(N(m),v=g(O);v!==null&&!(v.expirationTime>m&&Ae());){var ne=v.callback;if(typeof ne=="function"){v.callback=null,z=v.priorityLevel;var $=ne(v.expirationTime<=m);if(m=c.unstable_now(),typeof $=="function"){v.callback=$,N(m),E=!0;break a}v===g(O)&&o(O),N(m)}else o(O);v=g(O)}if(v!==null)E=!0;else{var Me=g(I);Me!==null&&Fe(W,Me.startTime-m),E=!1}}break e}finally{v=null,z=U,K=!1}E=void 0}}finally{E?te():le=!1}}}var te;if(typeof V=="function")te=function(){V(ae)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,_e=Se.port2;Se.port1.onmessage=ae,te=function(){_e.postMessage(null)}}else te=function(){X(ae,0)};function Fe(m,E){Y=X(function(){m(c.unstable_now())},E)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(m){m.callback=null},c.unstable_forceFrameRate=function(m){0>m||125<m?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<m?Math.floor(1e3/m):5},c.unstable_getCurrentPriorityLevel=function(){return z},c.unstable_next=function(m){switch(z){case 1:case 2:case 3:var E=3;break;default:E=z}var U=z;z=E;try{return m()}finally{z=U}},c.unstable_requestPaint=function(){q=!0},c.unstable_runWithPriority=function(m,E){switch(m){case 1:case 2:case 3:case 4:case 5:break;default:m=3}var U=z;z=m;try{return E()}finally{z=U}},c.unstable_scheduleCallback=function(m,E,U){var ne=c.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ne+U:ne):U=ne,m){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=U+$,m={id:T++,callback:E,priorityLevel:m,startTime:U,expirationTime:$,sortIndex:-1},U>ne?(m.sortIndex=U,d(I,m),g(O)===null&&m===g(I)&&(ee?(Q(Y),Y=-1):ee=!0,Fe(W,U-ne))):(m.sortIndex=$,d(O,m),M||K||(M=!0,le||(le=!0,te()))),m},c.unstable_shouldYield=Ae,c.unstable_wrapCallback=function(m){var E=z;return function(){var U=z;z=E;try{return m.apply(this,arguments)}finally{z=U}}}})(xu)),xu}var Of;function Ph(){return Of||(Of=1,hu.exports=Wh()),hu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf;function ex(){if(Uf)return vs;Uf=1;var c=Ph(),d=yh(),g=ph();function o(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)a+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function S(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _(e){var a=e,t=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(t=a.return),e=a.return;while(e)}return a.tag===3?t:null}function k(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function H(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function O(e){if(_(e)!==e)throw Error(o(188))}function I(e){var a=e.alternate;if(!a){if(a=_(e),a===null)throw Error(o(188));return a!==e?null:e}for(var t=e,l=a;;){var s=t.return;if(s===null)break;var r=s.alternate;if(r===null){if(l=s.return,l!==null){t=l;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===t)return O(s),e;if(r===l)return O(s),a;r=r.sibling}throw Error(o(188))}if(t.return!==l.return)t=s,l=r;else{for(var i=!1,u=s.child;u;){if(u===t){i=!0,t=s,l=r;break}if(u===l){i=!0,l=s,t=r;break}u=u.sibling}if(!i){for(u=r.child;u;){if(u===t){i=!0,t=r,l=s;break}if(u===l){i=!0,l=r,t=s;break}u=u.sibling}if(!i)throw Error(o(189))}}if(t.alternate!==l)throw Error(o(190))}if(t.tag!==3)throw Error(o(188));return t.stateNode.current===t?e:a}function T(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=T(e),a!==null)return a;e=e.sibling}return null}var v=Object.assign,z=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),V=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),je=Symbol.for("react.activity"),Ae=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ee:return"Fragment";case X:return"Profiler";case q:return"StrictMode";case W:return"Suspense";case le:return"SuspenseList";case je:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case V:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case N:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return a=e.displayName||null,a!==null?a:_e(e.type)||"Memo";case se:a=e._payload,e=e._init;try{return _e(e(a))}catch{}}return null}var Fe=Array.isArray,m=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=g.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},ne=[],$=-1;function Me(e){return{current:e}}function oe(e){0>$||(e.current=ne[$],ne[$]=null,$--)}function ue(e,a){$++,ne[$]=e.current,e.current=a}var Ne=Me(null),G=Me(null),ye=Me(null),Ze=Me(null);function aa(e,a){switch(ue(ye,a),ue(G,e),ue(Ne,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?I0(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=I0(a),e=$0(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}oe(Ne),ue(Ne,e)}function ge(){oe(Ne),oe(G),oe(ye)}function be(e){e.memoizedState!==null&&ue(Ze,e);var a=Ne.current,t=$0(a,e.type);a!==t&&(ue(G,e),ue(Ne,t))}function Ue(e){G.current===e&&(oe(Ne),oe(G)),Ze.current===e&&(oe(Ze),hs._currentValue=U)}var wa,C;function F(e){if(wa===void 0)try{throw Error()}catch(t){var a=t.stack.trim().match(/\n( *(at )?)/);wa=a&&a[1]||"",C=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+e+C}var me=!1;function Ie(e,a){if(!e||me)return"";me=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(A){var j=A}Reflect.construct(e,[],B)}else{try{B.call()}catch(A){j=A}e.call(B.prototype)}}else{try{throw Error()}catch(A){j=A}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(A){if(A&&j&&typeof A.stack=="string")return[A.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=l.DetermineComponentFrameRoot(),i=r[0],u=r[1];if(i&&u){var f=i.split(`
`),p=u.split(`
`);for(s=l=0;l<f.length&&!f[l].includes("DetermineComponentFrameRoot");)l++;for(;s<p.length&&!p[s].includes("DetermineComponentFrameRoot");)s++;if(l===f.length||s===p.length)for(l=f.length-1,s=p.length-1;1<=l&&0<=s&&f[l]!==p[s];)s--;for(;1<=l&&0<=s;l--,s--)if(f[l]!==p[s]){if(l!==1||s!==1)do if(l--,s--,0>s||f[l]!==p[s]){var D=`
`+f[l].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=l&&0<=s);break}}}finally{me=!1,Error.prepareStackTrace=t}return(t=e?e.displayName||e.name:"")?F(t):""}function ra(e,a){switch(e.tag){case 26:case 27:case 5:return F(e.type);case 16:return F("Lazy");case 13:return e.child!==a&&a!==null?F("Suspense Fallback"):F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return Ie(e.type,!1);case 11:return Ie(e.type.render,!1);case 1:return Ie(e.type,!0);case 31:return F("Activity");default:return""}}function ua(e){try{var a="",t=null;do a+=ra(e,t),t=e,e=e.return;while(e);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Le=Object.prototype.hasOwnProperty,da=c.unstable_scheduleCallback,ta=c.unstable_cancelCallback,Qa=c.unstable_shouldYield,Rt=c.unstable_requestPaint,ze=c.unstable_now,nt=c.unstable_getCurrentPriorityLevel,Ht=c.unstable_ImmediatePriority,ut=c.unstable_UserBlockingPriority,dt=c.unstable_NormalPriority,ei=c.unstable_LowPriority,Rl=c.unstable_IdlePriority,Cn=c.log,As=c.unstable_setDisableYieldValue,b=null,J=null;function Z(e){if(typeof Cn=="function"&&As(e),J&&typeof J.setStrictMode=="function")try{J.setStrictMode(b,e)}catch{}}var ie=Math.clz32?Math.clz32:Ra,xe=Math.log,Ge=Math.LN2;function Ra(e){return e>>>=0,e===0?32:31-(xe(e)/Ge|0)|0}var Ta=256,Aa=262144,Ha=4194304;function ka(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xa(e,a,t){var l=e.pendingLanes;if(l===0)return 0;var s=0,r=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var u=l&134217727;return u!==0?(l=u&~r,l!==0?s=ka(l):(i&=u,i!==0?s=ka(i):t||(t=u&~e,t!==0&&(s=ka(t))))):(u=l&~r,u!==0?s=ka(u):i!==0?s=ka(i):t||(t=l&~e,t!==0&&(s=ka(t)))),s===0?0:a!==0&&a!==s&&(a&r)===0&&(r=s&-s,t=a&-a,r>=t||r===32&&(t&4194048)!==0)?a:s}function st(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Bt(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gl(){var e=Ha;return Ha<<=1,(Ha&62914560)===0&&(Ha=4194304),e}function Hl(e){for(var a=[],t=0;31>t;t++)a.push(e);return a}function Lt(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ye(e,a,t,l,s,r){var i=e.pendingLanes;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=t,e.entangledLanes&=t,e.errorRecoveryDisabledLanes&=t,e.shellSuspendCounter=0;var u=e.entanglements,f=e.expirationTimes,p=e.hiddenUpdates;for(t=i&~t;0<t;){var D=31-ie(t),B=1<<D;u[D]=0,f[D]=-1;var j=p[D];if(j!==null)for(p[D]=null,D=0;D<j.length;D++){var A=j[D];A!==null&&(A.lane&=-536870913)}t&=~B}l!==0&&ya(e,l,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(i&~a))}function ya(e,a,t){e.pendingLanes|=a,e.suspendedLanes&=~a;var l=31-ie(a);e.entangledLanes|=a,e.entanglements[l]=e.entanglements[l]|1073741824|t&261930}function ht(e,a){var t=e.entangledLanes|=a;for(e=e.entanglements;t;){var l=31-ie(t),s=1<<l;s&a|e[l]&a&&(e[l]|=a),t&=~s}}function Gt(e,a){var t=a&-a;return t=(t&42)!==0?1:ai(t),(t&(e.suspendedLanes|a))!==0?0:t}function ai(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ti(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mu(){var e=E.p;return e!==0?e:(e=window.event,e===void 0?32:vf(e.type))}function Ou(e,a){var t=E.p;try{return E.p=e,a()}finally{E.p=t}}var Yt=Math.random().toString(36).slice(2),pa="__reactFiber$"+Yt,Ca="__reactProps$"+Yt,Bl="__reactContainer$"+Yt,li="__reactEvents$"+Yt,eg="__reactListeners$"+Yt,ag="__reactHandles$"+Yt,Uu="__reactResources$"+Yt,zn="__reactMarker$"+Yt;function ni(e){delete e[pa],delete e[Ca],delete e[li],delete e[eg],delete e[ag]}function Ll(e){var a=e[pa];if(a)return a;for(var t=e.parentNode;t;){if(a=t[Bl]||t[pa]){if(t=a.alternate,a.child!==null||t!==null&&t.child!==null)for(e=lf(e);e!==null;){if(t=e[pa])return t;e=lf(e)}return a}e=t,t=e.parentNode}return null}function Gl(e){if(e=e[pa]||e[Bl]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function Dn(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(o(33))}function Yl(e){var a=e[Uu];return a||(a=e[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function xa(e){e[zn]=!0}var Ru=new Set,Hu={};function ml(e,a){Kl(e,a),Kl(e+"Capture",a)}function Kl(e,a){for(Hu[e]=a,e=0;e<a.length;e++)Ru.add(a[e])}var tg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bu={},Lu={};function lg(e){return Le.call(Lu,e)?!0:Le.call(Bu,e)?!1:tg.test(e)?Lu[e]=!0:(Bu[e]=!0,!1)}function Es(e,a,t){if(lg(a))if(t===null)e.removeAttribute(a);else{switch(typeof t){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+t)}}function Ts(e,a,t){if(t===null)e.removeAttribute(a);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+t)}}function xt(e,a,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttributeNS(a,t,""+l)}}function Va(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gu(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ng(e,a,t){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var s=l.get,r=l.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return s.call(this)},set:function(i){t=""+i,r.call(this,i)}}),Object.defineProperty(e,a,{enumerable:l.enumerable}),{getValue:function(){return t},setValue:function(i){t=""+i},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function si(e){if(!e._valueTracker){var a=Gu(e)?"checked":"value";e._valueTracker=ng(e,a,""+e[a])}}function Yu(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var t=a.getValue(),l="";return e&&(l=Gu(e)?e.checked?"true":"false":e.value),e=l,e!==t?(a.setValue(e),!0):!1}function Cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sg=/[\n"\\]/g;function Za(e){return e.replace(sg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ri(e,a,t,l,s,r,i,u){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),a!=null?i==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Va(a)):e.value!==""+Va(a)&&(e.value=""+Va(a)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),a!=null?ii(e,i,Va(a)):t!=null?ii(e,i,Va(t)):l!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+Va(u):e.removeAttribute("name")}function Ku(e,a,t,l,s,r,i,u){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),a!=null||t!=null){if(!(r!=="submit"&&r!=="reset"||a!=null)){si(e);return}t=t!=null?""+Va(t):"",a=a!=null?""+Va(a):t,u||a===e.value||(e.value=a),e.defaultValue=a}l=l??s,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=u?e.checked:!!l,e.defaultChecked=!!l,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i),si(e)}function ii(e,a,t){a==="number"&&Cs(e.ownerDocument)===e||e.defaultValue===""+t||(e.defaultValue=""+t)}function ql(e,a,t,l){if(e=e.options,a){a={};for(var s=0;s<t.length;s++)a["$"+t[s]]=!0;for(t=0;t<e.length;t++)s=a.hasOwnProperty("$"+e[t].value),e[t].selected!==s&&(e[t].selected=s),s&&l&&(e[t].defaultSelected=!0)}else{for(t=""+Va(t),a=null,s=0;s<e.length;s++){if(e[s].value===t){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}a!==null||e[s].disabled||(a=e[s])}a!==null&&(a.selected=!0)}}function qu(e,a,t){if(a!=null&&(a=""+Va(a),a!==e.value&&(e.value=a),t==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=t!=null?""+Va(t):""}function Ju(e,a,t,l){if(a==null){if(l!=null){if(t!=null)throw Error(o(92));if(Fe(l)){if(1<l.length)throw Error(o(93));l=l[0]}t=l}t==null&&(t=""),a=t}t=Va(a),e.defaultValue=t,l=e.textContent,l===t&&l!==""&&l!==null&&(e.value=l),si(e)}function Jl(e,a){if(a){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=a;return}}e.textContent=a}var rg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qu(e,a,t){var l=a.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?l?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":l?e.setProperty(a,t):typeof t!="number"||t===0||rg.has(a)?a==="float"?e.cssFloat=t:e[a]=(""+t).trim():e[a]=t+"px"}function Xu(e,a,t){if(a!=null&&typeof a!="object")throw Error(o(62));if(e=e.style,t!=null){for(var l in t)!t.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var s in a)l=a[s],a.hasOwnProperty(s)&&t[s]!==l&&Qu(e,s,l)}else for(var r in a)a.hasOwnProperty(r)&&Qu(e,r,a[r])}function ci(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ig=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(e){return cg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function bt(){}var ui=null;function di(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ql=null,Xl=null;function Vu(e){var a=Gl(e);if(a&&(e=a.stateNode)){var t=e[Ca]||null;e:switch(e=a.stateNode,a.type){case"input":if(ri(e,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),a=t.name,t.type==="radio"&&a!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+Za(""+a)+'"][type="radio"]'),a=0;a<t.length;a++){var l=t[a];if(l!==e&&l.form===e.form){var s=l[Ca]||null;if(!s)throw Error(o(90));ri(l,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(a=0;a<t.length;a++)l=t[a],l.form===e.form&&Yu(l)}break e;case"textarea":qu(e,t.value,t.defaultValue);break e;case"select":a=t.value,a!=null&&ql(e,!!t.multiple,a,!1)}}}var oi=!1;function Zu(e,a,t){if(oi)return e(a,t);oi=!0;try{var l=e(a);return l}finally{if(oi=!1,(Ql!==null||Xl!==null)&&(br(),Ql&&(a=Ql,e=Xl,Xl=Ql=null,Vu(a),e)))for(a=0;a<e.length;a++)Vu(e[a])}}function _n(e,a){var t=e.stateNode;if(t===null)return null;var l=t[Ca]||null;if(l===null)return null;t=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(o(231,a,typeof t));return t}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fi=!1;if(yt)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){fi=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{fi=!1}var Kt=null,gi=null,Ds=null;function Iu(){if(Ds)return Ds;var e,a=gi,t=a.length,l,s="value"in Kt?Kt.value:Kt.textContent,r=s.length;for(e=0;e<t&&a[e]===s[e];e++);var i=t-e;for(l=1;l<=i&&a[t-l]===s[r-l];l++);return Ds=s.slice(e,1<l?1-l:void 0)}function _s(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Ms(){return!0}function $u(){return!1}function za(e){function a(t,l,s,r,i){this._reactName=t,this._targetInst=s,this.type=l,this.nativeEvent=r,this.target=i,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(t=e[u],this[u]=t?t(r):r[u]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Ms:$u,this.isPropagationStopped=$u,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),a}var hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=za(hl),On=v({},hl,{view:0,detail:0}),ug=za(On),mi,hi,Un,Us=v({},On,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Un&&(Un&&e.type==="mousemove"?(mi=e.screenX-Un.screenX,hi=e.screenY-Un.screenY):hi=mi=0,Un=e),mi)},movementY:function(e){return"movementY"in e?e.movementY:hi}}),Fu=za(Us),dg=v({},Us,{dataTransfer:0}),og=za(dg),fg=v({},On,{relatedTarget:0}),xi=za(fg),gg=v({},hl,{animationName:0,elapsedTime:0,pseudoElement:0}),mg=za(gg),hg=v({},hl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xg=za(hg),bg=v({},hl,{data:0}),Wu=za(bg),yg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jg(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=vg[e])?!!a[e]:!1}function bi(){return jg}var Sg=v({},On,{key:function(e){if(e.key){var a=yg[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bi,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ng=za(Sg),wg=v({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pu=za(wg),kg=v({},On,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bi}),Ag=za(kg),Eg=v({},hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tg=za(Eg),Cg=v({},Us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zg=za(Cg),Dg=v({},hl,{newState:0,oldState:0}),_g=za(Dg),Mg=[9,13,27,32],yi=yt&&"CompositionEvent"in window,Rn=null;yt&&"documentMode"in document&&(Rn=document.documentMode);var Og=yt&&"TextEvent"in window&&!Rn,ed=yt&&(!yi||Rn&&8<Rn&&11>=Rn),ad=" ",td=!1;function ld(e,a){switch(e){case"keyup":return Mg.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vl=!1;function Ug(e,a){switch(e){case"compositionend":return nd(a);case"keypress":return a.which!==32?null:(td=!0,ad);case"textInput":return e=a.data,e===ad&&td?null:e;default:return null}}function Rg(e,a){if(Vl)return e==="compositionend"||!yi&&ld(e,a)?(e=Iu(),Ds=gi=Kt=null,Vl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ed&&a.locale!=="ko"?null:a.data;default:return null}}var Hg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sd(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!Hg[e.type]:a==="textarea"}function rd(e,a,t,l){Ql?Xl?Xl.push(l):Xl=[l]:Ql=l,a=wr(a,"onChange"),0<a.length&&(t=new Os("onChange","change",null,t,l),e.push({event:t,listeners:a}))}var Hn=null,Bn=null;function Bg(e){q0(e,0)}function Rs(e){var a=Dn(e);if(Yu(a))return e}function id(e,a){if(e==="change")return a}var cd=!1;if(yt){var pi;if(yt){var vi="oninput"in document;if(!vi){var ud=document.createElement("div");ud.setAttribute("oninput","return;"),vi=typeof ud.oninput=="function"}pi=vi}else pi=!1;cd=pi&&(!document.documentMode||9<document.documentMode)}function dd(){Hn&&(Hn.detachEvent("onpropertychange",od),Bn=Hn=null)}function od(e){if(e.propertyName==="value"&&Rs(Bn)){var a=[];rd(a,Bn,e,di(e)),Zu(Bg,a)}}function Lg(e,a,t){e==="focusin"?(dd(),Hn=a,Bn=t,Hn.attachEvent("onpropertychange",od)):e==="focusout"&&dd()}function Gg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rs(Bn)}function Yg(e,a){if(e==="click")return Rs(a)}function Kg(e,a){if(e==="input"||e==="change")return Rs(a)}function qg(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Ba=typeof Object.is=="function"?Object.is:qg;function Ln(e,a){if(Ba(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var t=Object.keys(e),l=Object.keys(a);if(t.length!==l.length)return!1;for(l=0;l<t.length;l++){var s=t[l];if(!Le.call(a,s)||!Ba(e[s],a[s]))return!1}return!0}function fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gd(e,a){var t=fd(e);e=0;for(var l;t;){if(t.nodeType===3){if(l=e+t.textContent.length,e<=a&&l>=a)return{node:t,offset:a-e};e=l}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=fd(t)}}function md(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?md(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function hd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=Cs(e.document);a instanceof e.HTMLIFrameElement;){try{var t=typeof a.contentWindow.location.href=="string"}catch{t=!1}if(t)e=a.contentWindow;else break;a=Cs(e.document)}return a}function ji(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var Jg=yt&&"documentMode"in document&&11>=document.documentMode,Zl=null,Si=null,Gn=null,Ni=!1;function xd(e,a,t){var l=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Ni||Zl==null||Zl!==Cs(l)||(l=Zl,"selectionStart"in l&&ji(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gn&&Ln(Gn,l)||(Gn=l,l=wr(Si,"onSelect"),0<l.length&&(a=new Os("onSelect","select",null,a,t),e.push({event:a,listeners:l}),a.target=Zl)))}function xl(e,a){var t={};return t[e.toLowerCase()]=a.toLowerCase(),t["Webkit"+e]="webkit"+a,t["Moz"+e]="moz"+a,t}var Il={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionrun:xl("Transition","TransitionRun"),transitionstart:xl("Transition","TransitionStart"),transitioncancel:xl("Transition","TransitionCancel"),transitionend:xl("Transition","TransitionEnd")},wi={},bd={};yt&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function bl(e){if(wi[e])return wi[e];if(!Il[e])return e;var a=Il[e],t;for(t in a)if(a.hasOwnProperty(t)&&t in bd)return wi[e]=a[t];return e}var yd=bl("animationend"),pd=bl("animationiteration"),vd=bl("animationstart"),Qg=bl("transitionrun"),Xg=bl("transitionstart"),Vg=bl("transitioncancel"),jd=bl("transitionend"),Sd=new Map,ki="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ki.push("scrollEnd");function rt(e,a){Sd.set(e,a),ml(a,[e])}var Hs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ia=[],$l=0,Ai=0;function Bs(){for(var e=$l,a=Ai=$l=0;a<e;){var t=Ia[a];Ia[a++]=null;var l=Ia[a];Ia[a++]=null;var s=Ia[a];Ia[a++]=null;var r=Ia[a];if(Ia[a++]=null,l!==null&&s!==null){var i=l.pending;i===null?s.next=s:(s.next=i.next,i.next=s),l.pending=s}r!==0&&Nd(t,s,r)}}function Ls(e,a,t,l){Ia[$l++]=e,Ia[$l++]=a,Ia[$l++]=t,Ia[$l++]=l,Ai|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ei(e,a,t,l){return Ls(e,a,t,l),Gs(e)}function yl(e,a){return Ls(e,null,null,a),Gs(e)}function Nd(e,a,t){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t);for(var s=!1,r=e.return;r!==null;)r.childLanes|=t,l=r.alternate,l!==null&&(l.childLanes|=t),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&a!==null&&(s=31-ie(t),e=r.hiddenUpdates,l=e[s],l===null?e[s]=[a]:l.push(a),a.lane=t|536870912),r):null}function Gs(e){if(50<cs)throw cs=0,Rc=null,Error(o(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var Fl={};function Zg(e,a,t,l){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function La(e,a,t,l){return new Zg(e,a,t,l)}function Ti(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pt(e,a){var t=e.alternate;return t===null?(t=La(e.tag,a,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=a,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&65011712,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,a=e.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t.refCleanup=e.refCleanup,t}function wd(e,a){e.flags&=65011714;var t=e.alternate;return t===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=t.childLanes,e.lanes=t.lanes,e.child=t.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=t.memoizedProps,e.memoizedState=t.memoizedState,e.updateQueue=t.updateQueue,e.type=t.type,a=t.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Ys(e,a,t,l,s,r){var i=0;if(l=e,typeof e=="function")Ti(e)&&(i=1);else if(typeof e=="string")i=Pm(e,t,Ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case je:return e=La(31,t,a,s),e.elementType=je,e.lanes=r,e;case ee:return pl(t.children,s,r,a);case q:i=8,s|=24;break;case X:return e=La(12,t,a,s|2),e.elementType=X,e.lanes=r,e;case W:return e=La(13,t,a,s),e.elementType=W,e.lanes=r,e;case le:return e=La(19,t,a,s),e.elementType=le,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:i=10;break e;case Q:i=9;break e;case N:i=11;break e;case Y:i=14;break e;case se:i=16,l=null;break e}i=29,t=Error(o(130,e===null?"null":typeof e,"")),l=null}return a=La(i,t,a,s),a.elementType=e,a.type=l,a.lanes=r,a}function pl(e,a,t,l){return e=La(7,e,l,a),e.lanes=t,e}function Ci(e,a,t){return e=La(6,e,null,a),e.lanes=t,e}function kd(e){var a=La(18,null,null,0);return a.stateNode=e,a}function zi(e,a,t){return a=La(4,e.children!==null?e.children:[],e.key,a),a.lanes=t,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Ad=new WeakMap;function $a(e,a){if(typeof e=="object"&&e!==null){var t=Ad.get(e);return t!==void 0?t:(a={value:e,source:a,stack:ua(a)},Ad.set(e,a),a)}return{value:e,source:a,stack:ua(a)}}var Wl=[],Pl=0,Ks=null,Yn=0,Fa=[],Wa=0,qt=null,ot=1,ft="";function vt(e,a){Wl[Pl++]=Yn,Wl[Pl++]=Ks,Ks=e,Yn=a}function Ed(e,a,t){Fa[Wa++]=ot,Fa[Wa++]=ft,Fa[Wa++]=qt,qt=e;var l=ot;e=ft;var s=32-ie(l)-1;l&=~(1<<s),t+=1;var r=32-ie(a)+s;if(30<r){var i=s-s%5;r=(l&(1<<i)-1).toString(32),l>>=i,s-=i,ot=1<<32-ie(a)+s|t<<s|l,ft=r+e}else ot=1<<r|t<<s|l,ft=e}function Di(e){e.return!==null&&(vt(e,1),Ed(e,1,0))}function _i(e){for(;e===Ks;)Ks=Wl[--Pl],Wl[Pl]=null,Yn=Wl[--Pl],Wl[Pl]=null;for(;e===qt;)qt=Fa[--Wa],Fa[Wa]=null,ft=Fa[--Wa],Fa[Wa]=null,ot=Fa[--Wa],Fa[Wa]=null}function Td(e,a){Fa[Wa++]=ot,Fa[Wa++]=ft,Fa[Wa++]=qt,ot=a.id,ft=a.overflow,qt=e}var va=null,We=null,De=!1,Jt=null,Pa=!1,Mi=Error(o(519));function Qt(e){var a=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kn($a(a,e)),Mi}function Cd(e){var a=e.stateNode,t=e.type,l=e.memoizedProps;switch(a[pa]=e,a[Ca]=l,t){case"dialog":ke("cancel",a),ke("close",a);break;case"iframe":case"object":case"embed":ke("load",a);break;case"video":case"audio":for(t=0;t<ds.length;t++)ke(ds[t],a);break;case"source":ke("error",a);break;case"img":case"image":case"link":ke("error",a),ke("load",a);break;case"details":ke("toggle",a);break;case"input":ke("invalid",a),Ku(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",a);break;case"textarea":ke("invalid",a),Ju(a,l.value,l.defaultValue,l.children)}t=l.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||a.textContent===""+t||l.suppressHydrationWarning===!0||V0(a.textContent,t)?(l.popover!=null&&(ke("beforetoggle",a),ke("toggle",a)),l.onScroll!=null&&ke("scroll",a),l.onScrollEnd!=null&&ke("scrollend",a),l.onClick!=null&&(a.onclick=bt),a=!0):a=!1,a||Qt(e,!0)}function zd(e){for(va=e.return;va;)switch(va.tag){case 5:case 31:case 13:Pa=!1;return;case 27:case 3:Pa=!0;return;default:va=va.return}}function en(e){if(e!==va)return!1;if(!De)return zd(e),De=!0,!1;var a=e.tag,t;if((t=a!==3&&a!==27)&&((t=a===5)&&(t=e.type,t=!(t!=="form"&&t!=="button")||Fc(e.type,e.memoizedProps)),t=!t),t&&We&&Qt(e),zd(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));We=tf(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));We=tf(e)}else a===27?(a=We,sl(e.type)?(e=tu,tu=null,We=e):We=a):We=va?at(e.stateNode.nextSibling):null;return!0}function vl(){We=va=null,De=!1}function Oi(){var e=Jt;return e!==null&&(Oa===null?Oa=e:Oa.push.apply(Oa,e),Jt=null),e}function Kn(e){Jt===null?Jt=[e]:Jt.push(e)}var Ui=Me(null),jl=null,jt=null;function Xt(e,a,t){ue(Ui,a._currentValue),a._currentValue=t}function St(e){e._currentValue=Ui.current,oe(Ui)}function Ri(e,a,t){for(;e!==null;){var l=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),e===t)break;e=e.return}}function Hi(e,a,t,l){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var i=s.child;r=r.firstContext;e:for(;r!==null;){var u=r;r=s;for(var f=0;f<a.length;f++)if(u.context===a[f]){r.lanes|=t,u=r.alternate,u!==null&&(u.lanes|=t),Ri(r.return,t,e),l||(i=null);break e}r=u.next}}else if(s.tag===18){if(i=s.return,i===null)throw Error(o(341));i.lanes|=t,r=i.alternate,r!==null&&(r.lanes|=t),Ri(i,t,e),i=null}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}}function an(e,a,t,l){e=null;for(var s=a,r=!1;s!==null;){if(!r){if((s.flags&524288)!==0)r=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var i=s.alternate;if(i===null)throw Error(o(387));if(i=i.memoizedProps,i!==null){var u=s.type;Ba(s.pendingProps.value,i.value)||(e!==null?e.push(u):e=[u])}}else if(s===Ze.current){if(i=s.alternate,i===null)throw Error(o(387));i.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(hs):e=[hs])}s=s.return}e!==null&&Hi(a,e,t,l),a.flags|=262144}function qs(e){for(e=e.firstContext;e!==null;){if(!Ba(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sl(e){jl=e,jt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ja(e){return Dd(jl,e)}function Js(e,a){return jl===null&&Sl(e),Dd(e,a)}function Dd(e,a){var t=a._currentValue;if(a={context:a,memoizedValue:t,next:null},jt===null){if(e===null)throw Error(o(308));jt=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else jt=jt.next=a;return t}var Ig=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(t,l){e.push(l)}};this.abort=function(){a.aborted=!0,e.forEach(function(t){return t()})}},$g=c.unstable_scheduleCallback,Fg=c.unstable_NormalPriority,oa={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bi(){return{controller:new Ig,data:new Map,refCount:0}}function qn(e){e.refCount--,e.refCount===0&&$g(Fg,function(){e.controller.abort()})}var Jn=null,Li=0,tn=0,ln=null;function Wg(e,a){if(Jn===null){var t=Jn=[];Li=0,tn=Kc(),ln={status:"pending",value:void 0,then:function(l){t.push(l)}}}return Li++,a.then(_d,_d),a}function _d(){if(--Li===0&&Jn!==null){ln!==null&&(ln.status="fulfilled");var e=Jn;Jn=null,tn=0,ln=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function Pg(e,a){var t=[],l={status:"pending",value:null,reason:null,then:function(s){t.push(s)}};return e.then(function(){l.status="fulfilled",l.value=a;for(var s=0;s<t.length;s++)(0,t[s])(a)},function(s){for(l.status="rejected",l.reason=s,s=0;s<t.length;s++)(0,t[s])(void 0)}),l}var Md=m.S;m.S=function(e,a){b0=ze(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Wg(e,a),Md!==null&&Md(e,a)};var Nl=Me(null);function Gi(){var e=Nl.current;return e!==null?e:$e.pooledCache}function Qs(e,a){a===null?ue(Nl,Nl.current):ue(Nl,a.pool)}function Od(){var e=Gi();return e===null?null:{parent:oa._currentValue,pool:e}}var nn=Error(o(460)),Yi=Error(o(474)),Xs=Error(o(542)),Vs={then:function(){}};function Ud(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rd(e,a,t){switch(t=e[t],t===void 0?e.push(a):t!==a&&(a.then(bt,bt),a=t),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Bd(e),e;default:if(typeof a.status=="string")a.then(bt,bt);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=a,e.status="pending",e.then(function(l){if(a.status==="pending"){var s=a;s.status="fulfilled",s.value=l}},function(l){if(a.status==="pending"){var s=a;s.status="rejected",s.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Bd(e),e}throw kl=a,nn}}function wl(e){try{var a=e._init;return a(e._payload)}catch(t){throw t!==null&&typeof t=="object"&&typeof t.then=="function"?(kl=t,nn):t}}var kl=null;function Hd(){if(kl===null)throw Error(o(459));var e=kl;return kl=null,e}function Bd(e){if(e===nn||e===Xs)throw Error(o(483))}var sn=null,Qn=0;function Zs(e){var a=Qn;return Qn+=1,sn===null&&(sn=[]),Rd(sn,e,a)}function Xn(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Is(e,a){throw a.$$typeof===z?Error(o(525)):(e=Object.prototype.toString.call(a),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Ld(e){function a(x,h){if(e){var y=x.deletions;y===null?(x.deletions=[h],x.flags|=16):y.push(h)}}function t(x,h){if(!e)return null;for(;h!==null;)a(x,h),h=h.sibling;return null}function l(x){for(var h=new Map;x!==null;)x.key!==null?h.set(x.key,x):h.set(x.index,x),x=x.sibling;return h}function s(x,h){return x=pt(x,h),x.index=0,x.sibling=null,x}function r(x,h,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<h?(x.flags|=67108866,h):y):(x.flags|=67108866,h)):(x.flags|=1048576,h)}function i(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function u(x,h,y,R){return h===null||h.tag!==6?(h=Ci(y,x.mode,R),h.return=x,h):(h=s(h,y),h.return=x,h)}function f(x,h,y,R){var de=y.type;return de===ee?D(x,h,y.props.children,R,y.key):h!==null&&(h.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===se&&wl(de)===h.type)?(h=s(h,y.props),Xn(h,y),h.return=x,h):(h=Ys(y.type,y.key,y.props,null,x.mode,R),Xn(h,y),h.return=x,h)}function p(x,h,y,R){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=zi(y,x.mode,R),h.return=x,h):(h=s(h,y.children||[]),h.return=x,h)}function D(x,h,y,R,de){return h===null||h.tag!==7?(h=pl(y,x.mode,R,de),h.return=x,h):(h=s(h,y),h.return=x,h)}function B(x,h,y){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return h=Ci(""+h,x.mode,y),h.return=x,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case K:return y=Ys(h.type,h.key,h.props,null,x.mode,y),Xn(y,h),y.return=x,y;case M:return h=zi(h,x.mode,y),h.return=x,h;case se:return h=wl(h),B(x,h,y)}if(Fe(h)||te(h))return h=pl(h,x.mode,y,null),h.return=x,h;if(typeof h.then=="function")return B(x,Zs(h),y);if(h.$$typeof===V)return B(x,Js(x,h),y);Is(x,h)}return null}function j(x,h,y,R){var de=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return de!==null?null:u(x,h,""+y,R);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case K:return y.key===de?f(x,h,y,R):null;case M:return y.key===de?p(x,h,y,R):null;case se:return y=wl(y),j(x,h,y,R)}if(Fe(y)||te(y))return de!==null?null:D(x,h,y,R,null);if(typeof y.then=="function")return j(x,h,Zs(y),R);if(y.$$typeof===V)return j(x,h,Js(x,y),R);Is(x,y)}return null}function A(x,h,y,R,de){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return x=x.get(y)||null,u(h,x,""+R,de);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case K:return x=x.get(R.key===null?y:R.key)||null,f(h,x,R,de);case M:return x=x.get(R.key===null?y:R.key)||null,p(h,x,R,de);case se:return R=wl(R),A(x,h,y,R,de)}if(Fe(R)||te(R))return x=x.get(y)||null,D(h,x,R,de,null);if(typeof R.then=="function")return A(x,h,y,Zs(R),de);if(R.$$typeof===V)return A(x,h,y,Js(h,R),de);Is(h,R)}return null}function re(x,h,y,R){for(var de=null,Re=null,ce=h,ve=h=0,Te=null;ce!==null&&ve<y.length;ve++){ce.index>ve?(Te=ce,ce=null):Te=ce.sibling;var He=j(x,ce,y[ve],R);if(He===null){ce===null&&(ce=Te);break}e&&ce&&He.alternate===null&&a(x,ce),h=r(He,h,ve),Re===null?de=He:Re.sibling=He,Re=He,ce=Te}if(ve===y.length)return t(x,ce),De&&vt(x,ve),de;if(ce===null){for(;ve<y.length;ve++)ce=B(x,y[ve],R),ce!==null&&(h=r(ce,h,ve),Re===null?de=ce:Re.sibling=ce,Re=ce);return De&&vt(x,ve),de}for(ce=l(ce);ve<y.length;ve++)Te=A(ce,x,ve,y[ve],R),Te!==null&&(e&&Te.alternate!==null&&ce.delete(Te.key===null?ve:Te.key),h=r(Te,h,ve),Re===null?de=Te:Re.sibling=Te,Re=Te);return e&&ce.forEach(function(dl){return a(x,dl)}),De&&vt(x,ve),de}function fe(x,h,y,R){if(y==null)throw Error(o(151));for(var de=null,Re=null,ce=h,ve=h=0,Te=null,He=y.next();ce!==null&&!He.done;ve++,He=y.next()){ce.index>ve?(Te=ce,ce=null):Te=ce.sibling;var dl=j(x,ce,He.value,R);if(dl===null){ce===null&&(ce=Te);break}e&&ce&&dl.alternate===null&&a(x,ce),h=r(dl,h,ve),Re===null?de=dl:Re.sibling=dl,Re=dl,ce=Te}if(He.done)return t(x,ce),De&&vt(x,ve),de;if(ce===null){for(;!He.done;ve++,He=y.next())He=B(x,He.value,R),He!==null&&(h=r(He,h,ve),Re===null?de=He:Re.sibling=He,Re=He);return De&&vt(x,ve),de}for(ce=l(ce);!He.done;ve++,He=y.next())He=A(ce,x,ve,He.value,R),He!==null&&(e&&He.alternate!==null&&ce.delete(He.key===null?ve:He.key),h=r(He,h,ve),Re===null?de=He:Re.sibling=He,Re=He);return e&&ce.forEach(function(dh){return a(x,dh)}),De&&vt(x,ve),de}function Xe(x,h,y,R){if(typeof y=="object"&&y!==null&&y.type===ee&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case K:e:{for(var de=y.key;h!==null;){if(h.key===de){if(de=y.type,de===ee){if(h.tag===7){t(x,h.sibling),R=s(h,y.props.children),R.return=x,x=R;break e}}else if(h.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===se&&wl(de)===h.type){t(x,h.sibling),R=s(h,y.props),Xn(R,y),R.return=x,x=R;break e}t(x,h);break}else a(x,h);h=h.sibling}y.type===ee?(R=pl(y.props.children,x.mode,R,y.key),R.return=x,x=R):(R=Ys(y.type,y.key,y.props,null,x.mode,R),Xn(R,y),R.return=x,x=R)}return i(x);case M:e:{for(de=y.key;h!==null;){if(h.key===de)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){t(x,h.sibling),R=s(h,y.children||[]),R.return=x,x=R;break e}else{t(x,h);break}else a(x,h);h=h.sibling}R=zi(y,x.mode,R),R.return=x,x=R}return i(x);case se:return y=wl(y),Xe(x,h,y,R)}if(Fe(y))return re(x,h,y,R);if(te(y)){if(de=te(y),typeof de!="function")throw Error(o(150));return y=de.call(y),fe(x,h,y,R)}if(typeof y.then=="function")return Xe(x,h,Zs(y),R);if(y.$$typeof===V)return Xe(x,h,Js(x,y),R);Is(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,h!==null&&h.tag===6?(t(x,h.sibling),R=s(h,y),R.return=x,x=R):(t(x,h),R=Ci(y,x.mode,R),R.return=x,x=R),i(x)):t(x,h)}return function(x,h,y,R){try{Qn=0;var de=Xe(x,h,y,R);return sn=null,de}catch(ce){if(ce===nn||ce===Xs)throw ce;var Re=La(29,ce,null,x.mode);return Re.lanes=R,Re.return=x,Re}finally{}}}var Al=Ld(!0),Gd=Ld(!1),Vt=!1;function Ki(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qi(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Zt(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function It(e,a,t){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Be&2)!==0){var s=l.pending;return s===null?a.next=a:(a.next=s.next,s.next=a),l.pending=a,a=Gs(e),Nd(e,null,t),a}return Ls(e,l,a,t),Gs(e)}function Vn(e,a,t){if(a=a.updateQueue,a!==null&&(a=a.shared,(t&4194048)!==0)){var l=a.lanes;l&=e.pendingLanes,t|=l,a.lanes=t,ht(e,t)}}function Ji(e,a){var t=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,t===l)){var s=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var i={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};r===null?s=r=i:r=r.next=i,t=t.next}while(t!==null);r===null?s=r=a:r=r.next=a}else s=r=a;t={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:l.shared,callbacks:l.callbacks},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=a:e.next=a,t.lastBaseUpdate=a}var Qi=!1;function Zn(){if(Qi){var e=ln;if(e!==null)throw e}}function In(e,a,t,l){Qi=!1;var s=e.updateQueue;Vt=!1;var r=s.firstBaseUpdate,i=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var f=u,p=f.next;f.next=null,i===null?r=p:i.next=p,i=f;var D=e.alternate;D!==null&&(D=D.updateQueue,u=D.lastBaseUpdate,u!==i&&(u===null?D.firstBaseUpdate=p:u.next=p,D.lastBaseUpdate=f))}if(r!==null){var B=s.baseState;i=0,D=p=f=null,u=r;do{var j=u.lane&-536870913,A=j!==u.lane;if(A?(Ee&j)===j:(l&j)===j){j!==0&&j===tn&&(Qi=!0),D!==null&&(D=D.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var re=e,fe=u;j=a;var Xe=t;switch(fe.tag){case 1:if(re=fe.payload,typeof re=="function"){B=re.call(Xe,B,j);break e}B=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=fe.payload,j=typeof re=="function"?re.call(Xe,B,j):re,j==null)break e;B=v({},B,j);break e;case 2:Vt=!0}}j=u.callback,j!==null&&(e.flags|=64,A&&(e.flags|=8192),A=s.callbacks,A===null?s.callbacks=[j]:A.push(j))}else A={lane:j,tag:u.tag,payload:u.payload,callback:u.callback,next:null},D===null?(p=D=A,f=B):D=D.next=A,i|=j;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;A=u,u=A.next,A.next=null,s.lastBaseUpdate=A,s.shared.pending=null}}while(!0);D===null&&(f=B),s.baseState=f,s.firstBaseUpdate=p,s.lastBaseUpdate=D,r===null&&(s.shared.lanes=0),el|=i,e.lanes=i,e.memoizedState=B}}function Yd(e,a){if(typeof e!="function")throw Error(o(191,e));e.call(a)}function Kd(e,a){var t=e.callbacks;if(t!==null)for(e.callbacks=null,e=0;e<t.length;e++)Yd(t[e],a)}var rn=Me(null),$s=Me(0);function qd(e,a){e=Dt,ue($s,e),ue(rn,a),Dt=e|a.baseLanes}function Xi(){ue($s,Dt),ue(rn,rn.current)}function Vi(){Dt=$s.current,oe(rn),oe($s)}var Ga=Me(null),et=null;function $t(e){var a=e.alternate;ue(ia,ia.current&1),ue(Ga,e),et===null&&(a===null||rn.current!==null||a.memoizedState!==null)&&(et=e)}function Zi(e){ue(ia,ia.current),ue(Ga,e),et===null&&(et=e)}function Jd(e){e.tag===22?(ue(ia,ia.current),ue(Ga,e),et===null&&(et=e)):Ft()}function Ft(){ue(ia,ia.current),ue(Ga,Ga.current)}function Ya(e){oe(Ga),et===e&&(et=null),oe(ia)}var ia=Me(0);function Fs(e){for(var a=e;a!==null;){if(a.tag===13){var t=a.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||eu(t)||au(t)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Nt=0,pe=null,Je=null,fa=null,Ws=!1,cn=!1,El=!1,Ps=0,$n=0,un=null,em=0;function la(){throw Error(o(321))}function Ii(e,a){if(a===null)return!1;for(var t=0;t<a.length&&t<e.length;t++)if(!Ba(e[t],a[t]))return!1;return!0}function $i(e,a,t,l,s,r){return Nt=r,pe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,m.H=e===null||e.memoizedState===null?To:oc,El=!1,r=t(l,s),El=!1,cn&&(r=Xd(a,t,l,s)),Qd(e),r}function Qd(e){m.H=Pn;var a=Je!==null&&Je.next!==null;if(Nt=0,fa=Je=pe=null,Ws=!1,$n=0,un=null,a)throw Error(o(300));e===null||ga||(e=e.dependencies,e!==null&&qs(e)&&(ga=!0))}function Xd(e,a,t,l){pe=e;var s=0;do{if(cn&&(un=null),$n=0,cn=!1,25<=s)throw Error(o(301));if(s+=1,fa=Je=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}m.H=Co,r=a(t,l)}while(cn);return r}function am(){var e=m.H,a=e.useState()[0];return a=typeof a.then=="function"?Fn(a):a,e=e.useState()[0],(Je!==null?Je.memoizedState:null)!==e&&(pe.flags|=1024),a}function Fi(){var e=Ps!==0;return Ps=0,e}function Wi(e,a,t){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~t}function Pi(e){if(Ws){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Ws=!1}Nt=0,fa=Je=pe=null,cn=!1,$n=Ps=0,un=null}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fa===null?pe.memoizedState=fa=e:fa=fa.next=e,fa}function ca(){if(Je===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var a=fa===null?pe.memoizedState:fa.next;if(a!==null)fa=a,Je=e;else{if(e===null)throw pe.alternate===null?Error(o(467)):Error(o(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},fa===null?pe.memoizedState=fa=e:fa=fa.next=e}return fa}function er(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fn(e){var a=$n;return $n+=1,un===null&&(un=[]),e=Rd(un,e,a),a=pe,(fa===null?a.memoizedState:fa.next)===null&&(a=a.alternate,m.H=a===null||a.memoizedState===null?To:oc),e}function ar(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fn(e);if(e.$$typeof===V)return ja(e)}throw Error(o(438,String(e)))}function ec(e){var a=null,t=pe.updateQueue;if(t!==null&&(a=t.memoCache),a==null){var l=pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(s){return s.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),t===null&&(t=er(),pe.updateQueue=t),t.memoCache=a,t=a.data[a.index],t===void 0)for(t=a.data[a.index]=Array(e),l=0;l<e;l++)t[l]=Ae;return a.index++,t}function wt(e,a){return typeof a=="function"?a(e):a}function tr(e){var a=ca();return ac(a,Je,e)}function ac(e,a,t){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=t;var s=e.baseQueue,r=l.pending;if(r!==null){if(s!==null){var i=s.next;s.next=r.next,r.next=i}a.baseQueue=s=r,l.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{a=s.next;var u=i=null,f=null,p=a,D=!1;do{var B=p.lane&-536870913;if(B!==p.lane?(Ee&B)===B:(Nt&B)===B){var j=p.revertLane;if(j===0)f!==null&&(f=f.next={lane:0,revertLane:0,gesture:null,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),B===tn&&(D=!0);else if((Nt&j)===j){p=p.next,j===tn&&(D=!0);continue}else B={lane:0,revertLane:p.revertLane,gesture:null,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null},f===null?(u=f=B,i=r):f=f.next=B,pe.lanes|=j,el|=j;B=p.action,El&&t(r,B),r=p.hasEagerState?p.eagerState:t(r,B)}else j={lane:B,revertLane:p.revertLane,gesture:p.gesture,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null},f===null?(u=f=j,i=r):f=f.next=j,pe.lanes|=B,el|=B;p=p.next}while(p!==null&&p!==a);if(f===null?i=r:f.next=u,!Ba(r,e.memoizedState)&&(ga=!0,D&&(t=ln,t!==null)))throw t;e.memoizedState=r,e.baseState=i,e.baseQueue=f,l.lastRenderedState=r}return s===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function tc(e){var a=ca(),t=a.queue;if(t===null)throw Error(o(311));t.lastRenderedReducer=e;var l=t.dispatch,s=t.pending,r=a.memoizedState;if(s!==null){t.pending=null;var i=s=s.next;do r=e(r,i.action),i=i.next;while(i!==s);Ba(r,a.memoizedState)||(ga=!0),a.memoizedState=r,a.baseQueue===null&&(a.baseState=r),t.lastRenderedState=r}return[r,l]}function Vd(e,a,t){var l=pe,s=ca(),r=De;if(r){if(t===void 0)throw Error(o(407));t=t()}else t=a();var i=!Ba((Je||s).memoizedState,t);if(i&&(s.memoizedState=t,ga=!0),s=s.queue,sc($d.bind(null,l,s,e),[e]),s.getSnapshot!==a||i||fa!==null&&fa.memoizedState.tag&1){if(l.flags|=2048,dn(9,{destroy:void 0},Id.bind(null,l,s,t,a),null),$e===null)throw Error(o(349));r||(Nt&127)!==0||Zd(l,a,t)}return t}function Zd(e,a,t){e.flags|=16384,e={getSnapshot:a,value:t},a=pe.updateQueue,a===null?(a=er(),pe.updateQueue=a,a.stores=[e]):(t=a.stores,t===null?a.stores=[e]:t.push(e))}function Id(e,a,t,l){a.value=t,a.getSnapshot=l,Fd(a)&&Wd(e)}function $d(e,a,t){return t(function(){Fd(a)&&Wd(e)})}function Fd(e){var a=e.getSnapshot;e=e.value;try{var t=a();return!Ba(e,t)}catch{return!0}}function Wd(e){var a=yl(e,2);a!==null&&Ua(a,e,2)}function lc(e){var a=Ea();if(typeof e=="function"){var t=e;if(e=t(),El){Z(!0);try{t()}finally{Z(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wt,lastRenderedState:e},a}function Pd(e,a,t,l){return e.baseState=t,ac(e,Je,typeof l=="function"?l:wt)}function tm(e,a,t,l,s){if(sr(e))throw Error(o(485));if(e=a.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){r.listeners.push(i)}};m.T!==null?t(!0):r.isTransition=!1,l(r),t=a.pending,t===null?(r.next=a.pending=r,eo(a,r)):(r.next=t.next,a.pending=t.next=r)}}function eo(e,a){var t=a.action,l=a.payload,s=e.state;if(a.isTransition){var r=m.T,i={};m.T=i;try{var u=t(s,l),f=m.S;f!==null&&f(i,u),ao(e,a,u)}catch(p){nc(e,a,p)}finally{r!==null&&i.types!==null&&(r.types=i.types),m.T=r}}else try{r=t(s,l),ao(e,a,r)}catch(p){nc(e,a,p)}}function ao(e,a,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(l){to(e,a,l)},function(l){return nc(e,a,l)}):to(e,a,t)}function to(e,a,t){a.status="fulfilled",a.value=t,lo(a),e.state=t,a=e.pending,a!==null&&(t=a.next,t===a?e.pending=null:(t=t.next,a.next=t,eo(e,t)))}function nc(e,a,t){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=t,lo(a),a=a.next;while(a!==l)}e.action=null}function lo(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function no(e,a){return a}function so(e,a){if(De){var t=$e.formState;if(t!==null){e:{var l=pe;if(De){if(We){a:{for(var s=We,r=Pa;s.nodeType!==8;){if(!r){s=null;break a}if(s=at(s.nextSibling),s===null){s=null;break a}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){We=at(s.nextSibling),l=s.data==="F!";break e}}Qt(l)}l=!1}l&&(a=t[0])}}return t=Ea(),t.memoizedState=t.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:a},t.queue=l,t=ko.bind(null,pe,l),l.dispatch=t,l=lc(!1),r=dc.bind(null,pe,!1,l.queue),l=Ea(),s={state:a,dispatch:null,action:e,pending:null},l.queue=s,t=tm.bind(null,pe,s,r,t),s.dispatch=t,l.memoizedState=e,[a,t,!1]}function ro(e){var a=ca();return io(a,Je,e)}function io(e,a,t){if(a=ac(e,a,no)[0],e=tr(wt)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Fn(a)}catch(i){throw i===nn?Xs:i}else l=a;a=ca();var s=a.queue,r=s.dispatch;return t!==a.memoizedState&&(pe.flags|=2048,dn(9,{destroy:void 0},lm.bind(null,s,t),null)),[l,r,e]}function lm(e,a){e.action=a}function co(e){var a=ca(),t=Je;if(t!==null)return io(a,t,e);ca(),a=a.memoizedState,t=ca();var l=t.queue.dispatch;return t.memoizedState=e,[a,l,!1]}function dn(e,a,t,l){return e={tag:e,create:t,deps:l,inst:a,next:null},a=pe.updateQueue,a===null&&(a=er(),pe.updateQueue=a),t=a.lastEffect,t===null?a.lastEffect=e.next=e:(l=t.next,t.next=e,e.next=l,a.lastEffect=e),e}function uo(){return ca().memoizedState}function lr(e,a,t,l){var s=Ea();pe.flags|=e,s.memoizedState=dn(1|a,{destroy:void 0},t,l===void 0?null:l)}function nr(e,a,t,l){var s=ca();l=l===void 0?null:l;var r=s.memoizedState.inst;Je!==null&&l!==null&&Ii(l,Je.memoizedState.deps)?s.memoizedState=dn(a,r,t,l):(pe.flags|=e,s.memoizedState=dn(1|a,r,t,l))}function oo(e,a){lr(8390656,8,e,a)}function sc(e,a){nr(2048,8,e,a)}function nm(e){pe.flags|=4;var a=pe.updateQueue;if(a===null)a=er(),pe.updateQueue=a,a.events=[e];else{var t=a.events;t===null?a.events=[e]:t.push(e)}}function fo(e){var a=ca().memoizedState;return nm({ref:a,nextImpl:e}),function(){if((Be&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}function go(e,a){return nr(4,2,e,a)}function mo(e,a){return nr(4,4,e,a)}function ho(e,a){if(typeof a=="function"){e=e();var t=a(e);return function(){typeof t=="function"?t():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function xo(e,a,t){t=t!=null?t.concat([e]):null,nr(4,4,ho.bind(null,a,e),t)}function rc(){}function bo(e,a){var t=ca();a=a===void 0?null:a;var l=t.memoizedState;return a!==null&&Ii(a,l[1])?l[0]:(t.memoizedState=[e,a],e)}function yo(e,a){var t=ca();a=a===void 0?null:a;var l=t.memoizedState;if(a!==null&&Ii(a,l[1]))return l[0];if(l=e(),El){Z(!0);try{e()}finally{Z(!1)}}return t.memoizedState=[l,a],l}function ic(e,a,t){return t===void 0||(Nt&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=a:(e.memoizedState=t,e=p0(),pe.lanes|=e,el|=e,t)}function po(e,a,t,l){return Ba(t,a)?t:rn.current!==null?(e=ic(e,t,l),Ba(e,a)||(ga=!0),e):(Nt&42)===0||(Nt&1073741824)!==0&&(Ee&261930)===0?(ga=!0,e.memoizedState=t):(e=p0(),pe.lanes|=e,el|=e,a)}function vo(e,a,t,l,s){var r=E.p;E.p=r!==0&&8>r?r:8;var i=m.T,u={};m.T=u,dc(e,!1,a,t);try{var f=s(),p=m.S;if(p!==null&&p(u,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var D=Pg(f,l);Wn(e,a,D,Ja(e))}else Wn(e,a,l,Ja(e))}catch(B){Wn(e,a,{then:function(){},status:"rejected",reason:B},Ja())}finally{E.p=r,i!==null&&u.types!==null&&(i.types=u.types),m.T=i}}function sm(){}function cc(e,a,t,l){if(e.tag!==5)throw Error(o(476));var s=jo(e).queue;vo(e,s,a,U,t===null?sm:function(){return So(e),t(l)})}function jo(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wt,lastRenderedState:U},next:null};var t={};return a.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wt,lastRenderedState:t},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function So(e){var a=jo(e);a.next===null&&(a=e.alternate.memoizedState),Wn(e,a.next.queue,{},Ja())}function uc(){return ja(hs)}function No(){return ca().memoizedState}function wo(){return ca().memoizedState}function rm(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var t=Ja();e=Zt(t);var l=It(a,e,t);l!==null&&(Ua(l,a,t),Vn(l,a,t)),a={cache:Bi()},e.payload=a;return}a=a.return}}function im(e,a,t){var l=Ja();t={lane:l,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null},sr(e)?Ao(a,t):(t=Ei(e,a,t,l),t!==null&&(Ua(t,e,l),Eo(t,a,l)))}function ko(e,a,t){var l=Ja();Wn(e,a,t,l)}function Wn(e,a,t,l){var s={lane:l,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null};if(sr(e))Ao(a,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=a.lastRenderedReducer,r!==null))try{var i=a.lastRenderedState,u=r(i,t);if(s.hasEagerState=!0,s.eagerState=u,Ba(u,i))return Ls(e,a,s,0),$e===null&&Bs(),!1}catch{}finally{}if(t=Ei(e,a,s,l),t!==null)return Ua(t,e,l),Eo(t,a,l),!0}return!1}function dc(e,a,t,l){if(l={lane:2,revertLane:Kc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},sr(e)){if(a)throw Error(o(479))}else a=Ei(e,t,l,2),a!==null&&Ua(a,e,2)}function sr(e){var a=e.alternate;return e===pe||a!==null&&a===pe}function Ao(e,a){cn=Ws=!0;var t=e.pending;t===null?a.next=a:(a.next=t.next,t.next=a),e.pending=a}function Eo(e,a,t){if((t&4194048)!==0){var l=a.lanes;l&=e.pendingLanes,t|=l,a.lanes=t,ht(e,t)}}var Pn={readContext:ja,use:ar,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useLayoutEffect:la,useInsertionEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useDeferredValue:la,useTransition:la,useSyncExternalStore:la,useId:la,useHostTransitionStatus:la,useFormState:la,useActionState:la,useOptimistic:la,useMemoCache:la,useCacheRefresh:la};Pn.useEffectEvent=la;var To={readContext:ja,use:ar,useCallback:function(e,a){return Ea().memoizedState=[e,a===void 0?null:a],e},useContext:ja,useEffect:oo,useImperativeHandle:function(e,a,t){t=t!=null?t.concat([e]):null,lr(4194308,4,ho.bind(null,a,e),t)},useLayoutEffect:function(e,a){return lr(4194308,4,e,a)},useInsertionEffect:function(e,a){lr(4,2,e,a)},useMemo:function(e,a){var t=Ea();a=a===void 0?null:a;var l=e();if(El){Z(!0);try{e()}finally{Z(!1)}}return t.memoizedState=[l,a],l},useReducer:function(e,a,t){var l=Ea();if(t!==void 0){var s=t(a);if(El){Z(!0);try{t(a)}finally{Z(!1)}}}else s=a;return l.memoizedState=l.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},l.queue=e,e=e.dispatch=im.bind(null,pe,e),[l.memoizedState,e]},useRef:function(e){var a=Ea();return e={current:e},a.memoizedState=e},useState:function(e){e=lc(e);var a=e.queue,t=ko.bind(null,pe,a);return a.dispatch=t,[e.memoizedState,t]},useDebugValue:rc,useDeferredValue:function(e,a){var t=Ea();return ic(t,e,a)},useTransition:function(){var e=lc(!1);return e=vo.bind(null,pe,e.queue,!0,!1),Ea().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,t){var l=pe,s=Ea();if(De){if(t===void 0)throw Error(o(407));t=t()}else{if(t=a(),$e===null)throw Error(o(349));(Ee&127)!==0||Zd(l,a,t)}s.memoizedState=t;var r={value:t,getSnapshot:a};return s.queue=r,oo($d.bind(null,l,r,e),[e]),l.flags|=2048,dn(9,{destroy:void 0},Id.bind(null,l,r,t,a),null),t},useId:function(){var e=Ea(),a=$e.identifierPrefix;if(De){var t=ft,l=ot;t=(l&~(1<<32-ie(l)-1)).toString(32)+t,a="_"+a+"R_"+t,t=Ps++,0<t&&(a+="H"+t.toString(32)),a+="_"}else t=em++,a="_"+a+"r_"+t.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:uc,useFormState:so,useActionState:so,useOptimistic:function(e){var a=Ea();a.memoizedState=a.baseState=e;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=t,a=dc.bind(null,pe,!0,t),t.dispatch=a,[e,a]},useMemoCache:ec,useCacheRefresh:function(){return Ea().memoizedState=rm.bind(null,pe)},useEffectEvent:function(e){var a=Ea(),t={impl:e};return a.memoizedState=t,function(){if((Be&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}},oc={readContext:ja,use:ar,useCallback:bo,useContext:ja,useEffect:sc,useImperativeHandle:xo,useInsertionEffect:go,useLayoutEffect:mo,useMemo:yo,useReducer:tr,useRef:uo,useState:function(){return tr(wt)},useDebugValue:rc,useDeferredValue:function(e,a){var t=ca();return po(t,Je.memoizedState,e,a)},useTransition:function(){var e=tr(wt)[0],a=ca().memoizedState;return[typeof e=="boolean"?e:Fn(e),a]},useSyncExternalStore:Vd,useId:No,useHostTransitionStatus:uc,useFormState:ro,useActionState:ro,useOptimistic:function(e,a){var t=ca();return Pd(t,Je,e,a)},useMemoCache:ec,useCacheRefresh:wo};oc.useEffectEvent=fo;var Co={readContext:ja,use:ar,useCallback:bo,useContext:ja,useEffect:sc,useImperativeHandle:xo,useInsertionEffect:go,useLayoutEffect:mo,useMemo:yo,useReducer:tc,useRef:uo,useState:function(){return tc(wt)},useDebugValue:rc,useDeferredValue:function(e,a){var t=ca();return Je===null?ic(t,e,a):po(t,Je.memoizedState,e,a)},useTransition:function(){var e=tc(wt)[0],a=ca().memoizedState;return[typeof e=="boolean"?e:Fn(e),a]},useSyncExternalStore:Vd,useId:No,useHostTransitionStatus:uc,useFormState:co,useActionState:co,useOptimistic:function(e,a){var t=ca();return Je!==null?Pd(t,Je,e,a):(t.baseState=e,[e,t.queue.dispatch])},useMemoCache:ec,useCacheRefresh:wo};Co.useEffectEvent=fo;function fc(e,a,t,l){a=e.memoizedState,t=t(l,a),t=t==null?a:v({},a,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var gc={enqueueSetState:function(e,a,t){e=e._reactInternals;var l=Ja(),s=Zt(l);s.payload=a,t!=null&&(s.callback=t),a=It(e,s,l),a!==null&&(Ua(a,e,l),Vn(a,e,l))},enqueueReplaceState:function(e,a,t){e=e._reactInternals;var l=Ja(),s=Zt(l);s.tag=1,s.payload=a,t!=null&&(s.callback=t),a=It(e,s,l),a!==null&&(Ua(a,e,l),Vn(a,e,l))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var t=Ja(),l=Zt(t);l.tag=2,a!=null&&(l.callback=a),a=It(e,l,t),a!==null&&(Ua(a,e,t),Vn(a,e,t))}};function zo(e,a,t,l,s,r,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,r,i):a.prototype&&a.prototype.isPureReactComponent?!Ln(t,l)||!Ln(s,r):!0}function Do(e,a,t,l){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(t,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(t,l),a.state!==e&&gc.enqueueReplaceState(a,a.state,null)}function Tl(e,a){var t=a;if("ref"in a){t={};for(var l in a)l!=="ref"&&(t[l]=a[l])}if(e=e.defaultProps){t===a&&(t=v({},t));for(var s in e)t[s]===void 0&&(t[s]=e[s])}return t}function _o(e){Hs(e)}function Mo(e){console.error(e)}function Oo(e){Hs(e)}function rr(e,a){try{var t=e.onUncaughtError;t(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Uo(e,a,t){try{var l=e.onCaughtError;l(t.value,{componentStack:t.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function mc(e,a,t){return t=Zt(t),t.tag=3,t.payload={element:null},t.callback=function(){rr(e,a)},t}function Ro(e){return e=Zt(e),e.tag=3,e}function Ho(e,a,t,l){var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=l.value;e.payload=function(){return s(r)},e.callback=function(){Uo(a,t,l)}}var i=t.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){Uo(a,t,l),typeof s!="function"&&(al===null?al=new Set([this]):al.add(this));var u=l.stack;this.componentDidCatch(l.value,{componentStack:u!==null?u:""})})}function cm(e,a,t,l,s){if(t.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=t.alternate,a!==null&&an(a,t,s,!0),t=Ga.current,t!==null){switch(t.tag){case 31:case 13:return et===null?yr():t.alternate===null&&na===0&&(na=3),t.flags&=-257,t.flags|=65536,t.lanes=s,l===Vs?t.flags|=16384:(a=t.updateQueue,a===null?t.updateQueue=new Set([l]):a.add(l),Lc(e,l,s)),!1;case 22:return t.flags|=65536,l===Vs?t.flags|=16384:(a=t.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},t.updateQueue=a):(t=a.retryQueue,t===null?a.retryQueue=new Set([l]):t.add(l)),Lc(e,l,s)),!1}throw Error(o(435,t.tag))}return Lc(e,l,s),yr(),!1}if(De)return a=Ga.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=s,l!==Mi&&(e=Error(o(422),{cause:l}),Kn($a(e,t)))):(l!==Mi&&(a=Error(o(423),{cause:l}),Kn($a(a,t))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,l=$a(l,t),s=mc(e.stateNode,l,s),Ji(e,s),na!==4&&(na=2)),!1;var r=Error(o(520),{cause:l});if(r=$a(r,t),is===null?is=[r]:is.push(r),na!==4&&(na=2),a===null)return!0;l=$a(l,t),t=a;do{switch(t.tag){case 3:return t.flags|=65536,e=s&-s,t.lanes|=e,e=mc(t.stateNode,l,e),Ji(t,e),!1;case 1:if(a=t.type,r=t.stateNode,(t.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(al===null||!al.has(r))))return t.flags|=65536,s&=-s,t.lanes|=s,s=Ro(s),Ho(s,e,t,l),Ji(t,s),!1}t=t.return}while(t!==null);return!1}var hc=Error(o(461)),ga=!1;function Sa(e,a,t,l){a.child=e===null?Gd(a,null,t,l):Al(a,e.child,t,l)}function Bo(e,a,t,l,s){t=t.render;var r=a.ref;if("ref"in l){var i={};for(var u in l)u!=="ref"&&(i[u]=l[u])}else i=l;return Sl(a),l=$i(e,a,t,i,r,s),u=Fi(),e!==null&&!ga?(Wi(e,a,s),kt(e,a,s)):(De&&u&&Di(a),a.flags|=1,Sa(e,a,l,s),a.child)}function Lo(e,a,t,l,s){if(e===null){var r=t.type;return typeof r=="function"&&!Ti(r)&&r.defaultProps===void 0&&t.compare===null?(a.tag=15,a.type=r,Go(e,a,r,l,s)):(e=Ys(t.type,null,l,a,a.mode,s),e.ref=a.ref,e.return=a,a.child=e)}if(r=e.child,!Nc(e,s)){var i=r.memoizedProps;if(t=t.compare,t=t!==null?t:Ln,t(i,l)&&e.ref===a.ref)return kt(e,a,s)}return a.flags|=1,e=pt(r,l),e.ref=a.ref,e.return=a,a.child=e}function Go(e,a,t,l,s){if(e!==null){var r=e.memoizedProps;if(Ln(r,l)&&e.ref===a.ref)if(ga=!1,a.pendingProps=l=r,Nc(e,s))(e.flags&131072)!==0&&(ga=!0);else return a.lanes=e.lanes,kt(e,a,s)}return xc(e,a,t,l,s)}function Yo(e,a,t,l){var s=l.children,r=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(r=r!==null?r.baseLanes|t:t,e!==null){for(l=a.child=e.child,s=0;l!==null;)s=s|l.lanes|l.childLanes,l=l.sibling;l=s&~r}else l=0,a.child=null;return Ko(e,a,r,t,l)}if((t&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qs(a,r!==null?r.cachePool:null),r!==null?qd(a,r):Xi(),Jd(a);else return l=a.lanes=536870912,Ko(e,a,r!==null?r.baseLanes|t:t,t,l)}else r!==null?(Qs(a,r.cachePool),qd(a,r),Ft(),a.memoizedState=null):(e!==null&&Qs(a,null),Xi(),Ft());return Sa(e,a,s,t),a.child}function es(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Ko(e,a,t,l,s){var r=Gi();return r=r===null?null:{parent:oa._currentValue,pool:r},a.memoizedState={baseLanes:t,cachePool:r},e!==null&&Qs(a,null),Xi(),Jd(a),e!==null&&an(e,a,l,!0),a.childLanes=s,null}function ir(e,a){return a=ur({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function qo(e,a,t){return Al(a,e.child,null,t),e=ir(a,a.pendingProps),e.flags|=2,Ya(a),a.memoizedState=null,e}function um(e,a,t){var l=a.pendingProps,s=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(De){if(l.mode==="hidden")return e=ir(a,l),a.lanes=536870912,es(null,e);if(Zi(a),(e=We)?(e=af(e,Pa),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:qt!==null?{id:ot,overflow:ft}:null,retryLane:536870912,hydrationErrors:null},t=kd(e),t.return=a,a.child=t,va=a,We=null)):e=null,e===null)throw Qt(a);return a.lanes=536870912,null}return ir(a,l)}var r=e.memoizedState;if(r!==null){var i=r.dehydrated;if(Zi(a),s)if(a.flags&256)a.flags&=-257,a=qo(e,a,t);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(o(558));else if(ga||an(e,a,t,!1),s=(t&e.childLanes)!==0,ga||s){if(l=$e,l!==null&&(i=Gt(l,t),i!==0&&i!==r.retryLane))throw r.retryLane=i,yl(e,i),Ua(l,e,i),hc;yr(),a=qo(e,a,t)}else e=r.treeContext,We=at(i.nextSibling),va=a,De=!0,Jt=null,Pa=!1,e!==null&&Td(a,e),a=ir(a,l),a.flags|=4096;return a}return e=pt(e.child,{mode:l.mode,children:l.children}),e.ref=a.ref,a.child=e,e.return=a,e}function cr(e,a){var t=a.ref;if(t===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(o(284));(e===null||e.ref!==t)&&(a.flags|=4194816)}}function xc(e,a,t,l,s){return Sl(a),t=$i(e,a,t,l,void 0,s),l=Fi(),e!==null&&!ga?(Wi(e,a,s),kt(e,a,s)):(De&&l&&Di(a),a.flags|=1,Sa(e,a,t,s),a.child)}function Jo(e,a,t,l,s,r){return Sl(a),a.updateQueue=null,t=Xd(a,l,t,s),Qd(e),l=Fi(),e!==null&&!ga?(Wi(e,a,r),kt(e,a,r)):(De&&l&&Di(a),a.flags|=1,Sa(e,a,t,r),a.child)}function Qo(e,a,t,l,s){if(Sl(a),a.stateNode===null){var r=Fl,i=t.contextType;typeof i=="object"&&i!==null&&(r=ja(i)),r=new t(l,r),a.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=gc,a.stateNode=r,r._reactInternals=a,r=a.stateNode,r.props=l,r.state=a.memoizedState,r.refs={},Ki(a),i=t.contextType,r.context=typeof i=="object"&&i!==null?ja(i):Fl,r.state=a.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fc(a,t,i,l),r.state=a.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(i=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),i!==r.state&&gc.enqueueReplaceState(r,r.state,null),In(a,l,r,s),Zn(),r.state=a.memoizedState),typeof r.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(e===null){r=a.stateNode;var u=a.memoizedProps,f=Tl(t,u);r.props=f;var p=r.context,D=t.contextType;i=Fl,typeof D=="object"&&D!==null&&(i=ja(D));var B=t.getDerivedStateFromProps;D=typeof B=="function"||typeof r.getSnapshotBeforeUpdate=="function",u=a.pendingProps!==u,D||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(u||p!==i)&&Do(a,r,l,i),Vt=!1;var j=a.memoizedState;r.state=j,In(a,l,r,s),Zn(),p=a.memoizedState,u||j!==p||Vt?(typeof B=="function"&&(fc(a,t,B,l),p=a.memoizedState),(f=Vt||zo(a,t,f,l,j,p,i))?(D||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(a.flags|=4194308)):(typeof r.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=p),r.props=l,r.state=p,r.context=i,l=f):(typeof r.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{r=a.stateNode,qi(e,a),i=a.memoizedProps,D=Tl(t,i),r.props=D,B=a.pendingProps,j=r.context,p=t.contextType,f=Fl,typeof p=="object"&&p!==null&&(f=ja(p)),u=t.getDerivedStateFromProps,(p=typeof u=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(i!==B||j!==f)&&Do(a,r,l,f),Vt=!1,j=a.memoizedState,r.state=j,In(a,l,r,s),Zn();var A=a.memoizedState;i!==B||j!==A||Vt||e!==null&&e.dependencies!==null&&qs(e.dependencies)?(typeof u=="function"&&(fc(a,t,u,l),A=a.memoizedState),(D=Vt||zo(a,t,D,l,j,A,f)||e!==null&&e.dependencies!==null&&qs(e.dependencies))?(p||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(l,A,f),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(l,A,f)),typeof r.componentDidUpdate=="function"&&(a.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&j===e.memoizedState||(a.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&j===e.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=A),r.props=l,r.state=A,r.context=f,l=D):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&j===e.memoizedState||(a.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&j===e.memoizedState||(a.flags|=1024),l=!1)}return r=l,cr(e,a),l=(a.flags&128)!==0,r||l?(r=a.stateNode,t=l&&typeof t.getDerivedStateFromError!="function"?null:r.render(),a.flags|=1,e!==null&&l?(a.child=Al(a,e.child,null,s),a.child=Al(a,null,t,s)):Sa(e,a,t,s),a.memoizedState=r.state,e=a.child):e=kt(e,a,s),e}function Xo(e,a,t,l){return vl(),a.flags|=256,Sa(e,a,t,l),a.child}var bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yc(e){return{baseLanes:e,cachePool:Od()}}function pc(e,a,t){return e=e!==null?e.childLanes&~t:0,a&&(e|=qa),e}function Vo(e,a,t){var l=a.pendingProps,s=!1,r=(a.flags&128)!==0,i;if((i=r)||(i=e!==null&&e.memoizedState===null?!1:(ia.current&2)!==0),i&&(s=!0,a.flags&=-129),i=(a.flags&32)!==0,a.flags&=-33,e===null){if(De){if(s?$t(a):Ft(),(e=We)?(e=af(e,Pa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:qt!==null?{id:ot,overflow:ft}:null,retryLane:536870912,hydrationErrors:null},t=kd(e),t.return=a,a.child=t,va=a,We=null)):e=null,e===null)throw Qt(a);return au(e)?a.lanes=32:a.lanes=536870912,null}var u=l.children;return l=l.fallback,s?(Ft(),s=a.mode,u=ur({mode:"hidden",children:u},s),l=pl(l,s,t,null),u.return=a,l.return=a,u.sibling=l,a.child=u,l=a.child,l.memoizedState=yc(t),l.childLanes=pc(e,i,t),a.memoizedState=bc,es(null,l)):($t(a),vc(a,u))}var f=e.memoizedState;if(f!==null&&(u=f.dehydrated,u!==null)){if(r)a.flags&256?($t(a),a.flags&=-257,a=jc(e,a,t)):a.memoizedState!==null?(Ft(),a.child=e.child,a.flags|=128,a=null):(Ft(),u=l.fallback,s=a.mode,l=ur({mode:"visible",children:l.children},s),u=pl(u,s,t,null),u.flags|=2,l.return=a,u.return=a,l.sibling=u,a.child=l,Al(a,e.child,null,t),l=a.child,l.memoizedState=yc(t),l.childLanes=pc(e,i,t),a.memoizedState=bc,a=es(null,l));else if($t(a),au(u)){if(i=u.nextSibling&&u.nextSibling.dataset,i)var p=i.dgst;i=p,l=Error(o(419)),l.stack="",l.digest=i,Kn({value:l,source:null,stack:null}),a=jc(e,a,t)}else if(ga||an(e,a,t,!1),i=(t&e.childLanes)!==0,ga||i){if(i=$e,i!==null&&(l=Gt(i,t),l!==0&&l!==f.retryLane))throw f.retryLane=l,yl(e,l),Ua(i,e,l),hc;eu(u)||yr(),a=jc(e,a,t)}else eu(u)?(a.flags|=192,a.child=e.child,a=null):(e=f.treeContext,We=at(u.nextSibling),va=a,De=!0,Jt=null,Pa=!1,e!==null&&Td(a,e),a=vc(a,l.children),a.flags|=4096);return a}return s?(Ft(),u=l.fallback,s=a.mode,f=e.child,p=f.sibling,l=pt(f,{mode:"hidden",children:l.children}),l.subtreeFlags=f.subtreeFlags&65011712,p!==null?u=pt(p,u):(u=pl(u,s,t,null),u.flags|=2),u.return=a,l.return=a,l.sibling=u,a.child=l,es(null,l),l=a.child,u=e.child.memoizedState,u===null?u=yc(t):(s=u.cachePool,s!==null?(f=oa._currentValue,s=s.parent!==f?{parent:f,pool:f}:s):s=Od(),u={baseLanes:u.baseLanes|t,cachePool:s}),l.memoizedState=u,l.childLanes=pc(e,i,t),a.memoizedState=bc,es(e.child,l)):($t(a),t=e.child,e=t.sibling,t=pt(t,{mode:"visible",children:l.children}),t.return=a,t.sibling=null,e!==null&&(i=a.deletions,i===null?(a.deletions=[e],a.flags|=16):i.push(e)),a.child=t,a.memoizedState=null,t)}function vc(e,a){return a=ur({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function ur(e,a){return e=La(22,e,null,a),e.lanes=0,e}function jc(e,a,t){return Al(a,e.child,null,t),e=vc(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Zo(e,a,t){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a),Ri(e.return,a,t)}function Sc(e,a,t,l,s,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:t,tailMode:s,treeForkCount:r}:(i.isBackwards=a,i.rendering=null,i.renderingStartTime=0,i.last=l,i.tail=t,i.tailMode=s,i.treeForkCount=r)}function Io(e,a,t){var l=a.pendingProps,s=l.revealOrder,r=l.tail;l=l.children;var i=ia.current,u=(i&2)!==0;if(u?(i=i&1|2,a.flags|=128):i&=1,ue(ia,i),Sa(e,a,l,t),l=De?Yn:0,!u&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zo(e,t,a);else if(e.tag===19)Zo(e,t,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(t=a.child,s=null;t!==null;)e=t.alternate,e!==null&&Fs(e)===null&&(s=t),t=t.sibling;t=s,t===null?(s=a.child,a.child=null):(s=t.sibling,t.sibling=null),Sc(a,!1,s,t,r,l);break;case"backwards":case"unstable_legacy-backwards":for(t=null,s=a.child,a.child=null;s!==null;){if(e=s.alternate,e!==null&&Fs(e)===null){a.child=s;break}e=s.sibling,s.sibling=t,t=s,s=e}Sc(a,!0,t,null,r,l);break;case"together":Sc(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function kt(e,a,t){if(e!==null&&(a.dependencies=e.dependencies),el|=a.lanes,(t&a.childLanes)===0)if(e!==null){if(an(e,a,t,!1),(t&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(o(153));if(a.child!==null){for(e=a.child,t=pt(e,e.pendingProps),a.child=t,t.return=a;e.sibling!==null;)e=e.sibling,t=t.sibling=pt(e,e.pendingProps),t.return=a;t.sibling=null}return a.child}function Nc(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&qs(e)))}function dm(e,a,t){switch(a.tag){case 3:aa(a,a.stateNode.containerInfo),Xt(a,oa,e.memoizedState.cache),vl();break;case 27:case 5:be(a);break;case 4:aa(a,a.stateNode.containerInfo);break;case 10:Xt(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Zi(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?($t(a),a.flags|=128,null):(t&a.child.childLanes)!==0?Vo(e,a,t):($t(a),e=kt(e,a,t),e!==null?e.sibling:null);$t(a);break;case 19:var s=(e.flags&128)!==0;if(l=(t&a.childLanes)!==0,l||(an(e,a,t,!1),l=(t&a.childLanes)!==0),s){if(l)return Io(e,a,t);a.flags|=128}if(s=a.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ia,ia.current),l)break;return null;case 22:return a.lanes=0,Yo(e,a,t,a.pendingProps);case 24:Xt(a,oa,e.memoizedState.cache)}return kt(e,a,t)}function $o(e,a,t){if(e!==null)if(e.memoizedProps!==a.pendingProps)ga=!0;else{if(!Nc(e,t)&&(a.flags&128)===0)return ga=!1,dm(e,a,t);ga=(e.flags&131072)!==0}else ga=!1,De&&(a.flags&1048576)!==0&&Ed(a,Yn,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(e=wl(a.elementType),a.type=e,typeof e=="function")Ti(e)?(l=Tl(e,l),a.tag=1,a=Qo(null,a,e,l,t)):(a.tag=0,a=xc(null,a,e,l,t));else{if(e!=null){var s=e.$$typeof;if(s===N){a.tag=11,a=Bo(null,a,e,l,t);break e}else if(s===Y){a.tag=14,a=Lo(null,a,e,l,t);break e}}throw a=_e(e)||e,Error(o(306,a,""))}}return a;case 0:return xc(e,a,a.type,a.pendingProps,t);case 1:return l=a.type,s=Tl(l,a.pendingProps),Qo(e,a,l,s,t);case 3:e:{if(aa(a,a.stateNode.containerInfo),e===null)throw Error(o(387));l=a.pendingProps;var r=a.memoizedState;s=r.element,qi(e,a),In(a,l,null,t);var i=a.memoizedState;if(l=i.cache,Xt(a,oa,l),l!==r.cache&&Hi(a,[oa],t,!0),Zn(),l=i.element,r.isDehydrated)if(r={element:l,isDehydrated:!1,cache:i.cache},a.updateQueue.baseState=r,a.memoizedState=r,a.flags&256){a=Xo(e,a,l,t);break e}else if(l!==s){s=$a(Error(o(424)),a),Kn(s),a=Xo(e,a,l,t);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(We=at(e.firstChild),va=a,De=!0,Jt=null,Pa=!0,t=Gd(a,null,l,t),a.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling}else{if(vl(),l===s){a=kt(e,a,t);break e}Sa(e,a,l,t)}a=a.child}return a;case 26:return cr(e,a),e===null?(t=cf(a.type,null,a.pendingProps,null))?a.memoizedState=t:De||(t=a.type,e=a.pendingProps,l=kr(ye.current).createElement(t),l[pa]=a,l[Ca]=e,Na(l,t,e),xa(l),a.stateNode=l):a.memoizedState=cf(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return be(a),e===null&&De&&(l=a.stateNode=nf(a.type,a.pendingProps,ye.current),va=a,Pa=!0,s=We,sl(a.type)?(tu=s,We=at(l.firstChild)):We=s),Sa(e,a,a.pendingProps.children,t),cr(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&De&&((s=l=We)&&(l=Gm(l,a.type,a.pendingProps,Pa),l!==null?(a.stateNode=l,va=a,We=at(l.firstChild),Pa=!1,s=!0):s=!1),s||Qt(a)),be(a),s=a.type,r=a.pendingProps,i=e!==null?e.memoizedProps:null,l=r.children,Fc(s,r)?l=null:i!==null&&Fc(s,i)&&(a.flags|=32),a.memoizedState!==null&&(s=$i(e,a,am,null,null,t),hs._currentValue=s),cr(e,a),Sa(e,a,l,t),a.child;case 6:return e===null&&De&&((e=t=We)&&(t=Ym(t,a.pendingProps,Pa),t!==null?(a.stateNode=t,va=a,We=null,e=!0):e=!1),e||Qt(a)),null;case 13:return Vo(e,a,t);case 4:return aa(a,a.stateNode.containerInfo),l=a.pendingProps,e===null?a.child=Al(a,null,l,t):Sa(e,a,l,t),a.child;case 11:return Bo(e,a,a.type,a.pendingProps,t);case 7:return Sa(e,a,a.pendingProps,t),a.child;case 8:return Sa(e,a,a.pendingProps.children,t),a.child;case 12:return Sa(e,a,a.pendingProps.children,t),a.child;case 10:return l=a.pendingProps,Xt(a,a.type,l.value),Sa(e,a,l.children,t),a.child;case 9:return s=a.type._context,l=a.pendingProps.children,Sl(a),s=ja(s),l=l(s),a.flags|=1,Sa(e,a,l,t),a.child;case 14:return Lo(e,a,a.type,a.pendingProps,t);case 15:return Go(e,a,a.type,a.pendingProps,t);case 19:return Io(e,a,t);case 31:return um(e,a,t);case 22:return Yo(e,a,t,a.pendingProps);case 24:return Sl(a),l=ja(oa),e===null?(s=Gi(),s===null&&(s=$e,r=Bi(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=t),s=r),a.memoizedState={parent:l,cache:s},Ki(a),Xt(a,oa,s)):((e.lanes&t)!==0&&(qi(e,a),In(a,null,null,t),Zn()),s=e.memoizedState,r=a.memoizedState,s.parent!==l?(s={parent:l,cache:l},a.memoizedState=s,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=s),Xt(a,oa,l)):(l=r.cache,Xt(a,oa,l),l!==s.cache&&Hi(a,[oa],t,!0))),Sa(e,a,a.pendingProps.children,t),a.child;case 29:throw a.pendingProps}throw Error(o(156,a.tag))}function At(e){e.flags|=4}function wc(e,a,t,l,s){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(N0())e.flags|=8192;else throw kl=Vs,Yi}else e.flags&=-16777217}function Fo(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gf(a))if(N0())e.flags|=8192;else throw kl=Vs,Yi}function dr(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?gl():536870912,e.lanes|=a,mn|=a)}function as(e,a){if(!De)switch(e.tailMode){case"hidden":a=e.tail;for(var t=null;a!==null;)a.alternate!==null&&(t=a),a=a.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Pe(e){var a=e.alternate!==null&&e.alternate.child===e.child,t=0,l=0;if(a)for(var s=e.child;s!==null;)t|=s.lanes|s.childLanes,l|=s.subtreeFlags&65011712,l|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)t|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=t,a}function om(e,a,t){var l=a.pendingProps;switch(_i(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(a),null;case 1:return Pe(a),null;case 3:return t=a.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),St(oa),ge(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(e===null||e.child===null)&&(en(a)?At(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Oi())),Pe(a),null;case 26:var s=a.type,r=a.memoizedState;return e===null?(At(a),r!==null?(Pe(a),Fo(a,r)):(Pe(a),wc(a,s,null,l,t))):r?r!==e.memoizedState?(At(a),Pe(a),Fo(a,r)):(Pe(a),a.flags&=-16777217):(e=e.memoizedProps,e!==l&&At(a),Pe(a),wc(a,s,e,l,t)),null;case 27:if(Ue(a),t=ye.current,s=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==l&&At(a);else{if(!l){if(a.stateNode===null)throw Error(o(166));return Pe(a),null}e=Ne.current,en(a)?Cd(a):(e=nf(s,l,t),a.stateNode=e,At(a))}return Pe(a),null;case 5:if(Ue(a),s=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==l&&At(a);else{if(!l){if(a.stateNode===null)throw Error(o(166));return Pe(a),null}if(r=Ne.current,en(a))Cd(a);else{var i=kr(ye.current);switch(r){case 1:r=i.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=i.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=i.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=i.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=i.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?i.createElement("select",{is:l.is}):i.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?i.createElement(s,{is:l.is}):i.createElement(s)}}r[pa]=a,r[Ca]=l;e:for(i=a.child;i!==null;){if(i.tag===5||i.tag===6)r.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}a.stateNode=r;e:switch(Na(r,s,l),s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&At(a)}}return Pe(a),wc(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,t),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==l&&At(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(o(166));if(e=ye.current,en(a)){if(e=a.stateNode,t=a.memoizedProps,l=null,s=va,s!==null)switch(s.tag){case 27:case 5:l=s.memoizedProps}e[pa]=a,e=!!(e.nodeValue===t||l!==null&&l.suppressHydrationWarning===!0||V0(e.nodeValue,t)),e||Qt(a,!0)}else e=kr(e).createTextNode(l),e[pa]=a,a.stateNode=e}return Pe(a),null;case 31:if(t=a.memoizedState,e===null||e.memoizedState!==null){if(l=en(a),t!==null){if(e===null){if(!l)throw Error(o(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[pa]=a}else vl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pe(a),e=!1}else t=Oi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=t),e=!0;if(!e)return a.flags&256?(Ya(a),a):(Ya(a),null);if((a.flags&128)!==0)throw Error(o(558))}return Pe(a),null;case 13:if(l=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=en(a),l!==null&&l.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[pa]=a}else vl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pe(a),s=!1}else s=Oi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return a.flags&256?(Ya(a),a):(Ya(a),null)}return Ya(a),(a.flags&128)!==0?(a.lanes=t,a):(t=l!==null,e=e!==null&&e.memoizedState!==null,t&&(l=a.child,s=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(s=l.alternate.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==s&&(l.flags|=2048)),t!==e&&t&&(a.child.flags|=8192),dr(a,a.updateQueue),Pe(a),null);case 4:return ge(),e===null&&Xc(a.stateNode.containerInfo),Pe(a),null;case 10:return St(a.type),Pe(a),null;case 19:if(oe(ia),l=a.memoizedState,l===null)return Pe(a),null;if(s=(a.flags&128)!==0,r=l.rendering,r===null)if(s)as(l,!1);else{if(na!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(r=Fs(e),r!==null){for(a.flags|=128,as(l,!1),e=r.updateQueue,a.updateQueue=e,dr(a,e),a.subtreeFlags=0,e=t,t=a.child;t!==null;)wd(t,e),t=t.sibling;return ue(ia,ia.current&1|2),De&&vt(a,l.treeForkCount),a.child}e=e.sibling}l.tail!==null&&ze()>hr&&(a.flags|=128,s=!0,as(l,!1),a.lanes=4194304)}else{if(!s)if(e=Fs(r),e!==null){if(a.flags|=128,s=!0,e=e.updateQueue,a.updateQueue=e,dr(a,e),as(l,!0),l.tail===null&&l.tailMode==="hidden"&&!r.alternate&&!De)return Pe(a),null}else 2*ze()-l.renderingStartTime>hr&&t!==536870912&&(a.flags|=128,s=!0,as(l,!1),a.lanes=4194304);l.isBackwards?(r.sibling=a.child,a.child=r):(e=l.last,e!==null?e.sibling=r:a.child=r,l.last=r)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ze(),e.sibling=null,t=ia.current,ue(ia,s?t&1|2:t&1),De&&vt(a,l.treeForkCount),e):(Pe(a),null);case 22:case 23:return Ya(a),Vi(),l=a.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(t&536870912)!==0&&(a.flags&128)===0&&(Pe(a),a.subtreeFlags&6&&(a.flags|=8192)):Pe(a),t=a.updateQueue,t!==null&&dr(a,t.retryQueue),t=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==t&&(a.flags|=2048),e!==null&&oe(Nl),null;case 24:return t=null,e!==null&&(t=e.memoizedState.cache),a.memoizedState.cache!==t&&(a.flags|=2048),St(oa),Pe(a),null;case 25:return null;case 30:return null}throw Error(o(156,a.tag))}function fm(e,a){switch(_i(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return St(oa),ge(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return Ue(a),null;case 31:if(a.memoizedState!==null){if(Ya(a),a.alternate===null)throw Error(o(340));vl()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Ya(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(o(340));vl()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return oe(ia),null;case 4:return ge(),null;case 10:return St(a.type),null;case 22:case 23:return Ya(a),Vi(),e!==null&&oe(Nl),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return St(oa),null;case 25:return null;default:return null}}function Wo(e,a){switch(_i(a),a.tag){case 3:St(oa),ge();break;case 26:case 27:case 5:Ue(a);break;case 4:ge();break;case 31:a.memoizedState!==null&&Ya(a);break;case 13:Ya(a);break;case 19:oe(ia);break;case 10:St(a.type);break;case 22:case 23:Ya(a),Vi(),e!==null&&oe(Nl);break;case 24:St(oa)}}function ts(e,a){try{var t=a.updateQueue,l=t!==null?t.lastEffect:null;if(l!==null){var s=l.next;t=s;do{if((t.tag&e)===e){l=void 0;var r=t.create,i=t.inst;l=r(),i.destroy=l}t=t.next}while(t!==s)}}catch(u){qe(a,a.return,u)}}function Wt(e,a,t){try{var l=a.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var r=s.next;l=r;do{if((l.tag&e)===e){var i=l.inst,u=i.destroy;if(u!==void 0){i.destroy=void 0,s=a;var f=t,p=u;try{p()}catch(D){qe(s,f,D)}}}l=l.next}while(l!==r)}}catch(D){qe(a,a.return,D)}}function Po(e){var a=e.updateQueue;if(a!==null){var t=e.stateNode;try{Kd(a,t)}catch(l){qe(e,e.return,l)}}}function e0(e,a,t){t.props=Tl(e.type,e.memoizedProps),t.state=e.memoizedState;try{t.componentWillUnmount()}catch(l){qe(e,a,l)}}function ls(e,a){try{var t=e.ref;if(t!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof t=="function"?e.refCleanup=t(l):t.current=l}}catch(s){qe(e,a,s)}}function gt(e,a){var t=e.ref,l=e.refCleanup;if(t!==null)if(typeof l=="function")try{l()}catch(s){qe(e,a,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(s){qe(e,a,s)}else t.current=null}function a0(e){var a=e.type,t=e.memoizedProps,l=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":t.autoFocus&&l.focus();break e;case"img":t.src?l.src=t.src:t.srcSet&&(l.srcset=t.srcSet)}}catch(s){qe(e,e.return,s)}}function kc(e,a,t){try{var l=e.stateNode;Om(l,e.type,t,a),l[Ca]=a}catch(s){qe(e,e.return,s)}}function t0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sl(e.type)||e.tag===4}function Ac(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||t0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ec(e,a,t){var l=e.tag;if(l===5||l===6)e=e.stateNode,a?(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).insertBefore(e,a):(a=t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.appendChild(e),t=t._reactRootContainer,t!=null||a.onclick!==null||(a.onclick=bt));else if(l!==4&&(l===27&&sl(e.type)&&(t=e.stateNode,a=null),e=e.child,e!==null))for(Ec(e,a,t),e=e.sibling;e!==null;)Ec(e,a,t),e=e.sibling}function or(e,a,t){var l=e.tag;if(l===5||l===6)e=e.stateNode,a?t.insertBefore(e,a):t.appendChild(e);else if(l!==4&&(l===27&&sl(e.type)&&(t=e.stateNode),e=e.child,e!==null))for(or(e,a,t),e=e.sibling;e!==null;)or(e,a,t),e=e.sibling}function l0(e){var a=e.stateNode,t=e.memoizedProps;try{for(var l=e.type,s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Na(a,l,t),a[pa]=e,a[Ca]=t}catch(r){qe(e,e.return,r)}}var Et=!1,ma=!1,Tc=!1,n0=typeof WeakSet=="function"?WeakSet:Set,ba=null;function gm(e,a){if(e=e.containerInfo,Ic=_r,e=hd(e),ji(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var l=t.getSelection&&t.getSelection();if(l&&l.rangeCount!==0){t=l.anchorNode;var s=l.anchorOffset,r=l.focusNode;l=l.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var i=0,u=-1,f=-1,p=0,D=0,B=e,j=null;a:for(;;){for(var A;B!==t||s!==0&&B.nodeType!==3||(u=i+s),B!==r||l!==0&&B.nodeType!==3||(f=i+l),B.nodeType===3&&(i+=B.nodeValue.length),(A=B.firstChild)!==null;)j=B,B=A;for(;;){if(B===e)break a;if(j===t&&++p===s&&(u=i),j===r&&++D===l&&(f=i),(A=B.nextSibling)!==null)break;B=j,j=B.parentNode}B=A}t=u===-1||f===-1?null:{start:u,end:f}}else t=null}t=t||{start:0,end:0}}else t=null;for($c={focusedElem:e,selectionRange:t},_r=!1,ba=a;ba!==null;)if(a=ba,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,ba=e;else for(;ba!==null;){switch(a=ba,r=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(t=0;t<e.length;t++)s=e[t],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,t=a,s=r.memoizedProps,r=r.memoizedState,l=t.stateNode;try{var re=Tl(t.type,s);e=l.getSnapshotBeforeUpdate(re,r),l.__reactInternalSnapshotBeforeUpdate=e}catch(fe){qe(t,t.return,fe)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,t=e.nodeType,t===9)Pc(e);else if(t===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=a.sibling,e!==null){e.return=a.return,ba=e;break}ba=a.return}}function s0(e,a,t){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Ct(e,t),l&4&&ts(5,t);break;case 1:if(Ct(e,t),l&4)if(e=t.stateNode,a===null)try{e.componentDidMount()}catch(i){qe(t,t.return,i)}else{var s=Tl(t.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(s,a,e.__reactInternalSnapshotBeforeUpdate)}catch(i){qe(t,t.return,i)}}l&64&&Po(t),l&512&&ls(t,t.return);break;case 3:if(Ct(e,t),l&64&&(e=t.updateQueue,e!==null)){if(a=null,t.child!==null)switch(t.child.tag){case 27:case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}try{Kd(e,a)}catch(i){qe(t,t.return,i)}}break;case 27:a===null&&l&4&&l0(t);case 26:case 5:Ct(e,t),a===null&&l&4&&a0(t),l&512&&ls(t,t.return);break;case 12:Ct(e,t);break;case 31:Ct(e,t),l&4&&c0(e,t);break;case 13:Ct(e,t),l&4&&u0(e,t),l&64&&(e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(t=Sm.bind(null,t),Km(e,t))));break;case 22:if(l=t.memoizedState!==null||Et,!l){a=a!==null&&a.memoizedState!==null||ma,s=Et;var r=ma;Et=l,(ma=a)&&!r?zt(e,t,(t.subtreeFlags&8772)!==0):Ct(e,t),Et=s,ma=r}break;case 30:break;default:Ct(e,t)}}function r0(e){var a=e.alternate;a!==null&&(e.alternate=null,r0(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&ni(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ea=null,Da=!1;function Tt(e,a,t){for(t=t.child;t!==null;)i0(e,a,t),t=t.sibling}function i0(e,a,t){if(J&&typeof J.onCommitFiberUnmount=="function")try{J.onCommitFiberUnmount(b,t)}catch{}switch(t.tag){case 26:ma||gt(t,a),Tt(e,a,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:ma||gt(t,a);var l=ea,s=Da;sl(t.type)&&(ea=t.stateNode,Da=!1),Tt(e,a,t),fs(t.stateNode),ea=l,Da=s;break;case 5:ma||gt(t,a);case 6:if(l=ea,s=Da,ea=null,Tt(e,a,t),ea=l,Da=s,ea!==null)if(Da)try{(ea.nodeType===9?ea.body:ea.nodeName==="HTML"?ea.ownerDocument.body:ea).removeChild(t.stateNode)}catch(r){qe(t,a,r)}else try{ea.removeChild(t.stateNode)}catch(r){qe(t,a,r)}break;case 18:ea!==null&&(Da?(e=ea,P0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,t.stateNode),Sn(e)):P0(ea,t.stateNode));break;case 4:l=ea,s=Da,ea=t.stateNode.containerInfo,Da=!0,Tt(e,a,t),ea=l,Da=s;break;case 0:case 11:case 14:case 15:Wt(2,t,a),ma||Wt(4,t,a),Tt(e,a,t);break;case 1:ma||(gt(t,a),l=t.stateNode,typeof l.componentWillUnmount=="function"&&e0(t,a,l)),Tt(e,a,t);break;case 21:Tt(e,a,t);break;case 22:ma=(l=ma)||t.memoizedState!==null,Tt(e,a,t),ma=l;break;default:Tt(e,a,t)}}function c0(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Sn(e)}catch(t){qe(a,a.return,t)}}}function u0(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Sn(e)}catch(t){qe(a,a.return,t)}}function mm(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new n0),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new n0),a;default:throw Error(o(435,e.tag))}}function fr(e,a){var t=mm(e);a.forEach(function(l){if(!t.has(l)){t.add(l);var s=Nm.bind(null,e,l);l.then(s,s)}})}function _a(e,a){var t=a.deletions;if(t!==null)for(var l=0;l<t.length;l++){var s=t[l],r=e,i=a,u=i;e:for(;u!==null;){switch(u.tag){case 27:if(sl(u.type)){ea=u.stateNode,Da=!1;break e}break;case 5:ea=u.stateNode,Da=!1;break e;case 3:case 4:ea=u.stateNode.containerInfo,Da=!0;break e}u=u.return}if(ea===null)throw Error(o(160));i0(r,i,s),ea=null,Da=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)d0(a,e),a=a.sibling}var it=null;function d0(e,a){var t=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_a(a,e),Ma(e),l&4&&(Wt(3,e,e.return),ts(3,e),Wt(5,e,e.return));break;case 1:_a(a,e),Ma(e),l&512&&(ma||t===null||gt(t,t.return)),l&64&&Et&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(t=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=t===null?l:t.concat(l))));break;case 26:var s=it;if(_a(a,e),Ma(e),l&512&&(ma||t===null||gt(t,t.return)),l&4){var r=t!==null?t.memoizedState:null;if(l=e.memoizedState,t===null)if(l===null)if(e.stateNode===null){e:{l=e.type,t=e.memoizedProps,s=s.ownerDocument||s;a:switch(l){case"title":r=s.getElementsByTagName("title")[0],(!r||r[zn]||r[pa]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(l),s.head.insertBefore(r,s.querySelector("head > title"))),Na(r,l,t),r[pa]=e,xa(r),l=r;break e;case"link":var i=of("link","href",s).get(l+(t.href||""));if(i){for(var u=0;u<i.length;u++)if(r=i[u],r.getAttribute("href")===(t.href==null||t.href===""?null:t.href)&&r.getAttribute("rel")===(t.rel==null?null:t.rel)&&r.getAttribute("title")===(t.title==null?null:t.title)&&r.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){i.splice(u,1);break a}}r=s.createElement(l),Na(r,l,t),s.head.appendChild(r);break;case"meta":if(i=of("meta","content",s).get(l+(t.content||""))){for(u=0;u<i.length;u++)if(r=i[u],r.getAttribute("content")===(t.content==null?null:""+t.content)&&r.getAttribute("name")===(t.name==null?null:t.name)&&r.getAttribute("property")===(t.property==null?null:t.property)&&r.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&r.getAttribute("charset")===(t.charSet==null?null:t.charSet)){i.splice(u,1);break a}}r=s.createElement(l),Na(r,l,t),s.head.appendChild(r);break;default:throw Error(o(468,l))}r[pa]=e,xa(r),l=r}e.stateNode=l}else ff(s,e.type,e.stateNode);else e.stateNode=df(s,l,e.memoizedProps);else r!==l?(r===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):r.count--,l===null?ff(s,e.type,e.stateNode):df(s,l,e.memoizedProps)):l===null&&e.stateNode!==null&&kc(e,e.memoizedProps,t.memoizedProps)}break;case 27:_a(a,e),Ma(e),l&512&&(ma||t===null||gt(t,t.return)),t!==null&&l&4&&kc(e,e.memoizedProps,t.memoizedProps);break;case 5:if(_a(a,e),Ma(e),l&512&&(ma||t===null||gt(t,t.return)),e.flags&32){s=e.stateNode;try{Jl(s,"")}catch(re){qe(e,e.return,re)}}l&4&&e.stateNode!=null&&(s=e.memoizedProps,kc(e,s,t!==null?t.memoizedProps:s)),l&1024&&(Tc=!0);break;case 6:if(_a(a,e),Ma(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,t=e.stateNode;try{t.nodeValue=l}catch(re){qe(e,e.return,re)}}break;case 3:if(Tr=null,s=it,it=Ar(a.containerInfo),_a(a,e),it=s,Ma(e),l&4&&t!==null&&t.memoizedState.isDehydrated)try{Sn(a.containerInfo)}catch(re){qe(e,e.return,re)}Tc&&(Tc=!1,o0(e));break;case 4:l=it,it=Ar(e.stateNode.containerInfo),_a(a,e),Ma(e),it=l;break;case 12:_a(a,e),Ma(e);break;case 31:_a(a,e),Ma(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fr(e,l)));break;case 13:_a(a,e),Ma(e),e.child.flags&8192&&e.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(mr=ze()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fr(e,l)));break;case 22:s=e.memoizedState!==null;var f=t!==null&&t.memoizedState!==null,p=Et,D=ma;if(Et=p||s,ma=D||f,_a(a,e),ma=D,Et=p,Ma(e),l&8192)e:for(a=e.stateNode,a._visibility=s?a._visibility&-2:a._visibility|1,s&&(t===null||f||Et||ma||Cl(e)),t=null,a=e;;){if(a.tag===5||a.tag===26){if(t===null){f=t=a;try{if(r=f.stateNode,s)i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{u=f.stateNode;var B=f.memoizedProps.style,j=B!=null&&B.hasOwnProperty("display")?B.display:null;u.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(re){qe(f,f.return,re)}}}else if(a.tag===6){if(t===null){f=a;try{f.stateNode.nodeValue=s?"":f.memoizedProps}catch(re){qe(f,f.return,re)}}}else if(a.tag===18){if(t===null){f=a;try{var A=f.stateNode;s?ef(A,!0):ef(f.stateNode,!1)}catch(re){qe(f,f.return,re)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;t===a&&(t=null),a=a.return}t===a&&(t=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=e.updateQueue,l!==null&&(t=l.retryQueue,t!==null&&(l.retryQueue=null,fr(e,t))));break;case 19:_a(a,e),Ma(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fr(e,l)));break;case 30:break;case 21:break;default:_a(a,e),Ma(e)}}function Ma(e){var a=e.flags;if(a&2){try{for(var t,l=e.return;l!==null;){if(t0(l)){t=l;break}l=l.return}if(t==null)throw Error(o(160));switch(t.tag){case 27:var s=t.stateNode,r=Ac(e);or(e,r,s);break;case 5:var i=t.stateNode;t.flags&32&&(Jl(i,""),t.flags&=-33);var u=Ac(e);or(e,u,i);break;case 3:case 4:var f=t.stateNode.containerInfo,p=Ac(e);Ec(e,p,f);break;default:throw Error(o(161))}}catch(D){qe(e,e.return,D)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function o0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;o0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Ct(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)s0(e,a.alternate,a),a=a.sibling}function Cl(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:Wt(4,a,a.return),Cl(a);break;case 1:gt(a,a.return);var t=a.stateNode;typeof t.componentWillUnmount=="function"&&e0(a,a.return,t),Cl(a);break;case 27:fs(a.stateNode);case 26:case 5:gt(a,a.return),Cl(a);break;case 22:a.memoizedState===null&&Cl(a);break;case 30:Cl(a);break;default:Cl(a)}e=e.sibling}}function zt(e,a,t){for(t=t&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,s=e,r=a,i=r.flags;switch(r.tag){case 0:case 11:case 15:zt(s,r,t),ts(4,r);break;case 1:if(zt(s,r,t),l=r,s=l.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(p){qe(l,l.return,p)}if(l=r,s=l.updateQueue,s!==null){var u=l.stateNode;try{var f=s.shared.hiddenCallbacks;if(f!==null)for(s.shared.hiddenCallbacks=null,s=0;s<f.length;s++)Yd(f[s],u)}catch(p){qe(l,l.return,p)}}t&&i&64&&Po(r),ls(r,r.return);break;case 27:l0(r);case 26:case 5:zt(s,r,t),t&&l===null&&i&4&&a0(r),ls(r,r.return);break;case 12:zt(s,r,t);break;case 31:zt(s,r,t),t&&i&4&&c0(s,r);break;case 13:zt(s,r,t),t&&i&4&&u0(s,r);break;case 22:r.memoizedState===null&&zt(s,r,t),ls(r,r.return);break;case 30:break;default:zt(s,r,t)}a=a.sibling}}function Cc(e,a){var t=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==t&&(e!=null&&e.refCount++,t!=null&&qn(t))}function zc(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&qn(e))}function ct(e,a,t,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)f0(e,a,t,l),a=a.sibling}function f0(e,a,t,l){var s=a.flags;switch(a.tag){case 0:case 11:case 15:ct(e,a,t,l),s&2048&&ts(9,a);break;case 1:ct(e,a,t,l);break;case 3:ct(e,a,t,l),s&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&qn(e)));break;case 12:if(s&2048){ct(e,a,t,l),e=a.stateNode;try{var r=a.memoizedProps,i=r.id,u=r.onPostCommit;typeof u=="function"&&u(i,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(f){qe(a,a.return,f)}}else ct(e,a,t,l);break;case 31:ct(e,a,t,l);break;case 13:ct(e,a,t,l);break;case 23:break;case 22:r=a.stateNode,i=a.alternate,a.memoizedState!==null?r._visibility&2?ct(e,a,t,l):ns(e,a):r._visibility&2?ct(e,a,t,l):(r._visibility|=2,on(e,a,t,l,(a.subtreeFlags&10256)!==0||!1)),s&2048&&Cc(i,a);break;case 24:ct(e,a,t,l),s&2048&&zc(a.alternate,a);break;default:ct(e,a,t,l)}}function on(e,a,t,l,s){for(s=s&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var r=e,i=a,u=t,f=l,p=i.flags;switch(i.tag){case 0:case 11:case 15:on(r,i,u,f,s),ts(8,i);break;case 23:break;case 22:var D=i.stateNode;i.memoizedState!==null?D._visibility&2?on(r,i,u,f,s):ns(r,i):(D._visibility|=2,on(r,i,u,f,s)),s&&p&2048&&Cc(i.alternate,i);break;case 24:on(r,i,u,f,s),s&&p&2048&&zc(i.alternate,i);break;default:on(r,i,u,f,s)}a=a.sibling}}function ns(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var t=e,l=a,s=l.flags;switch(l.tag){case 22:ns(t,l),s&2048&&Cc(l.alternate,l);break;case 24:ns(t,l),s&2048&&zc(l.alternate,l);break;default:ns(t,l)}a=a.sibling}}var ss=8192;function fn(e,a,t){if(e.subtreeFlags&ss)for(e=e.child;e!==null;)g0(e,a,t),e=e.sibling}function g0(e,a,t){switch(e.tag){case 26:fn(e,a,t),e.flags&ss&&e.memoizedState!==null&&eh(t,it,e.memoizedState,e.memoizedProps);break;case 5:fn(e,a,t);break;case 3:case 4:var l=it;it=Ar(e.stateNode.containerInfo),fn(e,a,t),it=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ss,ss=16777216,fn(e,a,t),ss=l):fn(e,a,t));break;default:fn(e,a,t)}}function m0(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function rs(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var t=0;t<a.length;t++){var l=a[t];ba=l,x0(l,e)}m0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)h0(e),e=e.sibling}function h0(e){switch(e.tag){case 0:case 11:case 15:rs(e),e.flags&2048&&Wt(9,e,e.return);break;case 3:rs(e);break;case 12:rs(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,gr(e)):rs(e);break;default:rs(e)}}function gr(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var t=0;t<a.length;t++){var l=a[t];ba=l,x0(l,e)}m0(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:Wt(8,a,a.return),gr(a);break;case 22:t=a.stateNode,t._visibility&2&&(t._visibility&=-3,gr(a));break;default:gr(a)}e=e.sibling}}function x0(e,a){for(;ba!==null;){var t=ba;switch(t.tag){case 0:case 11:case 15:Wt(8,t,a);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var l=t.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qn(t.memoizedState.cache)}if(l=t.child,l!==null)l.return=t,ba=l;else e:for(t=e;ba!==null;){l=ba;var s=l.sibling,r=l.return;if(r0(l),l===t){ba=null;break e}if(s!==null){s.return=r,ba=s;break e}ba=r}}}var hm={getCacheForType:function(e){var a=ja(oa),t=a.data.get(e);return t===void 0&&(t=e(),a.data.set(e,t)),t},cacheSignal:function(){return ja(oa).controller.signal}},xm=typeof WeakMap=="function"?WeakMap:Map,Be=0,$e=null,we=null,Ee=0,Ke=0,Ka=null,Pt=!1,gn=!1,Dc=!1,Dt=0,na=0,el=0,zl=0,_c=0,qa=0,mn=0,is=null,Oa=null,Mc=!1,mr=0,b0=0,hr=1/0,xr=null,al=null,ha=0,tl=null,hn=null,_t=0,Oc=0,Uc=null,y0=null,cs=0,Rc=null;function Ja(){return(Be&2)!==0&&Ee!==0?Ee&-Ee:m.T!==null?Kc():Mu()}function p0(){if(qa===0)if((Ee&536870912)===0||De){var e=Aa;Aa<<=1,(Aa&3932160)===0&&(Aa=262144),qa=e}else qa=536870912;return e=Ga.current,e!==null&&(e.flags|=32),qa}function Ua(e,a,t){(e===$e&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(xn(e,0),ll(e,Ee,qa,!1)),Lt(e,t),((Be&2)===0||e!==$e)&&(e===$e&&((Be&2)===0&&(zl|=t),na===4&&ll(e,Ee,qa,!1)),mt(e))}function v0(e,a,t){if((Be&6)!==0)throw Error(o(327));var l=!t&&(a&127)===0&&(a&e.expiredLanes)===0||st(e,a),s=l?pm(e,a):Bc(e,a,!0),r=l;do{if(s===0){gn&&!l&&ll(e,a,0,!1);break}else{if(t=e.current.alternate,r&&!bm(t)){s=Bc(e,a,!1),r=!1;continue}if(s===2){if(r=a,e.errorRecoveryDisabledLanes&r)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){a=i;e:{var u=e;s=is;var f=u.current.memoizedState.isDehydrated;if(f&&(xn(u,i).flags|=256),i=Bc(u,i,!1),i!==2){if(Dc&&!f){u.errorRecoveryDisabledLanes|=r,zl|=r,s=4;break e}r=Oa,Oa=s,r!==null&&(Oa===null?Oa=r:Oa.push.apply(Oa,r))}s=i}if(r=!1,s!==2)continue}}if(s===1){xn(e,0),ll(e,a,0,!0);break}e:{switch(l=e,r=s,r){case 0:case 1:throw Error(o(345));case 4:if((a&4194048)!==a)break;case 6:ll(l,a,qa,!Pt);break e;case 2:Oa=null;break;case 3:case 5:break;default:throw Error(o(329))}if((a&62914560)===a&&(s=mr+300-ze(),10<s)){if(ll(l,a,qa,!Pt),Xa(l,0,!0)!==0)break e;_t=a,l.timeoutHandle=F0(j0.bind(null,l,t,Oa,xr,Mc,a,qa,zl,mn,Pt,r,"Throttled",-0,0),s);break e}j0(l,t,Oa,xr,Mc,a,qa,zl,mn,Pt,r,null,-0,0)}}break}while(!0);mt(e)}function j0(e,a,t,l,s,r,i,u,f,p,D,B,j,A){if(e.timeoutHandle=-1,B=a.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bt},g0(a,r,B);var re=(r&62914560)===r?mr-ze():(r&4194048)===r?b0-ze():0;if(re=ah(B,re),re!==null){_t=r,e.cancelPendingCommit=re(C0.bind(null,e,a,r,t,l,s,i,u,f,D,B,null,j,A)),ll(e,r,i,!p);return}}C0(e,a,r,t,l,s,i,u,f)}function bm(e){for(var a=e;;){var t=a.tag;if((t===0||t===11||t===15)&&a.flags&16384&&(t=a.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var l=0;l<t.length;l++){var s=t[l],r=s.getSnapshot;s=s.value;try{if(!Ba(r(),s))return!1}catch{return!1}}if(t=a.child,a.subtreeFlags&16384&&t!==null)t.return=a,a=t;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ll(e,a,t,l){a&=~_c,a&=~zl,e.suspendedLanes|=a,e.pingedLanes&=~a,l&&(e.warmLanes|=a),l=e.expirationTimes;for(var s=a;0<s;){var r=31-ie(s),i=1<<r;l[r]=-1,s&=~i}t!==0&&ya(e,t,a)}function br(){return(Be&6)===0?(us(0),!1):!0}function Hc(){if(we!==null){if(Ke===0)var e=we.return;else e=we,jt=jl=null,Pi(e),sn=null,Qn=0,e=we;for(;e!==null;)Wo(e.alternate,e),e=e.return;we=null}}function xn(e,a){var t=e.timeoutHandle;t!==-1&&(e.timeoutHandle=-1,Hm(t)),t=e.cancelPendingCommit,t!==null&&(e.cancelPendingCommit=null,t()),_t=0,Hc(),$e=e,we=t=pt(e.current,null),Ee=a,Ke=0,Ka=null,Pt=!1,gn=st(e,a),Dc=!1,mn=qa=_c=zl=el=na=0,Oa=is=null,Mc=!1,(a&8)!==0&&(a|=a&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=a;0<l;){var s=31-ie(l),r=1<<s;a|=e[s],l&=~r}return Dt=a,Bs(),t}function S0(e,a){pe=null,m.H=Pn,a===nn||a===Xs?(a=Hd(),Ke=3):a===Yi?(a=Hd(),Ke=4):Ke=a===hc?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ka=a,we===null&&(na=1,rr(e,$a(a,e.current)))}function N0(){var e=Ga.current;return e===null?!0:(Ee&4194048)===Ee?et===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===et:!1}function w0(){var e=m.H;return m.H=Pn,e===null?Pn:e}function k0(){var e=m.A;return m.A=hm,e}function yr(){na=4,Pt||(Ee&4194048)!==Ee&&Ga.current!==null||(gn=!0),(el&134217727)===0&&(zl&134217727)===0||$e===null||ll($e,Ee,qa,!1)}function Bc(e,a,t){var l=Be;Be|=2;var s=w0(),r=k0();($e!==e||Ee!==a)&&(xr=null,xn(e,a)),a=!1;var i=na;e:do try{if(Ke!==0&&we!==null){var u=we,f=Ka;switch(Ke){case 8:Hc(),i=6;break e;case 3:case 2:case 9:case 6:Ga.current===null&&(a=!0);var p=Ke;if(Ke=0,Ka=null,bn(e,u,f,p),t&&gn){i=0;break e}break;default:p=Ke,Ke=0,Ka=null,bn(e,u,f,p)}}ym(),i=na;break}catch(D){S0(e,D)}while(!0);return a&&e.shellSuspendCounter++,jt=jl=null,Be=l,m.H=s,m.A=r,we===null&&($e=null,Ee=0,Bs()),i}function ym(){for(;we!==null;)A0(we)}function pm(e,a){var t=Be;Be|=2;var l=w0(),s=k0();$e!==e||Ee!==a?(xr=null,hr=ze()+500,xn(e,a)):gn=st(e,a);e:do try{if(Ke!==0&&we!==null){a=we;var r=Ka;a:switch(Ke){case 1:Ke=0,Ka=null,bn(e,a,r,1);break;case 2:case 9:if(Ud(r)){Ke=0,Ka=null,E0(a);break}a=function(){Ke!==2&&Ke!==9||$e!==e||(Ke=7),mt(e)},r.then(a,a);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Ud(r)?(Ke=0,Ka=null,E0(a)):(Ke=0,Ka=null,bn(e,a,r,7));break;case 5:var i=null;switch(we.tag){case 26:i=we.memoizedState;case 5:case 27:var u=we;if(i?gf(i):u.stateNode.complete){Ke=0,Ka=null;var f=u.sibling;if(f!==null)we=f;else{var p=u.return;p!==null?(we=p,pr(p)):we=null}break a}}Ke=0,Ka=null,bn(e,a,r,5);break;case 6:Ke=0,Ka=null,bn(e,a,r,6);break;case 8:Hc(),na=6;break e;default:throw Error(o(462))}}vm();break}catch(D){S0(e,D)}while(!0);return jt=jl=null,m.H=l,m.A=s,Be=t,we!==null?0:($e=null,Ee=0,Bs(),na)}function vm(){for(;we!==null&&!Qa();)A0(we)}function A0(e){var a=$o(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,a===null?pr(e):we=a}function E0(e){var a=e,t=a.alternate;switch(a.tag){case 15:case 0:a=Jo(t,a,a.pendingProps,a.type,void 0,Ee);break;case 11:a=Jo(t,a,a.pendingProps,a.type.render,a.ref,Ee);break;case 5:Pi(a);default:Wo(t,a),a=we=wd(a,Dt),a=$o(t,a,Dt)}e.memoizedProps=e.pendingProps,a===null?pr(e):we=a}function bn(e,a,t,l){jt=jl=null,Pi(a),sn=null,Qn=0;var s=a.return;try{if(cm(e,s,a,t,Ee)){na=1,rr(e,$a(t,e.current)),we=null;return}}catch(r){if(s!==null)throw we=s,r;na=1,rr(e,$a(t,e.current)),we=null;return}a.flags&32768?(De||l===1?e=!0:gn||(Ee&536870912)!==0?e=!1:(Pt=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ga.current,l!==null&&l.tag===13&&(l.flags|=16384))),T0(a,e)):pr(a)}function pr(e){var a=e;do{if((a.flags&32768)!==0){T0(a,Pt);return}e=a.return;var t=om(a.alternate,a,Dt);if(t!==null){we=t;return}if(a=a.sibling,a!==null){we=a;return}we=a=e}while(a!==null);na===0&&(na=5)}function T0(e,a){do{var t=fm(e.alternate,e);if(t!==null){t.flags&=32767,we=t;return}if(t=e.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!a&&(e=e.sibling,e!==null)){we=e;return}we=e=t}while(e!==null);na=6,we=null}function C0(e,a,t,l,s,r,i,u,f){e.cancelPendingCommit=null;do vr();while(ha!==0);if((Be&6)!==0)throw Error(o(327));if(a!==null){if(a===e.current)throw Error(o(177));if(r=a.lanes|a.childLanes,r|=Ai,Ye(e,t,r,i,u,f),e===$e&&(we=$e=null,Ee=0),hn=a,tl=e,_t=t,Oc=r,Uc=s,y0=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wm(dt,function(){return O0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=m.T,m.T=null,s=E.p,E.p=2,i=Be,Be|=4;try{gm(e,a,t)}finally{Be=i,E.p=s,m.T=l}}ha=1,z0(),D0(),_0()}}function z0(){if(ha===1){ha=0;var e=tl,a=hn,t=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||t){t=m.T,m.T=null;var l=E.p;E.p=2;var s=Be;Be|=4;try{d0(a,e);var r=$c,i=hd(e.containerInfo),u=r.focusedElem,f=r.selectionRange;if(i!==u&&u&&u.ownerDocument&&md(u.ownerDocument.documentElement,u)){if(f!==null&&ji(u)){var p=f.start,D=f.end;if(D===void 0&&(D=p),"selectionStart"in u)u.selectionStart=p,u.selectionEnd=Math.min(D,u.value.length);else{var B=u.ownerDocument||document,j=B&&B.defaultView||window;if(j.getSelection){var A=j.getSelection(),re=u.textContent.length,fe=Math.min(f.start,re),Xe=f.end===void 0?fe:Math.min(f.end,re);!A.extend&&fe>Xe&&(i=Xe,Xe=fe,fe=i);var x=gd(u,fe),h=gd(u,Xe);if(x&&h&&(A.rangeCount!==1||A.anchorNode!==x.node||A.anchorOffset!==x.offset||A.focusNode!==h.node||A.focusOffset!==h.offset)){var y=B.createRange();y.setStart(x.node,x.offset),A.removeAllRanges(),fe>Xe?(A.addRange(y),A.extend(h.node,h.offset)):(y.setEnd(h.node,h.offset),A.addRange(y))}}}}for(B=[],A=u;A=A.parentNode;)A.nodeType===1&&B.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<B.length;u++){var R=B[u];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}_r=!!Ic,$c=Ic=null}finally{Be=s,E.p=l,m.T=t}}e.current=a,ha=2}}function D0(){if(ha===2){ha=0;var e=tl,a=hn,t=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||t){t=m.T,m.T=null;var l=E.p;E.p=2;var s=Be;Be|=4;try{s0(e,a.alternate,a)}finally{Be=s,E.p=l,m.T=t}}ha=3}}function _0(){if(ha===4||ha===3){ha=0,Rt();var e=tl,a=hn,t=_t,l=y0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ha=5:(ha=0,hn=tl=null,M0(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(al=null),ti(t),a=a.stateNode,J&&typeof J.onCommitFiberRoot=="function")try{J.onCommitFiberRoot(b,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=m.T,s=E.p,E.p=2,m.T=null;try{for(var r=e.onRecoverableError,i=0;i<l.length;i++){var u=l[i];r(u.value,{componentStack:u.stack})}}finally{m.T=a,E.p=s}}(_t&3)!==0&&vr(),mt(e),s=e.pendingLanes,(t&261930)!==0&&(s&42)!==0?e===Rc?cs++:(cs=0,Rc=e):cs=0,us(0)}}function M0(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,qn(a)))}function vr(){return z0(),D0(),_0(),O0()}function O0(){if(ha!==5)return!1;var e=tl,a=Oc;Oc=0;var t=ti(_t),l=m.T,s=E.p;try{E.p=32>t?32:t,m.T=null,t=Uc,Uc=null;var r=tl,i=_t;if(ha=0,hn=tl=null,_t=0,(Be&6)!==0)throw Error(o(331));var u=Be;if(Be|=4,h0(r.current),f0(r,r.current,i,t),Be=u,us(0,!1),J&&typeof J.onPostCommitFiberRoot=="function")try{J.onPostCommitFiberRoot(b,r)}catch{}return!0}finally{E.p=s,m.T=l,M0(e,a)}}function U0(e,a,t){a=$a(t,a),a=mc(e.stateNode,a,2),e=It(e,a,2),e!==null&&(Lt(e,2),mt(e))}function qe(e,a,t){if(e.tag===3)U0(e,e,t);else for(;a!==null;){if(a.tag===3){U0(a,e,t);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(al===null||!al.has(l))){e=$a(t,e),t=Ro(2),l=It(a,t,2),l!==null&&(Ho(t,l,a,e),Lt(l,2),mt(l));break}}a=a.return}}function Lc(e,a,t){var l=e.pingCache;if(l===null){l=e.pingCache=new xm;var s=new Set;l.set(a,s)}else s=l.get(a),s===void 0&&(s=new Set,l.set(a,s));s.has(t)||(Dc=!0,s.add(t),e=jm.bind(null,e,a,t),a.then(e,e))}function jm(e,a,t){var l=e.pingCache;l!==null&&l.delete(a),e.pingedLanes|=e.suspendedLanes&t,e.warmLanes&=~t,$e===e&&(Ee&t)===t&&(na===4||na===3&&(Ee&62914560)===Ee&&300>ze()-mr?(Be&2)===0&&xn(e,0):_c|=t,mn===Ee&&(mn=0)),mt(e)}function R0(e,a){a===0&&(a=gl()),e=yl(e,a),e!==null&&(Lt(e,a),mt(e))}function Sm(e){var a=e.memoizedState,t=0;a!==null&&(t=a.retryLane),R0(e,t)}function Nm(e,a){var t=0;switch(e.tag){case 31:case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(t=s.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(a),R0(e,t)}function wm(e,a){return da(e,a)}var jr=null,yn=null,Gc=!1,Sr=!1,Yc=!1,nl=0;function mt(e){e!==yn&&e.next===null&&(yn===null?jr=yn=e:yn=yn.next=e),Sr=!0,Gc||(Gc=!0,Am())}function us(e,a){if(!Yc&&Sr){Yc=!0;do for(var t=!1,l=jr;l!==null;){if(e!==0){var s=l.pendingLanes;if(s===0)var r=0;else{var i=l.suspendedLanes,u=l.pingedLanes;r=(1<<31-ie(42|e)+1)-1,r&=s&~(i&~u),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(t=!0,G0(l,r))}else r=Ee,r=Xa(l,l===$e?r:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(r&3)===0||st(l,r)||(t=!0,G0(l,r));l=l.next}while(t);Yc=!1}}function km(){H0()}function H0(){Sr=Gc=!1;var e=0;nl!==0&&Rm()&&(e=nl);for(var a=ze(),t=null,l=jr;l!==null;){var s=l.next,r=B0(l,a);r===0?(l.next=null,t===null?jr=s:t.next=s,s===null&&(yn=t)):(t=l,(e!==0||(r&3)!==0)&&(Sr=!0)),l=s}ha!==0&&ha!==5||us(e),nl!==0&&(nl=0)}function B0(e,a){for(var t=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var i=31-ie(r),u=1<<i,f=s[i];f===-1?((u&t)===0||(u&l)!==0)&&(s[i]=Bt(u,a)):f<=a&&(e.expiredLanes|=u),r&=~u}if(a=$e,t=Ee,t=Xa(e,e===a?t:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,t===0||e===a&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ta(l),e.callbackNode=null,e.callbackPriority=0;if((t&3)===0||st(e,t)){if(a=t&-t,a===e.callbackPriority)return a;switch(l!==null&&ta(l),ti(t)){case 2:case 8:t=ut;break;case 32:t=dt;break;case 268435456:t=Rl;break;default:t=dt}return l=L0.bind(null,e),t=da(t,l),e.callbackPriority=a,e.callbackNode=t,a}return l!==null&&l!==null&&ta(l),e.callbackPriority=2,e.callbackNode=null,2}function L0(e,a){if(ha!==0&&ha!==5)return e.callbackNode=null,e.callbackPriority=0,null;var t=e.callbackNode;if(vr()&&e.callbackNode!==t)return null;var l=Ee;return l=Xa(e,e===$e?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(v0(e,l,a),B0(e,ze()),e.callbackNode!=null&&e.callbackNode===t?L0.bind(null,e):null)}function G0(e,a){if(vr())return null;v0(e,a,!0)}function Am(){Bm(function(){(Be&6)!==0?da(Ht,km):H0()})}function Kc(){if(nl===0){var e=tn;e===0&&(e=Ta,Ta<<=1,(Ta&261888)===0&&(Ta=256)),nl=e}return nl}function Y0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zs(""+e)}function K0(e,a){var t=a.ownerDocument.createElement("input");return t.name=a.name,t.value=a.value,e.id&&t.setAttribute("form",e.id),a.parentNode.insertBefore(t,a),e=new FormData(e),t.parentNode.removeChild(t),e}function Em(e,a,t,l,s){if(a==="submit"&&t&&t.stateNode===s){var r=Y0((s[Ca]||null).action),i=l.submitter;i&&(a=(a=i[Ca]||null)?Y0(a.formAction):i.getAttribute("formAction"),a!==null&&(r=a,i=null));var u=new Os("action","action",null,l,s);e.push({event:u,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(nl!==0){var f=i?K0(s,i):new FormData(s);cc(t,{pending:!0,data:f,method:s.method,action:r},null,f)}}else typeof r=="function"&&(u.preventDefault(),f=i?K0(s,i):new FormData(s),cc(t,{pending:!0,data:f,method:s.method,action:r},r,f))},currentTarget:s}]})}}for(var qc=0;qc<ki.length;qc++){var Jc=ki[qc],Tm=Jc.toLowerCase(),Cm=Jc[0].toUpperCase()+Jc.slice(1);rt(Tm,"on"+Cm)}rt(yd,"onAnimationEnd"),rt(pd,"onAnimationIteration"),rt(vd,"onAnimationStart"),rt("dblclick","onDoubleClick"),rt("focusin","onFocus"),rt("focusout","onBlur"),rt(Qg,"onTransitionRun"),rt(Xg,"onTransitionStart"),rt(Vg,"onTransitionCancel"),rt(jd,"onTransitionEnd"),Kl("onMouseEnter",["mouseout","mouseover"]),Kl("onMouseLeave",["mouseout","mouseover"]),Kl("onPointerEnter",["pointerout","pointerover"]),Kl("onPointerLeave",["pointerout","pointerover"]),ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ml("onBeforeInput",["compositionend","keypress","textInput","paste"]),ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ds));function q0(e,a){a=(a&4)!==0;for(var t=0;t<e.length;t++){var l=e[t],s=l.event;l=l.listeners;e:{var r=void 0;if(a)for(var i=l.length-1;0<=i;i--){var u=l[i],f=u.instance,p=u.currentTarget;if(u=u.listener,f!==r&&s.isPropagationStopped())break e;r=u,s.currentTarget=p;try{r(s)}catch(D){Hs(D)}s.currentTarget=null,r=f}else for(i=0;i<l.length;i++){if(u=l[i],f=u.instance,p=u.currentTarget,u=u.listener,f!==r&&s.isPropagationStopped())break e;r=u,s.currentTarget=p;try{r(s)}catch(D){Hs(D)}s.currentTarget=null,r=f}}}}function ke(e,a){var t=a[li];t===void 0&&(t=a[li]=new Set);var l=e+"__bubble";t.has(l)||(J0(a,e,2,!1),t.add(l))}function Qc(e,a,t){var l=0;a&&(l|=4),J0(t,e,l,a)}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Xc(e){if(!e[Nr]){e[Nr]=!0,Ru.forEach(function(t){t!=="selectionchange"&&(zm.has(t)||Qc(t,!1,e),Qc(t,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[Nr]||(a[Nr]=!0,Qc("selectionchange",!1,a))}}function J0(e,a,t,l){switch(vf(a)){case 2:var s=nh;break;case 8:s=sh;break;default:s=iu}t=s.bind(null,a,t,e),s=void 0,!fi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(a,t,{capture:!0,passive:s}):e.addEventListener(a,t,!0):s!==void 0?e.addEventListener(a,t,{passive:s}):e.addEventListener(a,t,!1)}function Vc(e,a,t,l,s){var r=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var i=l.tag;if(i===3||i===4){var u=l.stateNode.containerInfo;if(u===s)break;if(i===4)for(i=l.return;i!==null;){var f=i.tag;if((f===3||f===4)&&i.stateNode.containerInfo===s)return;i=i.return}for(;u!==null;){if(i=Ll(u),i===null)return;if(f=i.tag,f===5||f===6||f===26||f===27){l=r=i;continue e}u=u.parentNode}}l=l.return}Zu(function(){var p=r,D=di(t),B=[];e:{var j=Sd.get(e);if(j!==void 0){var A=Os,re=e;switch(e){case"keypress":if(_s(t)===0)break e;case"keydown":case"keyup":A=Ng;break;case"focusin":re="focus",A=xi;break;case"focusout":re="blur",A=xi;break;case"beforeblur":case"afterblur":A=xi;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=Fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=Ag;break;case yd:case pd:case vd:A=mg;break;case jd:A=Tg;break;case"scroll":case"scrollend":A=ug;break;case"wheel":A=zg;break;case"copy":case"cut":case"paste":A=xg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=Pu;break;case"toggle":case"beforetoggle":A=_g}var fe=(a&4)!==0,Xe=!fe&&(e==="scroll"||e==="scrollend"),x=fe?j!==null?j+"Capture":null:j;fe=[];for(var h=p,y;h!==null;){var R=h;if(y=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||y===null||x===null||(R=_n(h,x),R!=null&&fe.push(os(h,R,y))),Xe)break;h=h.return}0<fe.length&&(j=new A(j,re,null,t,D),B.push({event:j,listeners:fe}))}}if((a&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",j&&t!==ui&&(re=t.relatedTarget||t.fromElement)&&(Ll(re)||re[Bl]))break e;if((A||j)&&(j=D.window===D?D:(j=D.ownerDocument)?j.defaultView||j.parentWindow:window,A?(re=t.relatedTarget||t.toElement,A=p,re=re?Ll(re):null,re!==null&&(Xe=_(re),fe=re.tag,re!==Xe||fe!==5&&fe!==27&&fe!==6)&&(re=null)):(A=null,re=p),A!==re)){if(fe=Fu,R="onMouseLeave",x="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(fe=Pu,R="onPointerLeave",x="onPointerEnter",h="pointer"),Xe=A==null?j:Dn(A),y=re==null?j:Dn(re),j=new fe(R,h+"leave",A,t,D),j.target=Xe,j.relatedTarget=y,R=null,Ll(D)===p&&(fe=new fe(x,h+"enter",re,t,D),fe.target=y,fe.relatedTarget=Xe,R=fe),Xe=R,A&&re)a:{for(fe=Dm,x=A,h=re,y=0,R=x;R;R=fe(R))y++;R=0;for(var de=h;de;de=fe(de))R++;for(;0<y-R;)x=fe(x),y--;for(;0<R-y;)h=fe(h),R--;for(;y--;){if(x===h||h!==null&&x===h.alternate){fe=x;break a}x=fe(x),h=fe(h)}fe=null}else fe=null;A!==null&&Q0(B,j,A,fe,!1),re!==null&&Xe!==null&&Q0(B,Xe,re,fe,!0)}}e:{if(j=p?Dn(p):window,A=j.nodeName&&j.nodeName.toLowerCase(),A==="select"||A==="input"&&j.type==="file")var Re=id;else if(sd(j))if(cd)Re=Kg;else{Re=Gg;var ce=Lg}else A=j.nodeName,!A||A.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?p&&ci(p.elementType)&&(Re=id):Re=Yg;if(Re&&(Re=Re(e,p))){rd(B,Re,t,D);break e}ce&&ce(e,j,p),e==="focusout"&&p&&j.type==="number"&&p.memoizedProps.value!=null&&ii(j,"number",j.value)}switch(ce=p?Dn(p):window,e){case"focusin":(sd(ce)||ce.contentEditable==="true")&&(Zl=ce,Si=p,Gn=null);break;case"focusout":Gn=Si=Zl=null;break;case"mousedown":Ni=!0;break;case"contextmenu":case"mouseup":case"dragend":Ni=!1,xd(B,t,D);break;case"selectionchange":if(Jg)break;case"keydown":case"keyup":xd(B,t,D)}var ve;if(yi)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Vl?ld(e,t)&&(Te="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(Te="onCompositionStart");Te&&(ed&&t.locale!=="ko"&&(Vl||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Vl&&(ve=Iu()):(Kt=D,gi="value"in Kt?Kt.value:Kt.textContent,Vl=!0)),ce=wr(p,Te),0<ce.length&&(Te=new Wu(Te,e,null,t,D),B.push({event:Te,listeners:ce}),ve?Te.data=ve:(ve=nd(t),ve!==null&&(Te.data=ve)))),(ve=Og?Ug(e,t):Rg(e,t))&&(Te=wr(p,"onBeforeInput"),0<Te.length&&(ce=new Wu("onBeforeInput","beforeinput",null,t,D),B.push({event:ce,listeners:Te}),ce.data=ve)),Em(B,e,p,t,D)}q0(B,a)})}function os(e,a,t){return{instance:e,listener:a,currentTarget:t}}function wr(e,a){for(var t=a+"Capture",l=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=_n(e,t),s!=null&&l.unshift(os(e,s,r)),s=_n(e,a),s!=null&&l.push(os(e,s,r))),e.tag===3)return l;e=e.return}return[]}function Dm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Q0(e,a,t,l,s){for(var r=a._reactName,i=[];t!==null&&t!==l;){var u=t,f=u.alternate,p=u.stateNode;if(u=u.tag,f!==null&&f===l)break;u!==5&&u!==26&&u!==27||p===null||(f=p,s?(p=_n(t,r),p!=null&&i.unshift(os(t,p,f))):s||(p=_n(t,r),p!=null&&i.push(os(t,p,f)))),t=t.return}i.length!==0&&e.push({event:a,listeners:i})}var _m=/\r\n?/g,Mm=/\u0000|\uFFFD/g;function X0(e){return(typeof e=="string"?e:""+e).replace(_m,`
`).replace(Mm,"")}function V0(e,a){return a=X0(a),X0(e)===a}function Qe(e,a,t,l,s,r){switch(t){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||Jl(e,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&Jl(e,""+l);break;case"className":Ts(e,"class",l);break;case"tabIndex":Ts(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ts(e,t,l);break;case"style":Xu(e,l,r);break;case"data":if(a!=="object"){Ts(e,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||t!=="href")){e.removeAttribute(t);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(t);break}l=zs(""+l),e.setAttribute(t,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(t==="formAction"?(a!=="input"&&Qe(e,a,"name",s.name,s,null),Qe(e,a,"formEncType",s.formEncType,s,null),Qe(e,a,"formMethod",s.formMethod,s,null),Qe(e,a,"formTarget",s.formTarget,s,null)):(Qe(e,a,"encType",s.encType,s,null),Qe(e,a,"method",s.method,s,null),Qe(e,a,"target",s.target,s,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(t);break}l=zs(""+l),e.setAttribute(t,l);break;case"onClick":l!=null&&(e.onclick=bt);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(t=l.__html,t!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=t}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}t=zs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(t,""+l):e.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(t,""):e.removeAttribute(t);break;case"capture":case"download":l===!0?e.setAttribute(t,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(t,l):e.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(t,l):e.removeAttribute(t);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(t):e.setAttribute(t,l);break;case"popover":ke("beforetoggle",e),ke("toggle",e),Es(e,"popover",l);break;case"xlinkActuate":xt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Es(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=ig.get(t)||t,Es(e,t,l))}}function Zc(e,a,t,l,s,r){switch(t){case"style":Xu(e,l,r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(t=l.__html,t!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=t}}break;case"children":typeof l=="string"?Jl(e,l):(typeof l=="number"||typeof l=="bigint")&&Jl(e,""+l);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"onClick":l!=null&&(e.onclick=bt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hu.hasOwnProperty(t))e:{if(t[0]==="o"&&t[1]==="n"&&(s=t.endsWith("Capture"),a=t.slice(2,s?t.length-7:void 0),r=e[Ca]||null,r=r!=null?r[t]:null,typeof r=="function"&&e.removeEventListener(a,r,s),typeof l=="function")){typeof r!="function"&&r!==null&&(t in e?e[t]=null:e.hasAttribute(t)&&e.removeAttribute(t)),e.addEventListener(a,l,s);break e}t in e?e[t]=l:l===!0?e.setAttribute(t,""):Es(e,t,l)}}}function Na(e,a,t){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var l=!1,s=!1,r;for(r in t)if(t.hasOwnProperty(r)){var i=t[r];if(i!=null)switch(r){case"src":l=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:Qe(e,a,r,i,t,null)}}s&&Qe(e,a,"srcSet",t.srcSet,t,null),l&&Qe(e,a,"src",t.src,t,null);return;case"input":ke("invalid",e);var u=r=i=s=null,f=null,p=null;for(l in t)if(t.hasOwnProperty(l)){var D=t[l];if(D!=null)switch(l){case"name":s=D;break;case"type":i=D;break;case"checked":f=D;break;case"defaultChecked":p=D;break;case"value":r=D;break;case"defaultValue":u=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(o(137,a));break;default:Qe(e,a,l,D,t,null)}}Ku(e,r,u,f,p,i,s,!1);return;case"select":ke("invalid",e),l=i=r=null;for(s in t)if(t.hasOwnProperty(s)&&(u=t[s],u!=null))switch(s){case"value":r=u;break;case"defaultValue":i=u;break;case"multiple":l=u;default:Qe(e,a,s,u,t,null)}a=r,t=i,e.multiple=!!l,a!=null?ql(e,!!l,a,!1):t!=null&&ql(e,!!l,t,!0);return;case"textarea":ke("invalid",e),r=s=l=null;for(i in t)if(t.hasOwnProperty(i)&&(u=t[i],u!=null))switch(i){case"value":l=u;break;case"defaultValue":s=u;break;case"children":r=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:Qe(e,a,i,u,t,null)}Ju(e,l,s,r);return;case"option":for(f in t)if(t.hasOwnProperty(f)&&(l=t[f],l!=null))switch(f){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(e,a,f,l,t,null)}return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(l=0;l<ds.length;l++)ke(ds[l],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(p in t)if(t.hasOwnProperty(p)&&(l=t[p],l!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:Qe(e,a,p,l,t,null)}return;default:if(ci(a)){for(D in t)t.hasOwnProperty(D)&&(l=t[D],l!==void 0&&Zc(e,a,D,l,t,void 0));return}}for(u in t)t.hasOwnProperty(u)&&(l=t[u],l!=null&&Qe(e,a,u,l,t,null))}function Om(e,a,t,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,i=null,u=null,f=null,p=null,D=null;for(A in t){var B=t[A];if(t.hasOwnProperty(A)&&B!=null)switch(A){case"checked":break;case"value":break;case"defaultValue":f=B;default:l.hasOwnProperty(A)||Qe(e,a,A,null,l,B)}}for(var j in l){var A=l[j];if(B=t[j],l.hasOwnProperty(j)&&(A!=null||B!=null))switch(j){case"type":r=A;break;case"name":s=A;break;case"checked":p=A;break;case"defaultChecked":D=A;break;case"value":i=A;break;case"defaultValue":u=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(o(137,a));break;default:A!==B&&Qe(e,a,j,A,l,B)}}ri(e,i,u,f,p,D,r,s);return;case"select":A=i=u=j=null;for(r in t)if(f=t[r],t.hasOwnProperty(r)&&f!=null)switch(r){case"value":break;case"multiple":A=f;default:l.hasOwnProperty(r)||Qe(e,a,r,null,l,f)}for(s in l)if(r=l[s],f=t[s],l.hasOwnProperty(s)&&(r!=null||f!=null))switch(s){case"value":j=r;break;case"defaultValue":u=r;break;case"multiple":i=r;default:r!==f&&Qe(e,a,s,r,l,f)}a=u,t=i,l=A,j!=null?ql(e,!!t,j,!1):!!l!=!!t&&(a!=null?ql(e,!!t,a,!0):ql(e,!!t,t?[]:"",!1));return;case"textarea":A=j=null;for(u in t)if(s=t[u],t.hasOwnProperty(u)&&s!=null&&!l.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:Qe(e,a,u,null,l,s)}for(i in l)if(s=l[i],r=t[i],l.hasOwnProperty(i)&&(s!=null||r!=null))switch(i){case"value":j=s;break;case"defaultValue":A=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(o(91));break;default:s!==r&&Qe(e,a,i,s,l,r)}qu(e,j,A);return;case"option":for(var re in t)if(j=t[re],t.hasOwnProperty(re)&&j!=null&&!l.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Qe(e,a,re,null,l,j)}for(f in l)if(j=l[f],A=t[f],l.hasOwnProperty(f)&&j!==A&&(j!=null||A!=null))switch(f){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Qe(e,a,f,j,l,A)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in t)j=t[fe],t.hasOwnProperty(fe)&&j!=null&&!l.hasOwnProperty(fe)&&Qe(e,a,fe,null,l,j);for(p in l)if(j=l[p],A=t[p],l.hasOwnProperty(p)&&j!==A&&(j!=null||A!=null))switch(p){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(o(137,a));break;default:Qe(e,a,p,j,l,A)}return;default:if(ci(a)){for(var Xe in t)j=t[Xe],t.hasOwnProperty(Xe)&&j!==void 0&&!l.hasOwnProperty(Xe)&&Zc(e,a,Xe,void 0,l,j);for(D in l)j=l[D],A=t[D],!l.hasOwnProperty(D)||j===A||j===void 0&&A===void 0||Zc(e,a,D,j,l,A);return}}for(var x in t)j=t[x],t.hasOwnProperty(x)&&j!=null&&!l.hasOwnProperty(x)&&Qe(e,a,x,null,l,j);for(B in l)j=l[B],A=t[B],!l.hasOwnProperty(B)||j===A||j==null&&A==null||Qe(e,a,B,j,l,A)}function Z0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Um(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,t=performance.getEntriesByType("resource"),l=0;l<t.length;l++){var s=t[l],r=s.transferSize,i=s.initiatorType,u=s.duration;if(r&&u&&Z0(i)){for(i=0,u=s.responseEnd,l+=1;l<t.length;l++){var f=t[l],p=f.startTime;if(p>u)break;var D=f.transferSize,B=f.initiatorType;D&&Z0(B)&&(f=f.responseEnd,i+=D*(f<u?1:(u-p)/(f-p)))}if(--l,a+=8*(r+i)/(s.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ic=null,$c=null;function kr(e){return e.nodeType===9?e:e.ownerDocument}function I0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $0(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Fc(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Wc=null;function Rm(){var e=window.event;return e&&e.type==="popstate"?e===Wc?!1:(Wc=e,!0):(Wc=null,!1)}var F0=typeof setTimeout=="function"?setTimeout:void 0,Hm=typeof clearTimeout=="function"?clearTimeout:void 0,W0=typeof Promise=="function"?Promise:void 0,Bm=typeof queueMicrotask=="function"?queueMicrotask:typeof W0<"u"?function(e){return W0.resolve(null).then(e).catch(Lm)}:F0;function Lm(e){setTimeout(function(){throw e})}function sl(e){return e==="head"}function P0(e,a){var t=a,l=0;do{var s=t.nextSibling;if(e.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"||t==="/&"){if(l===0){e.removeChild(s),Sn(a);return}l--}else if(t==="$"||t==="$?"||t==="$~"||t==="$!"||t==="&")l++;else if(t==="html")fs(e.ownerDocument.documentElement);else if(t==="head"){t=e.ownerDocument.head,fs(t);for(var r=t.firstChild;r;){var i=r.nextSibling,u=r.nodeName;r[zn]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&r.rel.toLowerCase()==="stylesheet"||t.removeChild(r),r=i}}else t==="body"&&fs(e.ownerDocument.body);t=s}while(t);Sn(a)}function ef(e,a){var t=e;e=0;do{var l=t.nextSibling;if(t.nodeType===1?a?(t._stashedDisplay=t.style.display,t.style.display="none"):(t.style.display=t._stashedDisplay||"",t.getAttribute("style")===""&&t.removeAttribute("style")):t.nodeType===3&&(a?(t._stashedText=t.nodeValue,t.nodeValue=""):t.nodeValue=t._stashedText||""),l&&l.nodeType===8)if(t=l.data,t==="/$"){if(e===0)break;e--}else t!=="$"&&t!=="$?"&&t!=="$~"&&t!=="$!"||e++;t=l}while(t)}function Pc(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var t=a;switch(a=a.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Pc(t),ni(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}e.removeChild(t)}}function Gm(e,a,t,l){for(;e.nodeType===1;){var s=t;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[zn])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=at(e.nextSibling),e===null)break}return null}function Ym(e,a,t){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=at(e.nextSibling),e===null))return null;return e}function af(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=at(e.nextSibling),e===null))return null;return e}function eu(e){return e.data==="$?"||e.data==="$~"}function au(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Km(e,a){var t=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||t.readyState!=="loading")a();else{var l=function(){a(),t.removeEventListener("DOMContentLoaded",l)};t.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function at(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var tu=null;function tf(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"||t==="/&"){if(a===0)return at(e.nextSibling);a--}else t!=="$"&&t!=="$!"&&t!=="$?"&&t!=="$~"&&t!=="&"||a++}e=e.nextSibling}return null}function lf(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"){if(a===0)return e;a--}else t!=="/$"&&t!=="/&"||a++}e=e.previousSibling}return null}function nf(e,a,t){switch(a=kr(t),e){case"html":if(e=a.documentElement,!e)throw Error(o(452));return e;case"head":if(e=a.head,!e)throw Error(o(453));return e;case"body":if(e=a.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function fs(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);ni(e)}var tt=new Map,sf=new Set;function Ar(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mt=E.d;E.d={f:qm,r:Jm,D:Qm,C:Xm,L:Vm,m:Zm,X:$m,S:Im,M:Fm};function qm(){var e=Mt.f(),a=br();return e||a}function Jm(e){var a=Gl(e);a!==null&&a.tag===5&&a.type==="form"?So(a):Mt.r(e)}var pn=typeof document>"u"?null:document;function rf(e,a,t){var l=pn;if(l&&typeof a=="string"&&a){var s=Za(a);s='link[rel="'+e+'"][href="'+s+'"]',typeof t=="string"&&(s+='[crossorigin="'+t+'"]'),sf.has(s)||(sf.add(s),e={rel:e,crossOrigin:t,href:a},l.querySelector(s)===null&&(a=l.createElement("link"),Na(a,"link",e),xa(a),l.head.appendChild(a)))}}function Qm(e){Mt.D(e),rf("dns-prefetch",e,null)}function Xm(e,a){Mt.C(e,a),rf("preconnect",e,a)}function Vm(e,a,t){Mt.L(e,a,t);var l=pn;if(l&&e&&a){var s='link[rel="preload"][as="'+Za(a)+'"]';a==="image"&&t&&t.imageSrcSet?(s+='[imagesrcset="'+Za(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(s+='[imagesizes="'+Za(t.imageSizes)+'"]')):s+='[href="'+Za(e)+'"]';var r=s;switch(a){case"style":r=vn(e);break;case"script":r=jn(e)}tt.has(r)||(e=v({rel:"preload",href:a==="image"&&t&&t.imageSrcSet?void 0:e,as:a},t),tt.set(r,e),l.querySelector(s)!==null||a==="style"&&l.querySelector(gs(r))||a==="script"&&l.querySelector(ms(r))||(a=l.createElement("link"),Na(a,"link",e),xa(a),l.head.appendChild(a)))}}function Zm(e,a){Mt.m(e,a);var t=pn;if(t&&e){var l=a&&typeof a.as=="string"?a.as:"script",s='link[rel="modulepreload"][as="'+Za(l)+'"][href="'+Za(e)+'"]',r=s;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=jn(e)}if(!tt.has(r)&&(e=v({rel:"modulepreload",href:e},a),tt.set(r,e),t.querySelector(s)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(ms(r)))return}l=t.createElement("link"),Na(l,"link",e),xa(l),t.head.appendChild(l)}}}function Im(e,a,t){Mt.S(e,a,t);var l=pn;if(l&&e){var s=Yl(l).hoistableStyles,r=vn(e);a=a||"default";var i=s.get(r);if(!i){var u={loading:0,preload:null};if(i=l.querySelector(gs(r)))u.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":a},t),(t=tt.get(r))&&lu(e,t);var f=i=l.createElement("link");xa(f),Na(f,"link",e),f._p=new Promise(function(p,D){f.onload=p,f.onerror=D}),f.addEventListener("load",function(){u.loading|=1}),f.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Er(i,a,l)}i={type:"stylesheet",instance:i,count:1,state:u},s.set(r,i)}}}function $m(e,a){Mt.X(e,a);var t=pn;if(t&&e){var l=Yl(t).hoistableScripts,s=jn(e),r=l.get(s);r||(r=t.querySelector(ms(s)),r||(e=v({src:e,async:!0},a),(a=tt.get(s))&&nu(e,a),r=t.createElement("script"),xa(r),Na(r,"link",e),t.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(s,r))}}function Fm(e,a){Mt.M(e,a);var t=pn;if(t&&e){var l=Yl(t).hoistableScripts,s=jn(e),r=l.get(s);r||(r=t.querySelector(ms(s)),r||(e=v({src:e,async:!0,type:"module"},a),(a=tt.get(s))&&nu(e,a),r=t.createElement("script"),xa(r),Na(r,"link",e),t.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(s,r))}}function cf(e,a,t,l){var s=(s=ye.current)?Ar(s):null;if(!s)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(a=vn(t.href),t=Yl(s).hoistableStyles,l=t.get(a),l||(l={type:"style",instance:null,count:0,state:null},t.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){e=vn(t.href);var r=Yl(s).hoistableStyles,i=r.get(e);if(i||(s=s.ownerDocument||s,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,i),(r=s.querySelector(gs(e)))&&!r._p&&(i.instance=r,i.state.loading=5),tt.has(e)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},tt.set(e,t),r||Wm(s,e,t,i.state))),a&&l===null)throw Error(o(528,""));return i}if(a&&l!==null)throw Error(o(529,""));return null;case"script":return a=t.async,t=t.src,typeof t=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=jn(t),t=Yl(s).hoistableScripts,l=t.get(a),l||(l={type:"script",instance:null,count:0,state:null},t.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function vn(e){return'href="'+Za(e)+'"'}function gs(e){return'link[rel="stylesheet"]['+e+"]"}function uf(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Wm(e,a,t,l){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=e.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),Na(a,"link",t),xa(a),e.head.appendChild(a))}function jn(e){return'[src="'+Za(e)+'"]'}function ms(e){return"script[async]"+e}function df(e,a,t){if(a.count++,a.instance===null)switch(a.type){case"style":var l=e.querySelector('style[data-href~="'+Za(t.href)+'"]');if(l)return a.instance=l,xa(l),l;var s=v({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),xa(l),Na(l,"style",s),Er(l,t.precedence,e),a.instance=l;case"stylesheet":s=vn(t.href);var r=e.querySelector(gs(s));if(r)return a.state.loading|=4,a.instance=r,xa(r),r;l=uf(t),(s=tt.get(s))&&lu(l,s),r=(e.ownerDocument||e).createElement("link"),xa(r);var i=r;return i._p=new Promise(function(u,f){i.onload=u,i.onerror=f}),Na(r,"link",l),a.state.loading|=4,Er(r,t.precedence,e),a.instance=r;case"script":return r=jn(t.src),(s=e.querySelector(ms(r)))?(a.instance=s,xa(s),s):(l=t,(s=tt.get(r))&&(l=v({},t),nu(l,s)),e=e.ownerDocument||e,s=e.createElement("script"),xa(s),Na(s,"link",l),e.head.appendChild(s),a.instance=s);case"void":return null;default:throw Error(o(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,Er(l,t.precedence,e));return a.instance}function Er(e,a,t){for(var l=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=l.length?l[l.length-1]:null,r=s,i=0;i<l.length;i++){var u=l[i];if(u.dataset.precedence===a)r=u;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(a=t.nodeType===9?t.head:t,a.insertBefore(e,a.firstChild))}function lu(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function nu(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var Tr=null;function of(e,a,t){if(Tr===null){var l=new Map,s=Tr=new Map;s.set(t,l)}else s=Tr,l=s.get(t),l||(l=new Map,s.set(t,l));if(l.has(e))return l;for(l.set(e,null),t=t.getElementsByTagName(e),s=0;s<t.length;s++){var r=t[s];if(!(r[zn]||r[pa]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var i=r.getAttribute(a)||"";i=e+i;var u=l.get(i);u?u.push(r):l.set(i,[r])}}return l}function ff(e,a,t){e=e.ownerDocument||e,e.head.insertBefore(t,a==="title"?e.querySelector("head > title"):null)}function Pm(e,a,t){if(t===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function gf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eh(e,a,t,l){if(t.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var s=vn(l.href),r=a.querySelector(gs(s));if(r){a=r._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=Cr.bind(e),a.then(e,e)),t.state.loading|=4,t.instance=r,xa(r);return}r=a.ownerDocument||a,l=uf(l),(s=tt.get(s))&&lu(l,s),r=r.createElement("link"),xa(r);var i=r;i._p=new Promise(function(u,f){i.onload=u,i.onerror=f}),Na(r,"link",l),t.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(t,a),(a=t.state.preload)&&(t.state.loading&3)===0&&(e.count++,t=Cr.bind(e),a.addEventListener("load",t),a.addEventListener("error",t))}}var su=0;function ah(e,a){return e.stylesheets&&e.count===0&&Dr(e,e.stylesheets),0<e.count||0<e.imgCount?function(t){var l=setTimeout(function(){if(e.stylesheets&&Dr(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+a);0<e.imgBytes&&su===0&&(su=62500*Um());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dr(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>su?50:800)+a);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(s)}}:null}function Cr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zr=null;function Dr(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zr=new Map,a.forEach(th,e),zr=null,Cr.call(e))}function th(e,a){if(!(a.state.loading&4)){var t=zr.get(e);if(t)var l=t.get(null);else{t=new Map,zr.set(e,t);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var i=s[r];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(t.set(i.dataset.precedence,i),l=i)}l&&t.set(null,l)}s=a.instance,i=s.getAttribute("data-precedence"),r=t.get(i)||l,r===l&&t.set(null,s),t.set(i,s),this.count++,l=Cr.bind(this),s.addEventListener("load",l),s.addEventListener("error",l),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),a.state.loading|=4}}var hs={$$typeof:V,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function lh(e,a,t,l,s,r,i,u,f){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.hiddenUpdates=Hl(null),this.identifierPrefix=l,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function mf(e,a,t,l,s,r,i,u,f,p,D,B){return e=new lh(e,a,t,i,f,p,D,B,u),a=1,r===!0&&(a|=24),r=La(3,null,null,a),e.current=r,r.stateNode=e,a=Bi(),a.refCount++,e.pooledCache=a,a.refCount++,r.memoizedState={element:l,isDehydrated:t,cache:a},Ki(r),e}function hf(e){return e?(e=Fl,e):Fl}function xf(e,a,t,l,s,r){s=hf(s),l.context===null?l.context=s:l.pendingContext=s,l=Zt(a),l.payload={element:t},r=r===void 0?null:r,r!==null&&(l.callback=r),t=It(e,l,a),t!==null&&(Ua(t,e,a),Vn(t,e,a))}function bf(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<a?t:a}}function ru(e,a){bf(e,a),(e=e.alternate)&&bf(e,a)}function yf(e){if(e.tag===13||e.tag===31){var a=yl(e,67108864);a!==null&&Ua(a,e,67108864),ru(e,67108864)}}function pf(e){if(e.tag===13||e.tag===31){var a=Ja();a=ai(a);var t=yl(e,a);t!==null&&Ua(t,e,a),ru(e,a)}}var _r=!0;function nh(e,a,t,l){var s=m.T;m.T=null;var r=E.p;try{E.p=2,iu(e,a,t,l)}finally{E.p=r,m.T=s}}function sh(e,a,t,l){var s=m.T;m.T=null;var r=E.p;try{E.p=8,iu(e,a,t,l)}finally{E.p=r,m.T=s}}function iu(e,a,t,l){if(_r){var s=cu(l);if(s===null)Vc(e,a,l,Mr,t),jf(e,l);else if(ih(s,e,a,t,l))l.stopPropagation();else if(jf(e,l),a&4&&-1<rh.indexOf(e)){for(;s!==null;){var r=Gl(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var i=ka(r.pendingLanes);if(i!==0){var u=r;for(u.pendingLanes|=2,u.entangledLanes|=2;i;){var f=1<<31-ie(i);u.entanglements[1]|=f,i&=~f}mt(r),(Be&6)===0&&(hr=ze()+500,us(0))}}break;case 31:case 13:u=yl(r,2),u!==null&&Ua(u,r,2),br(),ru(r,2)}if(r=cu(l),r===null&&Vc(e,a,l,Mr,t),r===s)break;s=r}s!==null&&l.stopPropagation()}else Vc(e,a,l,null,t)}}function cu(e){return e=di(e),uu(e)}var Mr=null;function uu(e){if(Mr=null,e=Ll(e),e!==null){var a=_(e);if(a===null)e=null;else{var t=a.tag;if(t===13){if(e=k(a),e!==null)return e;e=null}else if(t===31){if(e=H(a),e!==null)return e;e=null}else if(t===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return Mr=e,null}function vf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case Ht:return 2;case ut:return 8;case dt:case ei:return 32;case Rl:return 268435456;default:return 32}default:return 32}}var du=!1,rl=null,il=null,cl=null,xs=new Map,bs=new Map,ul=[],rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jf(e,a){switch(e){case"focusin":case"focusout":rl=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":cl=null;break;case"pointerover":case"pointerout":xs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(a.pointerId)}}function ys(e,a,t,l,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:a,domEventName:t,eventSystemFlags:l,nativeEvent:r,targetContainers:[s]},a!==null&&(a=Gl(a),a!==null&&yf(a)),e):(e.eventSystemFlags|=l,a=e.targetContainers,s!==null&&a.indexOf(s)===-1&&a.push(s),e)}function ih(e,a,t,l,s){switch(a){case"focusin":return rl=ys(rl,e,a,t,l,s),!0;case"dragenter":return il=ys(il,e,a,t,l,s),!0;case"mouseover":return cl=ys(cl,e,a,t,l,s),!0;case"pointerover":var r=s.pointerId;return xs.set(r,ys(xs.get(r)||null,e,a,t,l,s)),!0;case"gotpointercapture":return r=s.pointerId,bs.set(r,ys(bs.get(r)||null,e,a,t,l,s)),!0}return!1}function Sf(e){var a=Ll(e.target);if(a!==null){var t=_(a);if(t!==null){if(a=t.tag,a===13){if(a=k(t),a!==null){e.blockedOn=a,Ou(e.priority,function(){pf(t)});return}}else if(a===31){if(a=H(t),a!==null){e.blockedOn=a,Ou(e.priority,function(){pf(t)});return}}else if(a===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Or(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var t=cu(e.nativeEvent);if(t===null){t=e.nativeEvent;var l=new t.constructor(t.type,t);ui=l,t.target.dispatchEvent(l),ui=null}else return a=Gl(t),a!==null&&yf(a),e.blockedOn=t,!1;a.shift()}return!0}function Nf(e,a,t){Or(e)&&t.delete(a)}function ch(){du=!1,rl!==null&&Or(rl)&&(rl=null),il!==null&&Or(il)&&(il=null),cl!==null&&Or(cl)&&(cl=null),xs.forEach(Nf),bs.forEach(Nf)}function Ur(e,a){e.blockedOn===a&&(e.blockedOn=null,du||(du=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,ch)))}var Rr=null;function wf(e){Rr!==e&&(Rr=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Rr===e&&(Rr=null);for(var a=0;a<e.length;a+=3){var t=e[a],l=e[a+1],s=e[a+2];if(typeof l!="function"){if(uu(l||t)===null)continue;break}var r=Gl(t);r!==null&&(e.splice(a,3),a-=3,cc(r,{pending:!0,data:s,method:t.method,action:l},l,s))}}))}function Sn(e){function a(f){return Ur(f,e)}rl!==null&&Ur(rl,e),il!==null&&Ur(il,e),cl!==null&&Ur(cl,e),xs.forEach(a),bs.forEach(a);for(var t=0;t<ul.length;t++){var l=ul[t];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ul.length&&(t=ul[0],t.blockedOn===null);)Sf(t),t.blockedOn===null&&ul.shift();if(t=(e.ownerDocument||e).$$reactFormReplay,t!=null)for(l=0;l<t.length;l+=3){var s=t[l],r=t[l+1],i=s[Ca]||null;if(typeof r=="function")i||wf(t);else if(i){var u=null;if(r&&r.hasAttribute("formAction")){if(s=r,i=r[Ca]||null)u=i.formAction;else if(uu(s)!==null)continue}else u=i.action;typeof u=="function"?t[l+1]=u:(t.splice(l,3),l-=3),wf(t)}}}function kf(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(i){return s=i})},focusReset:"manual",scroll:"manual"})}function a(){s!==null&&(s(),s=null),l||setTimeout(t,20)}function t(){if(!l&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(t,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),s!==null&&(s(),s=null)}}}function ou(e){this._internalRoot=e}Hr.prototype.render=ou.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(o(409));var t=a.current,l=Ja();xf(t,l,e,a,null,null)},Hr.prototype.unmount=ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;xf(e.current,2,null,e,null,null),br(),a[Bl]=null}};function Hr(e){this._internalRoot=e}Hr.prototype.unstable_scheduleHydration=function(e){if(e){var a=Mu();e={blockedOn:null,target:e,priority:a};for(var t=0;t<ul.length&&a!==0&&a<ul[t].priority;t++);ul.splice(t,0,e),t===0&&Sf(e)}};var Af=d.version;if(Af!=="19.2.3")throw Error(o(527,Af,"19.2.3"));E.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=I(a),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var uh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:m,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Br=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Br.isDisabled&&Br.supportsFiber)try{b=Br.inject(uh),J=Br}catch{}}return vs.createRoot=function(e,a){if(!S(e))throw Error(o(299));var t=!1,l="",s=_o,r=Mo,i=Oo;return a!=null&&(a.unstable_strictMode===!0&&(t=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(s=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(i=a.onRecoverableError)),a=mf(e,1,!1,null,null,t,l,null,s,r,i,kf),e[Bl]=a.current,Xc(e),new ou(a)},vs.hydrateRoot=function(e,a,t){if(!S(e))throw Error(o(299));var l=!1,s="",r=_o,i=Mo,u=Oo,f=null;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError),t.formState!==void 0&&(f=t.formState)),a=mf(e,1,!0,a,t??null,l,s,f,r,i,u,kf),a.context=hf(null),t=a.current,l=Ja(),l=ai(l),s=Zt(l),s.callback=null,It(t,s,l),t=l,a.current.lanes=t,Lt(a,t),mt(a),e[Bl]=a.current,Xc(e),new Hr(a)},vs.version="19.2.3",vs}var Rf;function ax(){if(Rf)return mu.exports;Rf=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(d){console.error(d)}}return c(),mu.exports=ex(),mu.exports}var tx=ax();const lx=Qf(tx),nx=[{id:"dashboard",label:"Dashboard",icon:vh},{id:"master-data",label:"Master Data",icon:jh},{id:"journal",label:"eJurnal",icon:Xf},{id:"attendance",label:"eSensi",icon:Vf},{id:"assessment",label:"ePenilaian",icon:_l},{id:"counseling",label:"eKonseling",icon:Sh},{id:"reports",label:"Laporan",icon:Nh},{id:"chat-ai",label:"Chat AI",icon:Zf}],sx=({children:c,activeTab:d,setActiveTab:g,isDarkMode:o,toggleTheme:S,onLogout:_,user:k})=>{const[H,O]=Vr.useState(!1),[I,T]=Vr.useState(""),v=nx.filter(z=>z.label.toLowerCase().includes(I.toLowerCase()));return n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col md:flex-row font-sans",children:[n.jsxs("div",{className:"md:hidden bg-white dark:bg-gray-800 shadow p-4 flex justify-between items-center sticky top-0 z-50",children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>g("dashboard"),children:[n.jsx("div",{className:"bg-primary-600 text-white p-2 rounded-lg",children:n.jsx(_l,{size:20})}),n.jsx("h1",{className:"font-bold text-lg dark:text-white",children:"EduGuru"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:S,className:"text-gray-600 dark:text-gray-300 transition-colors",children:o?n.jsx(wu,{size:20}):n.jsx(ku,{size:20})}),n.jsx("button",{onClick:()=>O(!H),className:"text-gray-600 dark:text-gray-300 transition-transform active:scale-95",children:n.jsx(wh,{size:24})})]})]}),n.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-40 w-64 bg-white dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out
        md:relative md:translate-x-0
        ${H?"translate-x-0":"-translate-x-full"}
      `,children:n.jsxs("div",{className:"h-full flex flex-col",children:[n.jsxs("div",{className:"p-6 hidden md:flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity group/logo",onClick:()=>g("dashboard"),children:[n.jsx("div",{className:"bg-primary-600 text-white p-2 rounded-lg shadow-lg shadow-primary-600/20 group-hover/logo:scale-110 transition-transform",children:n.jsx(_l,{size:24})}),n.jsx("span",{className:"text-2xl font-black dark:text-white bg-clip-text text-transparent bg-gradient-to-r from-primary-600 to-blue-600",children:"EduGuru"})]}),k&&n.jsx("div",{className:"px-6 pb-4 mb-2 border-b border-gray-50 dark:border-gray-700/50",children:n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-2xl bg-gray-50 dark:bg-gray-700/30",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 overflow-hidden flex items-center justify-center ring-2 ring-white dark:ring-gray-800",children:k.avatar?n.jsx("img",{src:k.avatar,alt:"avatar",className:"w-full h-full object-cover"}):n.jsx(En,{size:20,className:"text-primary-600"})}),n.jsxs("div",{className:"overflow-hidden",children:[n.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white truncate",children:k.name}),n.jsx("p",{className:"text-[10px] uppercase font-black text-gray-400",children:k.role==="GURU"?"Guru Mapel":k.role})]})]})}),n.jsx("div",{className:"px-4 mb-4 mt-2",children:n.jsxs("div",{className:"relative group",children:[n.jsx(Ml,{className:"absolute left-3 top-2.5 text-gray-400 group-focus-within:text-primary-500 transition-colors",size:16}),n.jsx("input",{type:"text",placeholder:"Cari Menu...",value:I,onChange:z=>T(z.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700/50 border-none rounded-xl text-xs focus:ring-2 focus:ring-primary-500 dark:text-white transition-all outline-none"})]})}),n.jsxs("nav",{className:"flex-1 px-4 py-2 space-y-1 overflow-y-auto",children:[v.map(z=>n.jsxs("button",{onClick:()=>{g(z.id),O(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-semibold rounded-xl transition-all duration-200
                  ${d===z.id?"bg-primary-600 text-white shadow-lg shadow-primary-600/30 -translate-y-0.5":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700/50"}
                `,children:[n.jsx(z.icon,{size:20,className:d===z.id?"text-white":"text-gray-400"}),z.label]},z.id)),v.length===0&&n.jsx("p",{className:"text-center text-xs text-gray-400 py-8 italic",children:"Menu tidak ditemukan"}),n.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-100 dark:border-gray-700/50",children:[n.jsxs("button",{onClick:()=>{g("settings"),O(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-semibold rounded-xl transition-all duration-200
                  ${d==="settings"?"bg-primary-600 text-white shadow-lg shadow-primary-600/30":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50"}
                `,children:[n.jsx(kh,{size:20,className:d==="settings"?"text-white":"text-gray-400"}),"Pengaturan"]}),n.jsxs("button",{onClick:_,className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-semibold text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/10 rounded-xl transition-colors",children:[n.jsx(Ah,{size:20}),"Logout"]})]})]}),n.jsxs("div",{className:"p-4 hidden md:flex border-t border-gray-100 dark:border-gray-700/50 justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[n.jsx("span",{className:"text-[10px] uppercase font-black text-gray-400",children:"Mode Tampilan"}),n.jsxs("button",{onClick:S,className:"flex items-center gap-2 p-1.5 rounded-full bg-white dark:bg-gray-700 shadow-sm border border-gray-100 dark:border-gray-600 transition-transform active:scale-95",children:[n.jsx("div",{className:`p-1 rounded-full transition-colors ${o?"text-gray-400":"bg-amber-100 text-amber-600"}`,children:n.jsx(wu,{size:14})}),n.jsx("div",{className:`p-1 rounded-full transition-colors ${o?"bg-primary-100 text-primary-600":"text-gray-400"}`,children:n.jsx(ku,{size:14})})]})]})]})}),n.jsx("main",{className:"flex-1 overflow-y-auto h-[calc(100vh-64px)] md:h-screen p-4 md:p-8",children:n.jsx("div",{className:"max-w-6xl mx-auto pb-20 md:pb-0 h-full",children:c})}),H&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>O(!1)})]})},Hf=[{id:"c1",name:"X IPA 1",grade:10},{id:"c2",name:"X IPS 1",grade:10},{id:"c3",name:"XI IPA 1",grade:11}],Bf=[{id:"s1",name:"Ahmad Dahlan",nis:"2023001",classId:"c1"},{id:"s2",name:"Budi Santoso",nis:"2023002",classId:"c1"},{id:"s3",name:"Citra Kirana",nis:"2023003",classId:"c1"},{id:"s4",name:"Dewi Sartika",nis:"2023004",classId:"c1"},{id:"s5",name:"Eko Prasetyo",nis:"2023005",classId:"c1"},{id:"s6",name:"Fajar Nugraha",nis:"2023006",classId:"c2"},{id:"s7",name:"Gita Gutawa",nis:"2023007",classId:"c2"}],rx=[],ix=["Ceramah","Diskusi Kelompok","Project Based Learning","Problem Based Learning","Discovery Learning","Demonstrasi"],cx=()=>"/api",ux=cx(),dx=()=>localStorage.getItem("eduguru_token"),Tn=c=>{c?localStorage.setItem("eduguru_token",c):localStorage.removeItem("eduguru_token")},ox=()=>{const c={"Content-Type":"application/json"},d=dx();return d&&(c.Authorization=`Bearer ${d}`),c},Ce=async(c,d={})=>{const g=`${ux}${c}`,o=await fetch(g,{...d,headers:{...ox(),...d.headers}});if(o.status===401)throw Tn(null),localStorage.removeItem("eduguru_user"),window.dispatchEvent(new Event("auth:unauthorized")),new Error("Session expired. Please login again.");if(!o.ok){const S=await o.json().catch(()=>({}));throw new Error(S.message||S.error||`HTTP Error: ${o.status}`)}return o.json()},Cu={login:async(c,d)=>Ce("/auth/login",{method:"POST",body:JSON.stringify({username:c,password:d})}),register:async c=>Ce("/auth/register",{method:"POST",body:JSON.stringify(c)}),getProfile:async()=>Ce("/auth/me"),updateProfile:async c=>Ce("/auth/me",{method:"PUT",body:JSON.stringify(c)})},Nn={getAll:async()=>Ce("/classes"),create:async c=>Ce("/classes",{method:"POST",body:JSON.stringify(c)}),bulkCreate:async c=>Ce("/classes/bulk",{method:"POST",body:JSON.stringify({classes:c})}),update:async(c,d)=>Ce(`/classes/${c}`,{method:"PUT",body:JSON.stringify(d)}),delete:async c=>Ce(`/classes/${c}`,{method:"DELETE"}),deleteAll:async()=>Ce("/classes",{method:"DELETE"})},wn={getAll:async c=>{const d=c?`?classId=${c}`:"";return Ce(`/students${d}`)},create:async c=>Ce("/students",{method:"POST",body:JSON.stringify(c)}),bulkCreate:async c=>Ce("/students/bulk",{method:"POST",body:JSON.stringify({students:c})}),update:async(c,d)=>Ce(`/students/${c}`,{method:"PUT",body:JSON.stringify(d)}),delete:async c=>Ce(`/students/${c}`,{method:"DELETE"}),deleteAll:async()=>Ce("/students",{method:"DELETE"})},js={getAll:async()=>Ce("/subjects"),create:async c=>Ce("/subjects",{method:"POST",body:JSON.stringify({name:c})}),bulkCreate:async c=>Ce("/subjects/bulk",{method:"POST",body:JSON.stringify({subjects:c})}),delete:async c=>Ce(`/subjects/${encodeURIComponent(c)}`,{method:"DELETE"}),deleteAll:async()=>Ce("/subjects",{method:"DELETE"})},bu={getAll:async()=>Ce("/journals"),create:async c=>Ce("/journals",{method:"POST",body:JSON.stringify(c)}),delete:async c=>Ce(`/journals/${c}`,{method:"DELETE"})},yu={getAll:async c=>{const d=new URLSearchParams;c!=null&&c.classId&&d.append("classId",c.classId),c!=null&&c.date&&d.append("date",c.date),c!=null&&c.subject&&d.append("subject",c.subject);const g=d.toString();return Ce(`/attendance${g?"?"+g:""}`)},bulkSave:async c=>Ce("/attendance/bulk",{method:"POST",body:JSON.stringify({records:c})})},pu={getAll:async c=>{const d=new URLSearchParams;c!=null&&c.classId&&d.append("classId",c.classId),c!=null&&c.subject&&d.append("subject",c.subject),c!=null&&c.type&&d.append("type",c.type);const g=d.toString();return Ce(`/scores${g?"?"+g:""}`)},bulkSave:async c=>Ce("/scores/bulk",{method:"POST",body:JSON.stringify({scores:c})})},vu={getAll:async c=>{const d=c?`?studentId=${c}`:"";return Ce(`/counseling${d}`)},create:async c=>Ce("/counseling",{method:"POST",body:JSON.stringify(c)}),delete:async c=>Ce(`/counseling/${c}`,{method:"DELETE"})},fx={getStats:async()=>Ce("/dashboard/stats")},Pr={generateReflection:async(c,d,g)=>Ce("/ai/reflection",{method:"POST",body:JSON.stringify({objective:c,activities:d,engagement:g})}),suggestTeachingMethods:async(c,d)=>Ce("/ai/teaching-methods",{method:"POST",body:JSON.stringify({topic:c,grade:d})}),generateFollowUp:async(c,d,g)=>Ce("/ai/follow-up",{method:"POST",body:JSON.stringify({studentName:c,type:d,notes:g})}),chat:async(c,d=[])=>Ce("/ai/chat",{method:"POST",body:JSON.stringify({message:c,history:d})})},Ve={USER:"eduguru_user",TOKEN:"eduguru_token",CACHE_STUDENTS:"eduguru_cache_students",CACHE_CLASSES:"eduguru_cache_classes",CACHE_SUBJECTS:"eduguru_cache_subjects"},gx=300*1e3,ju=(c,d)=>{const g={data:d,timestamp:Date.now()};localStorage.setItem(c,JSON.stringify(g))},kn=c=>{const d=localStorage.getItem(c);if(!d)return null;try{const g=JSON.parse(d);return Date.now()-g.timestamp>gx?(localStorage.removeItem(c),null):g.data}catch{return null}},Lf=()=>{Object.values(Ve).forEach(c=>{c.startsWith("eduguru_cache_")&&localStorage.removeItem(c)})},L={saveUser:c=>{localStorage.setItem(Ve.USER,JSON.stringify(c))},getUser:()=>{const c=localStorage.getItem(Ve.USER);return c?JSON.parse(c):null},getToken:()=>localStorage.getItem(Ve.TOKEN),saveToken:c=>{localStorage.setItem(Ve.TOKEN,c),Tn(c)},updateUser:async c=>{try{const d=await Cu.updateProfile(c);return L.saveUser(d),d}catch(d){console.error("Failed to update user:",d);const g=L.getUser();if(g){const{currentPassword:o,newPassword:S,..._}=c,k={...g,..._};return L.saveUser(k),k}return null}},logout:()=>{localStorage.removeItem(Ve.USER),localStorage.removeItem(Ve.TOKEN),Tn(null),Lf()},getClasses:async()=>{const c=L.getUser();if(!c)return[];const d=kn(Ve.CACHE_CLASSES);if(d)return d;try{const g=await Nn.getAll(),o=Array.isArray(g)?g:[];return ju(Ve.CACHE_CLASSES,o),o}catch(g){return console.error("Failed to fetch classes:",g),Hf.map(o=>({...o,userId:c.id}))}},getClassesSync:()=>{const c=kn(Ve.CACHE_CLASSES);if(c)return c;const d=L.getUser();return Hf.map(g=>({...g,userId:d==null?void 0:d.id}))},saveClass:async c=>{try{c.id?await Nn.update(c.id,{name:c.name,grade:c.grade}):await Nn.create({name:c.name,grade:c.grade}),localStorage.removeItem(Ve.CACHE_CLASSES)}catch(d){throw console.error("Failed to save class:",d),d}},deleteClass:async c=>{try{await Nn.delete(c),localStorage.removeItem(Ve.CACHE_CLASSES)}catch(d){throw console.error("Failed to delete class:",d),d}},deleteAllClasses:async()=>{try{await Nn.deleteAll(),localStorage.removeItem(Ve.CACHE_CLASSES)}catch(c){throw console.error("Failed to delete all classes:",c),c}},saveClassesBulk:async c=>{await Nn.bulkCreate(c),localStorage.removeItem(Ve.CACHE_CLASSES)},getStudents:async()=>{const c=L.getUser();if(!c)return[];const d=kn(Ve.CACHE_STUDENTS);if(d)return d;try{const g=await wn.getAll(),o=Array.isArray(g)?g:[];return ju(Ve.CACHE_STUDENTS,o),o}catch(g){return console.error("Failed to fetch students:",g),Bf.map(o=>({...o,userId:c.id}))}},getStudentsSync:()=>{const c=kn(Ve.CACHE_STUDENTS);if(c)return c;const d=L.getUser();return Bf.map(g=>({...g,userId:d==null?void 0:d.id}))},saveStudent:async c=>{try{c.id?await wn.update(c.id,{name:c.name,nis:c.nis,classId:c.classId}):await wn.create({name:c.name,nis:c.nis,classId:c.classId}),localStorage.removeItem(Ve.CACHE_STUDENTS)}catch(d){throw console.error("Failed to save student:",d),d}},deleteStudent:async c=>{try{await wn.delete(c),localStorage.removeItem(Ve.CACHE_STUDENTS)}catch(d){throw console.error("Failed to delete student:",d),d}},deleteAllStudents:async()=>{try{await wn.deleteAll(),localStorage.removeItem(Ve.CACHE_STUDENTS)}catch(c){throw console.error("Failed to delete all students:",c),c}},saveStudentsBulk:async c=>{try{await wn.bulkCreate(c),localStorage.removeItem(Ve.CACHE_STUDENTS)}catch(d){throw console.error("Failed to bulk save students:",d),d}},getSubjects:async()=>{if(!L.getUser())return rx;const d=kn(Ve.CACHE_SUBJECTS);if(d)return d;try{const g=await js.getAll(),o=Array.isArray(g)?g:[];return ju(Ve.CACHE_SUBJECTS,o),o}catch(g){return console.error("Failed to fetch subjects:",g),[]}},getSubjectsSync:()=>kn(Ve.CACHE_SUBJECTS)||[],saveSubject:async c=>{try{await js.create(c),localStorage.removeItem(Ve.CACHE_SUBJECTS)}catch(d){throw console.error("Failed to save subject:",d),d}},deleteSubject:async c=>{try{await js.delete(c),localStorage.removeItem(Ve.CACHE_SUBJECTS)}catch(d){throw console.error("Failed to delete subject:",d),d}},deleteAllSubjects:async()=>{try{await js.deleteAll(),localStorage.removeItem(Ve.CACHE_SUBJECTS)}catch(c){throw console.error("Failed to delete all subjects:",c),c}},saveSubjectsBulk:async c=>{try{await js.bulkCreate(c),localStorage.removeItem(Ve.CACHE_SUBJECTS)}catch(d){throw console.error("Failed to save subjects:",d),d}},getJournals:async()=>{if(!L.getUser())return[];try{const d=await bu.getAll();return Array.isArray(d)?d:[]}catch(d){return console.error("Failed to fetch journals:",d),[]}},saveJournal:async c=>{const d=L.getUser();if(!d)throw new Error("User not authenticated");try{const g={...c,userId:d.id};return await bu.create(g),g}catch(g){throw console.error("Failed to save journal:",g),g}},deleteJournal:async c=>{try{await bu.delete(c)}catch(d){throw console.error("Failed to delete journal:",d),d}},getAttendance:async(c,d,g)=>{if(!L.getUser())return{};try{const S=await yu.getAll({classId:c,date:d,subject:g}),_=Array.isArray(S)?S:[],k={};return(await L.getStudents()).filter(I=>I.classId===c).forEach(I=>{const T=_.find(v=>v.studentId===I.id);k[I.id]=T?T.status:"H"}),k}catch(S){return console.error("Failed to get attendance:",S),{}}},getAllAttendanceRecords:async()=>{if(!L.getUser())return[];try{const d=await yu.getAll();return Array.isArray(d)?d:[]}catch(d){return console.error("Failed to get attendance records:",d),[]}},saveAttendanceBulk:async(c,d,g,o)=>{const S=L.getUser();if(!S)return;const _=Object.entries(o).map(([k,H])=>({id:`${d}_${c}_${g}_${k}`,studentId:k,classId:c,subject:g,date:d,status:H,userId:S.id}));try{await yu.bulkSave(_)}catch(k){throw console.error("Failed to save attendance:",k),k}},getScores:async(c,d,g,o)=>{if(!L.getUser())return{};try{const _=await pu.getAll({classId:c,subject:d,type:g}),k=Array.isArray(_)?_:[],H={};return k.filter(O=>!o||O.assessmentTitle===o).forEach(O=>H[O.studentId]=O.score),H}catch(_){return console.error("Failed to get scores:",_),{}}},getAllScores:async()=>{if(!L.getUser())return[];try{const d=await pu.getAll();return Array.isArray(d)?d:[]}catch(d){return console.error("Failed to get all scores:",d),[]}},saveScoresBulk:async c=>{const d=L.getUser();if(!d)return;const g=c.map(o=>({...o,userId:d.id}));try{await pu.bulkSave(g)}catch(o){throw console.error("Failed to save scores:",o),o}},getCounselingSessions:async()=>{if(!L.getUser())return[];try{const d=await vu.getAll();return Array.isArray(d)?d:[]}catch(d){return console.error("Failed to get counseling sessions:",d),[]}},saveCounselingSession:async c=>{const d=L.getUser();if(!d)return;const g={...c,userId:d.id};try{await vu.create(g)}catch(o){throw console.error("Failed to save counseling session:",o),o}},deleteCounselingSession:async c=>{try{await vu.delete(c)}catch(d){throw console.error("Failed to delete counseling session:",d),d}},getDashboardStats:async()=>{try{return await fx.getStats()}catch(c){console.error("Failed to get dashboard stats:",c);const d=await L.getJournals(),g=await L.getStudents(),o=d.filter(S=>{const _=new Date(S.date),k=new Date;return _.getMonth()===k.getMonth()&&_.getFullYear()===k.getFullYear()}).length;return{studentCount:g.length,journalCount:o,teachingHours:d.length*2}}},clearAllData:()=>{Lf()}},mx=({onLogin:c})=>{const[d,g]=w.useState("LOGIN"),[o,S]=w.useState(!1),[_,k]=w.useState(null);Vr.useEffect(()=>{const z=new URLSearchParams(window.location.search),K=z.get("token"),M=z.get("user");if(K&&M)try{const ee=JSON.parse(decodeURIComponent(M));L.saveToken(K),L.saveUser(ee),Tn(K),c(ee),window.history.replaceState({},document.title,window.location.pathname)}catch(ee){console.error("Failed to parse OAuth user",ee)}},[c]);const[H,O]=w.useState({name:"",email:"",password:"",confirmPassword:"",role:"GURU"}),I=z=>{O({...H,[z.target.name]:z.target.value}),k(null)},T=async z=>{z.preventDefault(),S(!0),k(null);try{if(d==="FORGOT"){alert(`Link reset password telah dikirim ke ${H.email}`),g("LOGIN"),S(!1);return}if(d==="REGISTER"){if(H.password!==H.confirmPassword){k("Password konfirmasi tidak cocok!"),S(!1);return}if(H.password.length<8){k("Password minimal 8 karakter"),S(!1);return}const K=await Cu.register({username:H.email,password:H.password,name:H.name,role:H.role});L.saveToken(K.token),L.saveUser(K.user),Tn(K.token),c(K.user)}else{const K=await Cu.login(H.email,H.password);L.saveToken(K.token),L.saveUser(K.user),Tn(K.token),c(K.user)}}catch(K){console.error("Auth error:",K),k(K.message||"Terjadi kesalahan. Silakan coba lagi.")}finally{S(!1)}},v=z=>{const K="/api";window.location.href=`${K}/auth/${z.toLowerCase()}`};return n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex font-sans",children:[n.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-primary-600 via-primary-700 to-green-800 dark:from-primary-700 dark:via-primary-800 dark:to-green-900 relative overflow-hidden flex-col justify-between p-12 text-white",children:[n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:"bg-white/20 p-2.5 rounded-xl backdrop-blur-sm border border-white/10 shadow-lg",children:n.jsx(_l,{size:32})}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"EduGuru"})]}),n.jsxs("div",{className:"relative z-10 max-w-md",children:[n.jsxs("h2",{className:"text-4xl font-extrabold mb-6 leading-tight drop-shadow-lg",children:["Mengajar Lebih Efektif, ",n.jsx("br",{}),"Administrasi Lebih Rapi."]}),n.jsx("p",{className:"text-primary-100 text-lg mb-8 leading-relaxed",children:"Bergabunglah dengan ribuan guru yang telah beralih ke digital. Kelola jurnal, absensi, nilai, dan konseling dalam satu aplikasi terintegrasi dengan AI."}),n.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:["Jurnal Mengajar","Absensi Siswa","Penilaian","Bimbingan","AI Assistant"].map((z,K)=>n.jsx("span",{className:"bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full text-sm border border-white/10",children:z},K))}),n.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium bg-white/10 p-4 rounded-2xl backdrop-blur-md border border-white/10 w-fit",children:[n.jsx("div",{className:"flex -space-x-3",children:[1,2,3].map(z=>n.jsx("div",{className:"w-9 h-9 rounded-full border-2 border-primary-600 bg-gray-300 overflow-hidden shadow-md",children:n.jsx("img",{src:`https://ui-avatars.com/api/?name=User+${z}&background=random`,alt:"user"})},z))}),n.jsx("span",{children:"Dipercaya oleh Guru Profesional"})]})]}),n.jsx("div",{className:"relative z-10 text-xs text-primary-200/80",children:" 2024 EduGuru App. All rights reserved. Powered by Gemini AI."}),n.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-primary-900/30 rounded-full blur-2xl translate-y-1/2 -translate-x-1/4"}),n.jsx("div",{className:"absolute top-1/2 right-1/4 w-32 h-32 bg-green-400/20 rounded-full blur-2xl"})]}),n.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 sm:p-12 relative",children:n.jsxs("div",{className:"w-full max-w-md space-y-6",children:[n.jsxs("div",{className:"lg:hidden text-center mb-8",children:[n.jsx("div",{className:"mx-auto h-14 w-14 bg-gradient-to-br from-primary-500 to-green-600 rounded-xl flex items-center justify-center text-white mb-4 shadow-lg shadow-primary-500/30 rotate-3",children:n.jsx(_l,{size:30})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"EduGuru"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Asisten Guru Modern"})]}),n.jsxs("div",{className:"text-center lg:text-left",children:[n.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[d==="LOGIN"&&"Selamat Datang Kembali",d==="REGISTER"&&"Buat Akun Baru",d==="FORGOT"&&"Lupa Password?"]}),n.jsxs("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:[d==="LOGIN"&&"Masuk untuk mengelola kelas Anda hari ini.",d==="REGISTER"&&"Lengkapi data diri untuk mulai menggunakan aplikasi.",d==="FORGOT"&&"Masukkan email untuk mereset kata sandi Anda."]})]}),_&&n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-xl flex items-center gap-2 animate-shake",children:[n.jsx(Ol,{size:18}),n.jsx("span",{className:"text-sm",children:_})]}),d==="LOGIN"&&n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>v("Google"),disabled:o,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200 rounded-xl font-bold hover:bg-gray-50 dark:hover:bg-gray-700 transition-all active:scale-[0.98] disabled:opacity-70 shadow-sm",children:[n.jsx(hx,{className:"w-5 h-5"}),"Google"]}),n.jsxs("button",{type:"button",onClick:()=>v("Microsoft"),disabled:o,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200 rounded-xl font-bold hover:bg-gray-50 dark:hover:bg-gray-700 transition-all active:scale-[0.98] disabled:opacity-70 shadow-sm",children:[n.jsx(xx,{className:"w-5 h-5"}),"Microsoft"]}),n.jsxs("button",{type:"button",onClick:()=>v("GitHub"),disabled:o,className:"col-span-2 flex items-center justify-center gap-2 px-4 py-2.5 bg-[#24292F] text-white border border-[#24292F] rounded-xl font-bold hover:bg-[#24292F]/90 transition-all active:scale-[0.98] disabled:opacity-70 shadow-sm",children:[n.jsx(If,{size:20}),"GitHub"]})]}),d==="LOGIN"&&n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-700"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-3 bg-gray-50 dark:bg-gray-900 text-gray-500",children:"atau masuk dengan akun"})})]}),n.jsxs("form",{className:"space-y-5",onSubmit:T,children:[d==="REGISTER"&&n.jsxs("div",{className:"space-y-5 animate-[fadeIn_0.3s_ease-out]",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase mb-1.5 ml-1",children:"Nama Lengkap"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:n.jsx(En,{size:18})}),n.jsx("input",{type:"text",name:"name",required:!0,value:H.name,onChange:I,className:"block w-full pl-10 pr-3 py-3 border border-gray-200 dark:border-gray-700 rounded-xl leading-5 bg-white dark:bg-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:text-white sm:text-sm transition-shadow",placeholder:"Nama Lengkap & Gelar"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase mb-1.5 ml-1",children:"Peran / Role"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("button",{type:"button",onClick:()=>O({...H,role:"GURU"}),className:`flex items-center justify-center px-4 py-2.5 border rounded-xl text-sm font-medium transition-all ${H.role==="GURU"?"border-primary-500 bg-primary-50 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300 ring-1 ring-primary-500":"border-gray-200 dark:border-gray-700 text-gray-500 hover:border-gray-300"}`,children:"Guru Mapel"}),n.jsxs("button",{type:"button",onClick:()=>O({...H,role:"ADMIN"}),className:`flex items-center justify-center px-4 py-2.5 border rounded-xl text-sm font-medium transition-all ${H.role==="ADMIN"?"border-primary-500 bg-primary-50 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300 ring-1 ring-primary-500":"border-gray-200 dark:border-gray-700 text-gray-500 hover:border-gray-300"}`,children:[n.jsx($f,{size:16,className:"mr-2"}),"Admin / BK"]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase mb-1.5 ml-1",children:d==="REGISTER"?"Email Address":"Username / Email"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:n.jsx(Eh,{size:18})}),n.jsx("input",{name:"email",type:"text",required:!0,value:H.email,onChange:I,className:"block w-full pl-10 pr-3 py-3 border border-gray-200 dark:border-gray-700 rounded-xl leading-5 bg-white dark:bg-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:text-white sm:text-sm transition-shadow",placeholder:"nama@sekolah.sch.id"})]})]}),d!=="FORGOT"&&n.jsxs("div",{className:"animate-[fadeIn_0.3s_ease-out]",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase mb-1.5 ml-1",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:n.jsx(Ff,{size:18})}),n.jsx("input",{name:"password",type:"password",required:!0,value:H.password,onChange:I,className:"block w-full pl-10 pr-3 py-3 border border-gray-200 dark:border-gray-700 rounded-xl leading-5 bg-white dark:bg-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:text-white sm:text-sm transition-shadow",placeholder:""})]})]}),d==="REGISTER"&&n.jsxs("div",{className:"animate-[fadeIn_0.3s_ease-out]",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase mb-1.5 ml-1",children:"Konfirmasi Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:n.jsx(Ut,{size:18})}),n.jsx("input",{name:"confirmPassword",type:"password",required:!0,value:H.confirmPassword,onChange:I,className:"block w-full pl-10 pr-3 py-3 border border-gray-200 dark:border-gray-700 rounded-xl leading-5 bg-white dark:bg-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:text-white sm:text-sm transition-shadow",placeholder:""})]})]}),d==="LOGIN"&&n.jsx("div",{className:"flex items-center justify-end",children:n.jsx("button",{type:"button",onClick:()=>g("FORGOT"),className:"text-sm font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400",children:"Lupa password?"})}),n.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center items-center gap-2 py-3.5 px-4 border border-transparent rounded-xl shadow-lg shadow-primary-600/30 text-sm font-bold text-white bg-gradient-to-r from-primary-600 to-green-600 hover:from-primary-700 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-70 disabled:cursor-not-allowed transition-all active:scale-[0.98] hover:shadow-primary-500/40",children:o?n.jsx(Au,{className:"w-5 h-5 animate-spin"}):n.jsxs(n.Fragment,{children:[d==="LOGIN"&&"Masuk Aplikasi",d==="REGISTER"&&"Daftar Sekarang",d==="FORGOT"&&"Kirim Link Reset",d!=="FORGOT"&&n.jsx(Th,{size:18})]})})]}),n.jsx("div",{className:"text-center mt-6",children:d==="LOGIN"?n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Belum punya akun?"," ",n.jsx("button",{onClick:()=>{g("REGISTER"),k(null)},className:"font-bold text-primary-600 hover:text-primary-500 dark:text-primary-400 transition",children:"Daftar gratis"})]}):n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center justify-center gap-1",children:[n.jsx(Ir,{size:14}),"Kembali ke"," ",n.jsx("button",{onClick:()=>{g("LOGIN"),k(null)},className:"font-bold text-primary-600 hover:text-primary-500 dark:text-primary-400 transition",children:"Halaman Login"})]})}),n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Secure connection  v1.0.0"})})]})})]})},hx=({className:c})=>n.jsxs("svg",{className:c,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),n.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),n.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),n.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),xx=({className:c})=>n.jsxs("svg",{className:c,viewBox:"0 0 23 23",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),n.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),n.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),n.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]}),Gf=({user:c,setActiveTab:d})=>{var V;const[g,o]=w.useState({studentCount:0,journalCount:0,teachingHours:0,actionNeeded:0,actionClasses:[]}),[S,_]=w.useState({journal:0,assessment:0,counseling:0}),[k,H]=w.useState([]),[O,I]=w.useState([]),[T,v]=w.useState(null),[z,K]=w.useState(new Date),M=()=>{const N=new Date().getHours();return N<11?"Selamat Pagi":N<15?"Selamat Siang":N<19?"Selamat Sore":"Selamat Malam"},ee=["Pendidikan adalah senjata paling mematikan di dunia.","Mengajar adalah belajar dua kali.","Siswa tidak peduli seberapa banyak Anda tahu, sampai mereka tahu seberapa besar Anda peduli.","Masa depan bangsa ada di tangan para pendidik."],[q]=w.useState(ee[Math.floor(Math.random()*ee.length)]);w.useEffect(()=>{(async()=>{try{const W=await L.getDashboardStats(),le=await L.getJournals(),Y=await L.getClasses(),se=await L.getStudents(),je=await L.getAllAttendanceRecords(),Ae=await L.getAllScores(),ae=await L.getCounselingSessions(),te=new Date,Se=te.getMonth(),_e=te.getFullYear(),Fe=le.filter(ge=>{if(!ge.date)return!1;const be=String(ge.date).split("-");return be.length<2?!1:parseInt(be[0])===_e&&parseInt(be[1])-1===Se}),m=Math.min(Math.round(Fe.length/40*100),100),E=Ae.filter(ge=>{if(!ge.date)return!1;const be=String(ge.date).split("-");return be.length<2?!1:parseInt(be[0])===_e&&parseInt(be[1])-1===Se}),U=new Set(E.map(ge=>ge.studentId)),ne=se.length>0?Math.min(Math.round(U.size/se.length*100),100):0,$=ae.filter(ge=>{if(!ge.date)return!1;const be=String(ge.date).split("-");return be.length<2?!1:parseInt(be[0])===_e&&parseInt(be[1])-1===Se}),Me=Math.min(Math.round($.length/10*100),100);_({journal:m,assessment:ne,counseling:Me});const oe={};je.forEach(ge=>{const be=new Date(ge.date);ge.status==="A"&&be.getMonth()===Se&&be.getFullYear()===_e&&(oe[ge.studentId]=(oe[ge.studentId]||0)+1)});const ue=Object.keys(oe).filter(ge=>oe[ge]>=4),Ne=new Set;ue.forEach(ge=>{const be=se.find(Ue=>Ue.id===ge);be&&Ne.add(be.classId)});const G=Array.from(Ne).map(ge=>{var be;return((be=Y.find(Ue=>Ue.id===ge))==null?void 0:be.name)||ge});o({...W,actionNeeded:ue.length,actionClasses:G});const ye=te.toISOString().split("T")[0],Ze=le.filter(ge=>ge.date===ye).map(ge=>{var be;return{journal:ge,className:((be=Y.find(Ue=>Ue.id===ge.classId))==null?void 0:be.name)||ge.classId}});H(Ze);const aa=[{name:"Hadir",value:0,color:"#10b981",key:"H"},{name:"Sakit",value:0,color:"#3b82f6",key:"S"},{name:"Izin",value:0,color:"#f59e0b",key:"I"},{name:"Alfa",value:0,color:"#ef4444",key:"A"}];je.forEach(ge=>{const be=new Date(ge.date);if(be.getMonth()===Se&&be.getFullYear()===_e){const Ue=aa.find(wa=>wa.key===ge.status);Ue&&Ue.value++}}),I(aa.filter(ge=>ge.value>0))}catch(W){console.error("Failed to load dashboard data:",W)}})()},[]);const X=[{title:"Total Siswa",value:g.studentCount,icon:$r,color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20",trend:[30,40,35,50,45,60]},{title:"Jurnal",value:g.journalCount,icon:Xf,color:"text-emerald-600",bg:"bg-emerald-50 dark:bg-emerald-900/20",trend:[10,20,15,25,30,45]},{title:"Jam Mengajar",value:g.teachingHours,icon:Eu,color:"text-amber-600",bg:"bg-amber-50 dark:bg-amber-900/20",trend:[18,18,20,22,21,24]},{title:"Perlu Tindakan",value:g.actionNeeded,icon:Ol,color:"text-red-600",bg:"bg-red-50 dark:bg-red-900/20",details:g.actionClasses}],Q=[{label:"Buat Jurnal",icon:Ef,color:"bg-primary-500",tab:"journal"},{label:"Input Absensi",icon:Vf,color:"bg-emerald-500",tab:"attendance"},{label:"ePenilaian",icon:_l,color:"bg-blue-500",tab:"assessment"},{label:"Tanya AI",icon:Tu,color:"bg-purple-500",tab:"chat-ai"}];return n.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white tracking-tight",children:[M(),", ",n.jsxs("span",{className:"text-primary-600 dark:text-primary-400",children:[c==null?void 0:c.name,"!"]})]}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1 font-medium italic flex items-center gap-2",children:[n.jsx(Wf,{size:16,className:"text-amber-500"}),'"',q,'"']})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-sm font-bold bg-white dark:bg-gray-800 px-4 py-2 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[n.jsx(Ns,{size:18,className:"text-primary-600"}),n.jsx("span",{className:"dark:text-white",children:new Date().toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:X.map((N,W)=>n.jsxs("div",{className:"group overflow-hidden bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 relative",children:[n.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[n.jsx("div",{className:`${N.bg} ${N.color} p-3 rounded-2xl`,children:n.jsx(N.icon,{size:24})}),N.trend&&n.jsx("div",{className:"h-10 w-20 opacity-30 group-hover:opacity-100 transition-opacity",children:n.jsx(Nu,{width:"100%",height:"100%",children:n.jsx(Kf,{data:N.trend.map(le=>({v:le})),children:n.jsx(qf,{type:"monotone",dataKey:"v",stroke:"currentColor",strokeWidth:2,dot:!1,className:N.color})})})})]}),n.jsxs("div",{className:"mt-4 relative z-10",children:[n.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-semibold",children:N.title}),n.jsxs("p",{className:"text-3xl font-black text-gray-900 dark:text-white mt-1 leading-none",children:[N.value,N.title==="Jam Mengajar"&&n.jsx("span",{className:"text-sm font-medium ml-1",children:"Jam"})]})]}),N.details&&N.value>0&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-50 dark:border-gray-700 flex flex-wrap gap-2",children:[n.jsx("span",{className:"text-[10px] uppercase font-black text-red-500 bg-red-50 dark:bg-red-900/30 px-2 py-0.5 rounded-full",children:"Butuh Verifikasi"}),n.jsxs("div",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:["Alfa  4x di ",N.details.length," Kelas"]})]}),n.jsx("div",{className:`absolute -right-4 -bottom-4 w-24 h-24 rounded-full blur-3xl opacity-0 group-hover:opacity-20 transition-opacity ${N.bg}`})]},W))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-[2rem] shadow-sm border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-black dark:text-white tracking-tight",children:"Statistik Kehadiran"}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:["Bulan berjalan (",new Date().toLocaleDateString("id-ID",{month:"long"}),")"]})]}),n.jsx(zu,{className:"text-emerald-500",size:24})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[n.jsxs("div",{className:"h-64 relative",children:[n.jsx(Nu,{width:"100%",height:"100%",children:n.jsxs(oh,{children:[n.jsx(fh,{data:O,innerRadius:70,outerRadius:100,paddingAngle:8,dataKey:"value",stroke:"none",onClick:N=>v(N.key),children:O.map((N,W)=>n.jsx(gh,{fill:N.color,className:"cursor-pointer hover:opacity-80 transition-opacity outline-none"},`cell-${W}`))}),n.jsx(Jf,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}})]})}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[n.jsxs("span",{className:"text-3xl font-black dark:text-white",children:[Math.round((((V=O.find(N=>N.key==="H"))==null?void 0:V.value)||0)/O.reduce((N,W)=>N+W.value,0)*100||0),"%"]}),n.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400",children:"Total Hadir"})]})]}),n.jsx("div",{className:"space-y-3",children:O.map(N=>n.jsxs("div",{onClick:()=>v(N.key),className:`flex items-center justify-between p-3 rounded-2xl cursor-pointer transition-all ${T===N.key?"bg-gray-100 dark:bg-gray-700 ring-2 ring-primary-500":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:N.color}}),n.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:N.name})]}),n.jsxs("span",{className:"text-gray-900 dark:text-white font-black",children:[N.value," ",n.jsx("span",{className:"text-xs font-normal text-gray-500 italic",children:"Siswa"})]})]},N.key))})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-[2rem] shadow-sm border border-gray-100 dark:border-gray-700",children:[n.jsx("h3",{className:"text-xl font-black dark:text-white tracking-tight mb-6",children:"Progress Administrasi"}),n.jsx("div",{className:"space-y-6",children:[{label:"E-Jurnal",progress:S.journal,color:"bg-emerald-500",target:"40 jurnal/bulan"},{label:"E-Penilaian",progress:S.assessment,color:"bg-blue-500",target:"% siswa dinilai"},{label:"Bimbingan Konseling",progress:S.counseling,color:"bg-amber-500",target:"10 sesi/bulan"}].map((N,W)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-bold dark:text-gray-300",children:N.label}),n.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",N.target,")"]})]}),n.jsxs("span",{className:"text-gray-500 font-semibold",children:[N.progress,"%"]})]}),n.jsx("div",{className:"h-3 w-full bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full ${N.color} transition-all duration-1000 ease-out`,style:{width:`${N.progress}%`}})})]},W))})]})]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-[2rem] shadow-sm border border-gray-100 dark:border-gray-700",children:[n.jsx("h3",{className:"text-lg font-black dark:text-white mb-4",children:"Shortcut Cepat"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:Q.map((N,W)=>n.jsxs("button",{onClick:()=>d(N.tab),className:"group p-4 bg-gray-50 dark:bg-gray-700/30 rounded-2xl hover:bg-primary-500 transition-all duration-300 text-left",children:[n.jsx("div",{className:`${N.color} p-2 rounded-xl text-white w-fit mb-3 group-hover:bg-white group-hover:text-primary-500 transition-colors shadow-lg shadow-black/5`,children:n.jsx(N.icon,{size:20})}),n.jsx("span",{className:"text-sm font-bold dark:text-white group-hover:text-white transition-colors",children:N.label})]},W))})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-[2rem] shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-black dark:text-white",children:"Aktivitas Hari Ini"}),n.jsxs("div",{className:"text-[10px] font-black uppercase text-primary-600 bg-primary-50 dark:bg-primary-900/40 px-3 py-1 rounded-full",children:[k.length," Jurnal"]})]}),n.jsx("div",{className:"space-y-4",children:k.length>0?k.map((N,W)=>n.jsxs("div",{className:"group p-4 bg-gray-50 dark:bg-gray-700/50 rounded-2xl border-l-4 border-primary-500 hover:bg-white dark:hover:bg-gray-700 transition shadow-sm hover:shadow-md",children:[n.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:N.className}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:N.journal.subject}),n.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[n.jsxs("span",{className:"text-[10px] bg-primary-100 dark:bg-primary-900/40 text-primary-700 px-2 py-0.5 rounded-full font-bold",children:["Jam ke-",N.journal.startTime]}),n.jsxs("button",{className:"text-[10px] text-primary-600 font-bold flex items-center gap-1 group-hover:translate-x-1 transition-transform",children:["Detail ",n.jsx(Ul,{size:10})]})]})]},W)):n.jsxs("div",{className:"text-center py-6 group bg-gray-50 dark:bg-gray-700/30 rounded-3xl border border-dashed border-gray-200 dark:border-gray-600 transition hover:border-primary-500",children:[n.jsx(Ch,{size:40,className:"mx-auto text-gray-300 dark:text-gray-600 mb-3 group-hover:text-primary-400 transition-colors"}),n.jsx("p",{className:"text-sm font-bold text-gray-500 dark:text-gray-400",children:"Belum Ada Sesi"}),n.jsx("button",{onClick:()=>d("journal"),className:"text-xs text-primary-600 font-bold mt-2 hover:underline",children:"Mulai buat jurnal sekarang "})]})})]}),n.jsxs("div",{className:"bg-primary-600 p-6 rounded-[2rem] text-white shadow-xl shadow-primary-500/20 relative overflow-hidden group",children:[n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(zh,{size:20,className:"animate-bounce"}),n.jsx("h3",{className:"font-black text-lg",children:"Pengumuman"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("a",{href:"https://kemendikdasmen.go.id/",target:"_blank",rel:"noopener noreferrer",className:"block bg-white/10 p-3 rounded-2xl backdrop-blur-sm hover:bg-white/20 transition cursor-pointer group/item",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-xs font-bold opacity-80",children:"Info Kemdikdasmen"}),n.jsx(Dh,{size:12,className:"opacity-60 group-hover/item:opacity-100 transition-opacity"})]}),n.jsx("p",{className:"text-sm font-medium",children:"Info terbaru dari Kementerian Pendidikan Dasar dan Menengah."})]}),n.jsxs("div",{className:"bg-white/10 p-3 rounded-2xl backdrop-blur-sm",children:[n.jsx("p",{className:"text-xs font-bold opacity-80 mb-1",children:"Sistem Update"}),n.jsx("p",{className:"text-sm font-medium",children:"Fitur Chat AI baru saja ditingkatkan kinerjanya!"})]})]})]}),n.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-white/10 rounded-full blur-2xl group-hover:scale-125 transition-transform duration-700"})]}),n.jsxs("div",{onClick:()=>d("chat-ai"),className:"bg-white dark:bg-gray-800 p-6 rounded-[2rem] shadow-sm border border-gray-100 dark:border-gray-700 group cursor-pointer hover:border-primary-500 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 text-purple-600",children:[n.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-2 rounded-xl",children:n.jsx(Tu,{size:20})}),n.jsx("h3",{className:"text-lg font-black dark:text-white",children:"Chat AI Insight"})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:'Tanyakan ke AI: "Bagaimana cara menangani siswa yang sering terlambat?"'}),n.jsxs("div",{className:"mt-4 py-2 px-4 bg-purple-50 dark:bg-purple-900/10 rounded-xl text-xs font-bold text-purple-600 flex justify-between items-center group-hover:bg-purple-600 group-hover:text-white transition-all",children:[n.jsx("span",{children:"Ingin mencoba fitur Chat AI?"}),n.jsx(Ef,{size:14})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-[2rem] shadow-sm border border-gray-100 dark:border-gray-700 h-fit",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("button",{onClick:()=>K(new Date(z.getFullYear(),z.getMonth()-1,1)),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition text-gray-500 hover:text-primary-600",children:n.jsx(ks,{size:20})}),n.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white capitalize tracking-tight",children:z.toLocaleString("id-ID",{month:"long",year:"numeric"})}),n.jsx("button",{onClick:()=>K(new Date(z.getFullYear(),z.getMonth()+1,1)),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition text-gray-500 hover:text-primary-600",children:n.jsx(Ul,{size:20})})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-2 mb-2",children:[["Mg","Sn","Sl","Rb","Km","Jm","Sb"].map(N=>n.jsx("div",{className:"text-center text-xs font-bold text-gray-400 uppercase tracking-wider py-2",children:N},N)),Array(new Date(z.getFullYear(),z.getMonth(),1).getDay()).fill(null).map((N,W)=>n.jsx("div",{},`empty-${W}`)),[...Array(new Date(z.getFullYear(),z.getMonth()+1,0).getDate())].map((N,W)=>{const le=W+1,Y=new Date().toDateString()===new Date(z.getFullYear(),z.getMonth(),le).toDateString(),se=new Date(z.getFullYear(),z.getMonth(),le).getDay()===0;return n.jsx("div",{className:`aspect-square flex items-center justify-center relative rounded-2xl transition-all duration-300 text-sm font-medium
                                        ${Y?"bg-primary-600 text-white shadow-lg shadow-primary-500/40 font-bold scale-110":"hover:bg-primary-50 dark:hover:bg-gray-700/50 text-gray-700 dark:text-gray-300"}
                                        ${se&&!Y?"text-red-500":""}
                                    `,children:le},le)})]})]})]})]})]})},bx=async(c,d,g)=>{try{return(await Pr.generateReflection(c,d,g)).text||"Gagal menghasilkan refleksi."}catch(o){return console.error("AI Error:",o),"Terjadi kesalahan saat menghubungi AI."}},yx=async(c,d)=>{try{return(await Pr.suggestTeachingMethods(c,d)).text||""}catch(g){return console.error("AI Error:",g),""}},px=async(c,d,g)=>{try{return(await Pr.generateFollowUp(c,d,g)).text||""}catch(o){return console.error("AI Error:",o),"Gagal membuat RTL."}},vx=async(c,d=[])=>{try{return(await Pr.chat(c,d)).text||"Maaf, tidak ada respons dari AI."}catch(g){throw console.error("Chat AI Error:",g),new Error("Gagal menghubungi AI. Silakan coba lagi.")}},jx=async()=>{try{return(await(await fetch("/health")).json()).ai==="enabled"}catch{return!1}},Sx=()=>{const[c,d]=w.useState("HISTORY"),[g,o]=w.useState({date:new Date().toISOString().split("T")[0],classId:"",subject:"",startTime:"",learningObjective:"",materials:"",method:"",activities:"",reflection:"",engagementLevel:"Aktif dan Antusias"}),[S,_]=w.useState([]),[k,H]=w.useState([]),[O,I]=w.useState([]),[T,v]=w.useState(!1),[z,K]=w.useState(new Date().toISOString().slice(0,7)),[M,ee]=w.useState(""),[q,X]=w.useState(""),[Q,V]=w.useState(1),N=5,[W,le]=w.useState({totalJournals:0,teachingHours:0,attendanceRate:0}),[Y,se]=w.useState(null);w.useEffect(()=>{(async()=>{try{const ye=await L.getClasses();H(ye);const Ze=await L.getSubjects();I(Ze),await Ae()}catch(ye){console.error("Failed to load initial data:",ye),je("Gagal memuat data awal","error")}})()},[]),w.useEffect(()=>{V(1)},[z,M,q]);const je=(G,ye="success")=>{se({show:!0,message:G,type:ye}),setTimeout(()=>se(null),3e3)},Ae=async()=>{const G=await L.getJournals();G.sort((ye,Ze)=>new Date(Ze.date).getTime()-new Date(ye.date).getTime()),_(G),ae(G)},ae=async G=>{const ye=G.length,Ze=new Date,aa=new Date(Ze.setDate(Ze.getDate()-Ze.getDay()));aa.setHours(0,0,0,0);const ge=new Date(aa);ge.setDate(aa.getDate()+6),ge.setHours(23,59,59,999);const be=G.filter(C=>{const F=new Date(C.date);return F>=aa&&F<=ge});let Ue=0;be.forEach(C=>{var me;if(!C.startTime)return;const F=(me=C.startTime.match(/\d+/g))==null?void 0:me.map(Number);if(F&&F.length>0)if(C.startTime.includes("-")&&F.length>=2){const Ie=Math.min(...F),ra=Math.max(...F);Ue+=ra-Ie+1}else Ue+=F.length});let wa=0;try{const C=await L.getAllAttendanceRecords();if(C.length>0){const F=C.filter(me=>me.status==="H").length;wa=Math.round(F/C.length*100)}}catch(C){console.error("Error calculating attendance stats",C)}le({totalJournals:ye,teachingHours:Ue,attendanceRate:wa})},te=G=>{o({...g,[G.target.name]:G.target.value})},Se=async()=>{if(!g.learningObjective||!g.activities){je("Mohon isi Tujuan Pembelajaran dan Kegiatan terlebih dahulu.","error");return}v(!0);const G=await bx(g.learningObjective,g.activities,g.engagementLevel||"Aktif");o(ye=>({...ye,reflection:G})),v(!1)},_e=async()=>{if(!g.materials)return;v(!0);const G=await yx(g.materials,"SMA");G&&o(ye=>({...ye,activities:(ye.activities||"")+`

Saran AI:
`+G})),v(!1)},Fe=async()=>{if(!g.classId||!g.subject||!g.date){je("Mohon lengkapi Tanggal, Kelas, dan Mata Pelajaran","error");return}try{const G={id:g.id||Date.now().toString(),createdAt:g.createdAt||Date.now(),date:g.date,classId:g.classId,subject:g.subject,startTime:g.startTime||"",learningObjective:g.learningObjective||"",materials:g.materials||"",method:g.method||"",activities:g.activities||"",reflection:g.reflection||"",engagementLevel:g.engagementLevel};await L.saveJournal(G);const ye=!!g.id;je(ye?"Jurnal berhasil diperbarui!":"Jurnal berhasil disimpan!","success"),o({date:new Date().toISOString().split("T")[0],classId:"",subject:"",startTime:"",learningObjective:"",materials:"",method:"",activities:"",reflection:"",engagementLevel:"Aktif dan Antusias"}),await Ae(),d("HISTORY")}catch(G){console.error("Failed to save journal:",G),je("Gagal menyimpan jurnal. Silakan coba lagi.","error")}},m=G=>{o(G),d("FORM")},E=G=>{confirm("Hapus jurnal ini?")&&(L.deleteJournal(G),Ae(),je("Jurnal berhasil dihapus","success"))},U=G=>{var ye;return((ye=k.find(Ze=>Ze.id===G))==null?void 0:ye.name)||G},ne=S.filter(G=>{const ye=G.date.startsWith(z),Ze=M?G.classId===M:!0,aa=q.toLowerCase()===""||G.subject.toLowerCase().includes(q.toLowerCase())||G.materials.toLowerCase().includes(q.toLowerCase())||G.reflection&&G.reflection.toLowerCase().includes(q.toLowerCase());return ye&&Ze&&aa}),$=Q*N,Me=$-N,oe=ne.slice(Me,$),ue=Math.ceil(ne.length/N),Ne=()=>{const G=[];if(ue<=5)for(let ye=1;ye<=ue;ye++)G.push(ye);else Q<=3?G.push(1,2,3,"...",ue):Q>=ue-2?G.push(1,"...",ue-2,ue-1,ue):G.push(1,"...",Q,"...",ue);return G};return n.jsxs("div",{className:"space-y-6 relative",children:[Y&&n.jsx("div",{className:"fixed top-20 right-4 z-50 animate-[slideIn_0.3s_ease-out] md:right-8",children:n.jsxs("div",{className:`${Y.type==="error"?"bg-red-500":"bg-emerald-600"} text-white px-6 py-4 rounded-2xl shadow-xl flex items-center gap-4`,children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-full",children:Y.type==="error"?n.jsx(Ol,{size:24,className:"text-white"}):n.jsx(Ut,{size:24,className:"text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-sm",children:Y.type==="error"?"Perhatian":"Berhasil!"}),n.jsx("p",{className:"text-xs text-white/90",children:Y.message})]}),n.jsx("button",{onClick:()=>se(null),className:"ml-2 text-white/70 hover:text-white transition",children:n.jsx(fl,{size:18})})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"eJurnal Mengajar"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Rekap kegiatan belajar mengajar"})]}),n.jsx("div",{children:c==="HISTORY"?n.jsxs("button",{onClick:()=>{o({date:new Date().toISOString().split("T")[0],classId:"",subject:"",startTime:"",learningObjective:"",materials:"",method:"",activities:"",reflection:"",engagementLevel:"Aktif dan Antusias"}),d("FORM")},className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl shadow-lg shadow-primary-500/30 flex items-center gap-2 transition",children:[n.jsx(Du,{size:18}),"Buat Jurnal"]}):n.jsxs("button",{onClick:()=>d("HISTORY"),className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-white rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center gap-2 transition",children:[n.jsx(Ir,{size:18}),"Kembali"]})})]}),c==="HISTORY"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium mb-1",children:"Total Jurnal"}),n.jsx("span",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:W.totalJournals}),n.jsx("p",{className:"text-xs text-emerald-600 mt-2 font-medium flex items-center gap-1",children:"+12% bulan ini"})]}),n.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-600 rounded-xl",children:n.jsx(ws,{size:24})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium mb-1",children:"Jam Mengajar"}),n.jsxs("span",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:[W.teachingHours," Jam"]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Minggu ini"})]}),n.jsx("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 text-purple-600 rounded-xl",children:n.jsx(Eu,{size:24})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium mb-1",children:"Kehadiran Siswa"}),n.jsxs("span",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:[W.attendanceRate,"%"]}),n.jsx("p",{className:"text-xs text-emerald-600 mt-2 font-medium",children:W.attendanceRate>=90?"Sangat Baik":W.attendanceRate>=75?"Cukup Baik":"Perlu Ditingkatkan"})]}),n.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 rounded-xl",children:n.jsx($r,{size:24})})]})]}),c==="FORM"?n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 animate-fade-in",children:[n.jsx("div",{className:"mb-6 pb-4 border-b border-gray-100 dark:border-gray-700",children:n.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Form Jurnal Mengajar"})}),n.jsxs("form",{className:"space-y-6",onSubmit:G=>{G.preventDefault(),Fe()},children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tanggal"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ns,{className:"absolute left-3 top-3 text-gray-400",size:20}),n.jsx("input",{type:"date",name:"date",value:g.date,onChange:te,className:"w-full pl-10 pr-3 py-3 rounded-xl border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Jam Ke"}),n.jsxs("div",{className:"relative",children:[n.jsx(Eu,{className:"absolute left-3 top-3 text-gray-400",size:20}),n.jsx("input",{name:"startTime",type:"text",value:g.startTime,onChange:te,placeholder:"Contoh: 1-2",className:"w-full pl-10 pr-3 py-3 rounded-xl border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Kelas"}),n.jsxs("select",{name:"classId",value:g.classId,onChange:te,className:"w-full rounded-xl border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-3 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition",children:[n.jsx("option",{value:"",children:"Pilih Kelas"}),k.map(G=>n.jsx("option",{value:G.id,children:G.name},G.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mata Pelajaran"}),n.jsxs("select",{name:"subject",value:g.subject,onChange:te,className:"w-full rounded-xl border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-3 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition",children:[n.jsx("option",{value:"",children:"Pilih Mapel"}),O.map(G=>n.jsx("option",{value:G,children:G},G))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Metode Pembelajaran"}),n.jsxs("select",{name:"method",value:g.method,onChange:te,className:"w-full rounded-xl border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-3 focus:ring-2 focus:ring-primary-500",children:[n.jsx("option",{value:"",children:"Pilih Metode"}),ix.map(G=>n.jsx("option",{value:G,children:G},G))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tujuan Pembelajaran"}),n.jsx("textarea",{name:"learningObjective",value:g.learningObjective,onChange:te,rows:2,className:"w-full rounded-xl border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-3 focus:ring-2 focus:ring-primary-500",placeholder:"Peserta didik mampu..."})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Materi Pokok"}),n.jsxs("button",{type:"button",onClick:_e,className:"text-xs text-purple-600 dark:text-purple-400 hover:underline flex items-center gap-1",disabled:!g.materials||T,children:[n.jsx(Zr,{size:12})," Ide Kegiatan AI"]})]}),n.jsx("input",{type:"text",name:"materials",value:g.materials,onChange:te,className:"w-full rounded-xl border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-3 focus:ring-2 focus:ring-primary-500",placeholder:"Judul Materi"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Kegiatan Pembelajaran"}),n.jsx("textarea",{name:"activities",value:g.activities,onChange:te,rows:4,className:"w-full rounded-xl border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-3 focus:ring-2 focus:ring-primary-500",placeholder:"Deskripsi singkat kegiatan..."})]}),n.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/10 p-4 rounded-xl border border-primary-100 dark:border-primary-800",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("label",{className:"block text-sm font-bold text-primary-900 dark:text-primary-200",children:"Refleksi Guru"}),n.jsxs("button",{type:"button",onClick:Se,disabled:T,className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-primary-800 text-purple-600 dark:text-purple-300 rounded-lg text-xs font-semibold shadow-sm hover:shadow transition disabled:opacity-50",children:[n.jsx(Zr,{size:14,className:T?"animate-spin":""}),T?"Sedang Berpikir...":"Bantu Buat Refleksi"]})]}),n.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Keterlibatan Siswa:"}),n.jsxs("select",{name:"engagementLevel",value:g.engagementLevel,onChange:te,className:"text-xs rounded-lg border-gray-200 dark:border-gray-600 p-1 dark:bg-gray-800 dark:text-white",children:[n.jsx("option",{children:"Sangat Aktif"}),n.jsx("option",{children:"Aktif dan Antusias"}),n.jsx("option",{children:"Cukup Aktif"}),n.jsx("option",{children:"Kurang Aktif"}),n.jsx("option",{children:"Pasif"})]})]}),n.jsx("textarea",{name:"reflection",value:g.reflection,onChange:te,rows:3,className:"w-full rounded-xl border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 dark:text-white p-3 focus:ring-2 focus:ring-primary-500",placeholder:"Catatan evaluasi pembelajaran hari ini..."})]}),n.jsx("div",{className:"pt-4 sticky bottom-0 bg-white dark:bg-gray-800 pb-2 border-t border-gray-100 dark:border-gray-700",children:n.jsxs("button",{type:"submit",className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-primary-500/30 flex items-center justify-center gap-2 transition transform active:scale-[0.98]",children:[n.jsx(Fr,{size:20}),"Simpan Jurnal"]})})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col md:flex-row gap-4 justify-between items-center",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[n.jsxs("div",{className:"relative w-full md:w-auto",children:[n.jsx(Ns,{className:"absolute left-3 top-2.5 text-gray-500 dark:text-gray-400",size:18}),n.jsx("input",{type:"month",value:z,onChange:G=>K(G.target.value),className:"pl-10 pr-4 py-2 w-full md:w-auto border border-gray-200 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-700 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 outline-none"})]}),n.jsxs("select",{value:M,onChange:G=>ee(G.target.value),className:"px-4 py-2 w-full md:w-auto border border-gray-200 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-700 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 outline-none cursor-pointer",children:[n.jsx("option",{value:"",children:"Semua Kelas"}),k.map(G=>n.jsx("option",{value:G.id,children:G.name},G.id))]})]}),n.jsxs("div",{className:"relative w-full md:w-64",children:[n.jsx(Ml,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Cari topik...",value:q,onChange:G=>X(G.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-200 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-700 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 outline-none"})]})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:ne.length===0?n.jsxs("div",{className:"text-center py-20 text-gray-400",children:[n.jsx(Ml,{size:64,className:"mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"text-lg font-medium",children:S.length===0?"Belum ada riwayat jurnal.":"Tidak ada data yang cocok."}),n.jsx("p",{className:"text-sm",children:S.length===0?'Klik "Buat Jurnal" untuk mulai mencatat.':"Coba ubah filter atau kata kunci pencarian."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 dark:text-gray-400 text-sm border-b border-gray-100 dark:border-gray-700",children:[n.jsx("th",{className:"px-6 py-4 font-semibold",children:"Tanggal"}),n.jsx("th",{className:"px-6 py-4 font-semibold",children:"Jam"}),n.jsx("th",{className:"px-6 py-4 font-semibold",children:"Kelas"}),n.jsx("th",{className:"px-6 py-4 font-semibold",children:"Mapel"}),n.jsx("th",{className:"px-6 py-4 font-semibold",children:"Materi Pokok"}),n.jsx("th",{className:"px-6 py-4 font-semibold",children:"Kegiatan"}),n.jsx("th",{className:"px-6 py-4 font-semibold",children:"Refleksi"}),n.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Aksi"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:oe.map(G=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700 dark:text-gray-200 text-sm",children:G.date.split("-").reverse().join("/")}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700 dark:text-gray-200 text-sm",children:G.startTime}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700 dark:text-gray-200 text-sm font-medium",children:U(G.classId)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700 dark:text-gray-200 text-sm",children:G.subject}),n.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-300 text-sm max-w-[200px] truncate",children:G.materials}),n.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-300 text-sm max-w-[200px] truncate",children:G.activities}),n.jsxs("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400 text-sm max-w-[200px] truncate italic",children:['"',G.reflection,'"']}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:()=>m(G),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition",title:"Edit",children:n.jsx(_h,{size:18})}),n.jsx("button",{onClick:()=>E(G.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition",title:"Hapus",children:n.jsx(An,{size:18})})]})})]},G.id))})]})})}),ne.length>0&&n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mt-4 px-2",children:[n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Menampilkan ",Me+1,"-",Math.min($,ne.length)," dari ",ne.length," data"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>V(G=>Math.max(G-1,1)),disabled:Q===1,className:"p-2 border border-gray-200 dark:border-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:n.jsx(ks,{size:16})}),n.jsx("div",{className:"flex items-center gap-1",children:Ne().map((G,ye)=>n.jsx("button",{onClick:()=>typeof G=="number"?V(G):null,disabled:G==="...",className:`w-8 h-8 flex items-center justify-center rounded-lg text-sm font-medium transition
                        ${Q===G?"bg-emerald-500 text-white shadow-md shadow-emerald-500/20":G==="..."?"text-gray-400 cursor-default":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-transparent hover:border-gray-200 dark:hover:border-gray-600"}`,children:G},ye))}),n.jsx("button",{onClick:()=>V(G=>Math.min(G+1,ue)),disabled:Q===ue,className:"p-2 border border-gray-200 dark:border-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:n.jsx(Ul,{size:16})})]})]})]})]})};var Nx=Vh();const Jr=Qf(Nx);var Qr=Ih();const Dl=(c,d,g,o,S)=>c.filter(_=>{const k=new Date(_[d]),H=k.getFullYear(),O=k.getMonth();if(H!==g)return!1;if(Array.isArray(o)){if(o.length>0)return o.includes(O)}else if(o!==-1)return O===o;return S==="ODD"?O>=6&&O<=11:S==="EVEN"?O>=0&&O<=5:!0}),Xr=c=>{if(!c)return"";const d=new Date(c),g=String(d.getDate()).padStart(2,"0"),o=String(d.getMonth()+1).padStart(2,"0"),S=d.getFullYear();return`${g}/${o}/${S}`},Su=async(c,d,g,o,S)=>{var q;const _=await L.getAllScores(),k=await L.getStudents(),H=await L.getClasses(),O=k.filter(X=>X.classId===c),I=((q=H.find(X=>X.id===c))==null?void 0:q.name)||c;let T=_.filter(X=>X.classId===c&&X.subject===d);T=Dl(T,"date",g||new Date().getFullYear(),S||-1,o||"ALL");const v=X=>{const Q=new Map;return T.filter(V=>V.type===X).forEach(V=>{let N="Penilaian";X==="FORMATIVE"?N="PH 1":X==="PORTFOLIO"?N="Tugas 1":X==="SUMMATIVE"&&(N="SLM 1");const W=V.assessmentTitle||N;Q.has(W)||Q.set(W,V.date)}),Array.from(Q.entries()).map(([V,N])=>({title:V,date:N})).sort((V,N)=>V.title.localeCompare(N.title))},z=v("FORMATIVE"),K=v("PORTFOLIO"),M=v("SUMMATIVE");return{rows:O.map((X,Q)=>{const V=T.filter(Se=>Se.studentId===X.id),N=(Se,_e)=>{var Fe,m;return _e?(Fe=V.find(E=>E.type===Se&&E.assessmentTitle===_e))==null?void 0:Fe.score:(m=V.find(E=>E.type===Se))==null?void 0:m.score},W=z.map(Se=>N("FORMATIVE",Se.title)),le=K.map(Se=>N("PORTFOLIO",Se.title)),Y=M.map(Se=>N("SUMMATIVE",Se.title)),se=N("STS"),je=N("SAS");let Ae=0,ae=0;[...W,...le,...Y,se,je].forEach(Se=>{Se!=null&&(Ae+=Se,ae++)});const te=ae>0?parseFloat((Ae/ae).toFixed(1)):0;return{no:Q+1,name:X.name,nis:X.nis,formatif:W,portfolio:le,slm:Y,sts:se,sas:je,average:te}}),formatifCols:z,portfolioCols:K,slmCols:M,className:I}},lt={journal:{toPDF:async(c,d,g)=>{let o=await L.getJournals();o=Dl(o,"date",c,d,g);const S=await L.getClasses(),_=K=>{var M;return((M=S.find(ee=>ee.id===K))==null?void 0:M.name)||K},k=new Lr("l","mm","a4");k.setFontSize(16),k.text("Laporan Jurnal Mengajar",148.5,15,{align:"center"}),k.setFontSize(10);const H=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"];let O="";Array.isArray(d)&&d.length>0?O=`${c} (${d.sort((K,M)=>K-M).map(K=>H[K]).join(", ")})`:!Array.isArray(d)&&d!==-1?O=new Date(c,d).toLocaleString("id-ID",{month:"long",year:"numeric"}):O=`${c} ${g==="ODD"?"(Ganjil)":g==="EVEN"?"(Genap)":""}`,k.text(`Periode: ${O}`,148.5,22,{align:"center"});const I=o.map((K,M)=>[M+1,Xr(K.date),K.startTime||"-",_(K.classId),K.subject,K.materials,K.method||"-",K.activities||"-",K.reflection||"-"]);Jr(k,{startY:30,head:[["No","Tgl","Jam","Kls","Mapel","Materi","Metode","Kegiatan","Refleksi"]],body:I,theme:"grid",styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[41,128,185],textColor:255,halign:"center",fontStyle:"bold"},columnStyles:{0:{halign:"center",cellWidth:8},1:{halign:"center",cellWidth:18},2:{halign:"center",cellWidth:10},3:{halign:"center",cellWidth:12},4:{halign:"center",cellWidth:20},5:{halign:"left",cellWidth:35},6:{halign:"center",cellWidth:25},7:{halign:"left",cellWidth:60},8:{halign:"left",cellWidth:60}}});const T=k.lastAutoTable.finalY+15,v=k.internal.pageSize.getWidth()-60,z=L.getUser();k.setFontSize(11),k.text(`..................., ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`,v,T,{align:"center"}),k.text("Guru Mata Pelajaran",v,T+6,{align:"center"}),k.text(`( ${(z==null?void 0:z.name)||"___________________"} )`,v,T+25,{align:"center"}),k.save("Laporan_Jurnal_Mengajar.pdf")},toExcel:async(c,d,g)=>{let o=await L.getJournals();o=Dl(o,"date",c,d,g);const S=await L.getClasses(),_=v=>{var z;return((z=S.find(K=>K.id===v))==null?void 0:z.name)||v},k=L.getUser(),H=o.map((v,z)=>({No:z+1,Tanggal:v.date,"Jam Ke":v.startTime,Kelas:_(v.classId),Mapel:v.subject,"Tujuan Pembelajaran":v.learningObjective,"Materi Pokok":v.materials,Metode:v.method,"Kegiatan Pembelajaran":v.activities,"Refleksi Guru":v.reflection})),O=sa.json_to_sheet(H),I=H.length+4;sa.sheet_add_aoa(O,[[`..................., ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`],["Guru Mata Pelajaran"],[""],[""],[`( ${(k==null?void 0:k.name)||"___________________"} )`]],{origin:`E${I}`});const T=sa.book_new();sa.book_append_sheet(T,O,"Jurnal"),Ss(T,"Laporan_Jurnal_Mengajar.xlsx")},toDocx:async(c,d,g)=>{var I;let o=await L.getJournals();o=Dl(o,"date",c,d,g);const S=await L.getClasses(),_=T=>{var v;return((v=S.find(z=>z.id===T))==null?void 0:v.name)||T},k=["No","Tanggal","Jam","Kelas","Mapel","Materi","Metode","Kegiatan","Refleksi"],H=[new ol({children:k.map(T=>new Oe({children:[new P({text:T,alignment:he.CENTER,style:"Header"})],shading:{fill:"2980B9",color:"auto"},verticalAlign:he.CENTER}))}),...o.map((T,v)=>new ol({children:[new Oe({children:[new P({text:String(v+1),alignment:he.CENTER})]}),new Oe({children:[new P({text:Xr(T.date),alignment:he.CENTER})]}),new Oe({children:[new P({text:T.startTime||"-",alignment:he.CENTER})]}),new Oe({children:[new P({text:_(T.classId),alignment:he.CENTER})]}),new Oe({children:[new P({text:T.subject,alignment:he.CENTER})]}),new Oe({children:[new P(T.materials)]}),new Oe({children:[new P(T.method||"-")]}),new Oe({children:[new P(T.activities||"-")]}),new Oe({children:[new P(T.reflection||"-")]})]}))],O=new Gr({sections:[{properties:{page:{size:{orientation:"landscape"}}},children:[new P({text:"Laporan Jurnal Mengajar",heading:"Heading1",alignment:he.CENTER}),new P({text:`Periode: ${Array.isArray(d)&&d.length>0?`${c} (${d.sort((T,v)=>T-v).map(T=>["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"][T]).join(", ")})`:!Array.isArray(d)&&d!==-1?new Date(c,d).toLocaleString("id-ID",{month:"long",year:"numeric"}):c+(g==="ODD"?" (Ganjil)":g==="EVEN"?" (Genap)":"")}`,alignment:he.CENTER,spacing:{after:200}}),new Yr({rows:H,width:{size:100,type:Kr.PERCENTAGE}}),new P({text:""}),new P({text:""}),new P({text:`..................., ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`,alignment:he.RIGHT}),new P({text:"Guru Mata Pelajaran",alignment:he.RIGHT}),new P({text:""}),new P({text:""}),new P({text:`( ${((I=L.getUser())==null?void 0:I.name)||"___________________"} )`,alignment:he.RIGHT})]}]});qr.toBlob(O).then(T=>{Qr.saveAs(T,"Laporan_Jurnal_Mengajar.docx")})}},attendance:{toPDF:(c,d,g,o)=>{const S=L.getUser(),_=new Lr;_.setFontSize(16),_.setFont("helvetica","bold"),_.text("LAPORAN ANALISIS KEHADIRAN SISWA",105,15,{align:"center"}),_.setFontSize(10),_.setFont("helvetica","normal"),_.text("EduGuru Application System",105,20,{align:"center"}),_.setLineWidth(.5),_.line(14,25,196,25),_.setFontSize(11),_.text("Kelas",14,35),_.text(`: ${d}`,50,35),_.text("Mata Pelajaran",14,40),_.text(`: ${g}`,50,40),_.text("Periode",14,45),_.text(`: ${o}`,50,45);const k=c.map(v=>[v.no,v.name,v.nis,v.S||"-",v.I||"-",v.A||"-",v.H,`${v.percentage}%`]);Jr(_,{startY:50,head:[["No","Nama Siswa","NIS","S","I","A","H","Ket (%)"]],body:k,theme:"grid",headStyles:{fillColor:[52,73,94],textColor:255,halign:"center",fontStyle:"bold",lineWidth:.1,lineColor:[200,200,200]},styles:{fontSize:10,cellPadding:3,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{halign:"center",cellWidth:12},1:{halign:"left"},2:{halign:"center",cellWidth:25},3:{halign:"center",cellWidth:12},4:{halign:"center",cellWidth:12},5:{halign:"center",cellWidth:12},6:{halign:"center",cellWidth:12},7:{halign:"center",cellWidth:20}},alternateRowStyles:{fillColor:[248,249,250]}});const H=_.lastAutoTable.finalY+15;H>250&&_.addPage();const I=_.internal.pageSize.getWidth()-60,T=H>250?20:H;_.setFontSize(11),_.text(`..................., ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`,I,T,{align:"center"}),_.text("Guru Mata Pelajaran",I,T+6,{align:"center"}),_.text(`( ${(S==null?void 0:S.name)||"___________________"} )`,I,T+25,{align:"center"}),_.save(`Laporan_Absensi_${d}_${g}.pdf`)},toExcel:(c,d,g,o)=>{const S=L.getUser(),_=c.map(T=>({No:T.no,"Nama Siswa":T.name,NIS:T.nis,"Sakit (S)":T.S,"Izin (I)":T.I,"Alfa (A)":T.A,"Hadir (H)":T.H,"Kehadiran (%)":`${T.percentage}%`})),k=sa.aoa_to_sheet([["LAPORAN ANALISIS KEHADIRAN SISWA"],[`Kelas : ${d}`],[`Mapel : ${g}`],[`Periode : ${o}`],[""]]);sa.sheet_add_json(k,_,{origin:"A6"});const H=_.length+8;sa.sheet_add_aoa(k,[[`..................., ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`],["Guru Mata Pelajaran"],[""],[""],[`( ${(S==null?void 0:S.name)||"___________________"} )`]],{origin:`E${H}`});const O=sa.book_new();sa.book_append_sheet(O,k,"Absensi");const I=`Laporan_Absensi_${d}_${g}.xlsx`.replace(/\s+/g,"_");Ss(O,I)},toDocx:(c,d,g,o)=>{const S=L.getUser(),_=[new ol({children:["No","Nama Siswa","NIS","S","I","A","H","Ket (%)"].map(H=>new Oe({children:[new P({text:H,alignment:he.CENTER,style:"Header"})],shading:{fill:"34495E",color:"auto"},verticalAlign:he.CENTER}))}),...c.map(H=>new ol({children:[new Oe({children:[new P({text:String(H.no),alignment:he.CENTER})]}),new Oe({children:[new P(H.name)]}),new Oe({children:[new P({text:H.nis,alignment:he.CENTER})]}),new Oe({children:[new P({text:String(H.S||"-"),alignment:he.CENTER})]}),new Oe({children:[new P({text:String(H.I||"-"),alignment:he.CENTER})]}),new Oe({children:[new P({text:String(H.A||"-"),alignment:he.CENTER})]}),new Oe({children:[new P({text:String(H.H),alignment:he.CENTER})]}),new Oe({children:[new P({text:`${H.percentage}%`,alignment:he.CENTER})]})]}))],k=new Gr({sections:[{children:[new P({text:"LAPORAN ANALISIS KEHADIRAN SISWA",heading:"Heading1",alignment:he.CENTER}),new P({text:"EduGuru Application System",alignment:he.CENTER}),new P({text:""}),new P({children:[new Ot({text:"Kelas: ",bold:!0}),new Ot(d)]}),new P({children:[new Ot({text:"Mata Pelajaran: ",bold:!0}),new Ot(g)]}),new P({children:[new Ot({text:"Periode: ",bold:!0}),new Ot(o)],spacing:{after:200}}),new Yr({rows:_,width:{size:100,type:Kr.PERCENTAGE}}),new P({text:""}),new P({text:""}),new P({text:`..................., ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`,alignment:he.RIGHT}),new P({text:"Guru Mata Pelajaran",alignment:he.RIGHT}),new P({text:""}),new P({text:""}),new P({text:`( ${(S==null?void 0:S.name)||"___________________"} )`,alignment:he.RIGHT})]}]});qr.toBlob(k).then(H=>{Qr.saveAs(H,`Laporan_Absensi_${d}_${g}.docx`)})}},scores:{toPDF:async(c,d,g,o,S)=>{const{rows:_,formatifCols:k,portfolioCols:H,slmCols:O,className:I}=await Su(c,d,g,o,S),T=new Lr("l","mm","a4");let v=`Mapel: ${d} | Kelas: ${I}`;if(g&&(v+=` | Tahun: ${g}`),S&&S.length>0){const X=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"];v+=` | Bulan: ${S.sort((Q,V)=>Q-V).map(Q=>X[Q]).join(",")}`}else o==="ODD"?v+=" | Sem. Ganjil":o==="EVEN"&&(v+=" | Sem. Genap");T.setFontSize(16),T.setFont("helvetica","bold"),T.text("LEGER NILAI MATA PELAJARAN",148.5,15,{align:"center"}),T.setFontSize(11),T.setFont("helvetica","normal"),T.text(v,148.5,22,{align:"center"}),T.line(14,25,283,25);const z=["No","Nama Siswa"];k.forEach(X=>z.push(X.title)),O.forEach(X=>z.push(`S:${X.title}`)),z.push("STS","SAS"),H.forEach(X=>z.push(`P:${X.title}`)),z.push("Rata");const K=_.map(X=>{const Q=[X.no,X.name];return X.formatif.forEach(V=>Q.push(V!==void 0?String(V):"-")),X.slm.forEach(V=>Q.push(V!==void 0?String(V):"-")),Q.push(X.sts!==void 0?String(X.sts):"-"),Q.push(X.sas!==void 0?String(X.sas):"-"),X.portfolio.forEach(V=>Q.push(V!==void 0?String(V):"-")),Q.push(String(X.average)),Q});Jr(T,{startY:30,head:[z],body:K,theme:"grid",styles:{fontSize:9,cellPadding:2,halign:"center"},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},columnStyles:{0:{cellWidth:10},1:{halign:"left",cellWidth:40}}});const M=T.lastAutoTable.finalY+15,ee=T.internal.pageSize.getWidth()-60,q=L.getUser();T.setFontSize(11),T.text(`..................., ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`,ee,M,{align:"center"}),T.text("Guru Mata Pelajaran",ee,M+6,{align:"center"}),T.text(`( ${(q==null?void 0:q.name)||"___________________"} )`,ee,M+25,{align:"center"}),T.save(`Leger_${I}_${d}.pdf`)},toExcel:async(c,d,g,o,S)=>{const{rows:_,formatifCols:k,portfolioCols:H,slmCols:O,className:I}=await Su(c,d,g,o,S),T=L.getUser(),v=_.map(V=>{const N={No:V.no,"Nama Siswa":V.name,NIS:V.nis};return k.length>0&&k.forEach((W,le)=>N[W.title]=V.formatif[le]??"-"),O.length>0&&O.forEach((W,le)=>N[`SLM: ${W.title}`]=V.slm[le]??"-"),N.STS=V.sts??"-",N.SAS=V.sas??"-",H.length>0&&H.forEach((W,le)=>N[`Portofolio: ${W.title}`]=V.portfolio[le]??"-"),N["Rata-Rata"]=V.average,N});let z=`Mata Pelajaran : ${d}`;if(g&&(z+=` | Tahun: ${g}`),S&&S.length>0){const V=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"];z+=` | Bulan: ${S.sort((N,W)=>N-W).map(N=>V[N]).join(",")}`}else o==="ODD"?z+=" | Sem. Ganjil":o==="EVEN"&&(z+=" | Sem. Genap");const K=sa.aoa_to_sheet([[`Kelas : ${I}`],[z],[""]]);sa.sheet_add_json(K,v,{origin:"A4"});const M=Object.keys(v[0]).length,ee=String.fromCharCode(65+Math.min(M-1,10)),q=v.length+8;sa.sheet_add_aoa(K,[[`..................., ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`],["Guru Mata Pelajaran"],[""],[""],[`( ${(T==null?void 0:T.name)||"___________________"} )`]],{origin:`${ee}${q}`});const X=sa.book_new();sa.book_append_sheet(X,K,"Leger Nilai");const Q=`Leger_${I}_${d}.xlsx`.replace(/\s+/g,"_");Ss(X,Q)},toDocx:async(c,d,g,o,S)=>{var K;const{rows:_,formatifCols:k,portfolioCols:H,slmCols:O,className:I}=await Su(c,d,g,o,S),T=["No","Nama Siswa"];k.forEach(M=>T.push(M.title)),O.forEach(M=>T.push(`S:${M.title}`)),T.push("STS","SAS"),H.forEach(M=>T.push(`P:${M.title}`)),T.push("Rata");const v=[new ol({children:T.map(M=>new Oe({children:[new P({text:M,alignment:he.CENTER,style:"Header"})],shading:{fill:"22A085",color:"auto"},verticalAlign:he.CENTER}))}),..._.map(M=>{const ee=[new Oe({children:[new P({text:String(M.no),alignment:he.CENTER})]}),new Oe({children:[new P(M.name)]})];return k.forEach((q,X)=>ee.push(new Oe({children:[new P({text:M.formatif[X]!==void 0?String(M.formatif[X]):"-",alignment:he.CENTER})]}))),O.forEach((q,X)=>ee.push(new Oe({children:[new P({text:M.slm[X]!==void 0?String(M.slm[X]):"-",alignment:he.CENTER})]}))),ee.push(new Oe({children:[new P({text:M.sts!==void 0?String(M.sts):"-",alignment:he.CENTER})]})),ee.push(new Oe({children:[new P({text:M.sas!==void 0?String(M.sas):"-",alignment:he.CENTER})]})),H.forEach((q,X)=>ee.push(new Oe({children:[new P({text:M.portfolio[X]!==void 0?String(M.portfolio[X]):"-",alignment:he.CENTER})]}))),ee.push(new Oe({children:[new P({text:String(M.average),alignment:he.CENTER})]})),new ol({children:ee})})],z=new Gr({sections:[{properties:{page:{size:{orientation:"landscape"}}},children:[new P({text:"LEGER NILAI MATA PELAJARAN",heading:"Heading1",alignment:he.CENTER}),new P({children:[new Ot({text:`Mapel: ${d} | Kelas: ${I}`}),new Ot({text:g?` | Tahun: ${g}`:""}),new Ot({text:S&&S.length>0?` | Bulan: ${S.sort((M,ee)=>M-ee).map(M=>["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"][M]).join(",")}`:o==="ODD"?" | Sem. Ganjil":o==="EVEN"?" | Sem. Genap":""})],alignment:he.CENTER,spacing:{after:200}}),new Yr({rows:v,width:{size:100,type:Kr.PERCENTAGE}}),new P({text:""}),new P({text:""}),new P({text:`..................., ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`,alignment:he.RIGHT}),new P({text:"Guru Mata Pelajaran",alignment:he.RIGHT}),new P({text:""}),new P({text:""}),new P({text:`( ${((K=L.getUser())==null?void 0:K.name)||"___________________"} )`,alignment:he.RIGHT})]}]});qr.toBlob(z).then(M=>{Qr.saveAs(M,`Leger_${I}_${d}.docx`)})}},counseling:{toPDF:async(c,d,g)=>{let o=await L.getCounselingSessions();o=Dl(o,"date",c,d,g);const S=await L.getStudents(),_=M=>{var ee;return((ee=S.find(q=>q.id===M))==null?void 0:ee.name)||M},k=L.getUser(),H=new Lr;H.setFontSize(16),H.text("LAPORAN BIMBINGAN KONSELING SISWA",105,15,{align:"center"}),H.setFontSize(10);const O=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"];let I="";Array.isArray(d)&&d.length>0?I=`${c} (${d.sort((M,ee)=>M-ee).map(M=>O[M]).join(", ")})`:!Array.isArray(d)&&d!==-1?I=new Date(c,d).toLocaleString("id-ID",{month:"long",year:"numeric"}):I=`${c} ${g==="ODD"?"(Ganjil)":g==="EVEN"?"(Genap)":""}`,H.text(`Periode: ${I}`,105,20,{align:"center"}),H.setLineWidth(.5),H.line(14,25,196,25);const T=o.map(M=>[Xr(M.date),_(M.studentId),M.type,M.notes,M.followUp||"-"]);Jr(H,{startY:25,head:[["Tanggal","Siswa","Masalah/Topik","Catatan","Tindak Lanjut"]],body:T,theme:"grid",styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[192,57,43],textColor:255,halign:"center",fontStyle:"bold"},columnStyles:{0:{cellWidth:25,halign:"center"},1:{cellWidth:35},2:{cellWidth:30},3:{halign:"justify"},4:{halign:"justify"}}});const v=H.lastAutoTable.finalY+15,z=H.internal.pageSize.getWidth()-60,K=v>250?20:v;H.setFontSize(11),H.text(`..................., ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`,z,K,{align:"center"}),H.text("Guru BK / Konselor",z,K+6,{align:"center"}),H.text(`( ${(k==null?void 0:k.name)||"___________________"} )`,z,K+25,{align:"center"}),H.save("Laporan_BK.pdf")},toExcel:async(c,d,g)=>{let o=await L.getCounselingSessions();o=Dl(o,"date",c,d,g);const S=await L.getStudents(),_=v=>{var z;return((z=S.find(K=>K.id===v))==null?void 0:z.name)||v},k=L.getUser(),H=o.map(v=>({Tanggal:v.date,Siswa:_(v.studentId),Jenis:v.type,Catatan:v.notes,"Rencana Tindak Lanjut":v.followUp,Private:v.isPrivate?"Ya":"Tidak"})),O=sa.json_to_sheet(H),I=H.length+4;sa.sheet_add_aoa(O,[[`..................., ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`],["Guru BK / Konselor"],[""],[""],[`( ${(k==null?void 0:k.name)||"___________________"} )`]],{origin:`E${I}`});const T=sa.book_new();sa.book_append_sheet(T,O,"Konseling"),Ss(T,"Data_Konseling.xlsx")},toDocx:async(c,d,g)=>{let o=await L.getCounselingSessions();o=Dl(o,"date",c,d,g);const S=await L.getStudents(),_=v=>{var z;return((z=S.find(K=>K.id===v))==null?void 0:z.name)||v},k=L.getUser(),H=[new ol({children:["Tanggal","Siswa","Masalah/Topik","Catatan","Tindak Lanjut"].map(v=>new Oe({children:[new P({text:v,alignment:he.CENTER,style:"Header"})],shading:{fill:"C0392B",color:"auto"},verticalAlign:he.CENTER}))}),...o.map(v=>new ol({children:[new Oe({children:[new P({text:Xr(v.date),alignment:he.CENTER})]}),new Oe({children:[new P(_(v.studentId))]}),new Oe({children:[new P(v.type)]}),new Oe({children:[new P(v.notes)]}),new Oe({children:[new P(v.followUp||"-")]})]}))],O=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],I=Array.isArray(d)&&d.length>0?`${c} (${d.sort((v,z)=>v-z).map(v=>O[v]).join(", ")})`:!Array.isArray(d)&&d!==-1?new Date(c,d).toLocaleString("id-ID",{month:"long",year:"numeric"}):c+(g==="ODD"?" (Ganjil)":g==="EVEN"?" (Genap)":""),T=new Gr({sections:[{children:[new P({text:"LAPORAN BIMBINGAN KONSELING SISWA",heading:"Heading1",alignment:he.CENTER}),new P({text:`Periode: ${I}`,alignment:he.CENTER,spacing:{after:200}}),new Yr({rows:H,width:{size:100,type:Kr.PERCENTAGE}}),new P({text:""}),new P({text:""}),new P({text:`..................., ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`,alignment:he.RIGHT}),new P({text:"Guru BK / Konselor",alignment:he.RIGHT}),new P({text:""}),new P({text:""}),new P({text:`( ${(k==null?void 0:k.name)||"___________________"} )`,alignment:he.RIGHT})]}]});qr.toBlob(T).then(v=>{Qr.saveAs(v,"Laporan_BK.docx")})}}},wx=()=>{const[c,d]=w.useState("ANALYSIS"),[g,o]=w.useState([]),[S,_]=w.useState([]),[k,H]=w.useState([]),[O,I]=w.useState(null),[T,v]=w.useState(""),[z,K]=w.useState(""),[M,ee]=w.useState(new Date().toISOString().split("T")[0]),[q,X]=w.useState({}),[Q,V]=w.useState(""),[N,W]=w.useState("ALL"),[le,Y]=w.useState(new Date().getFullYear()),[se,je]=w.useState(new Date().getMonth()>=6?"ODD":"EVEN"),[Ae,ae]=w.useState([]),[te,Se]=w.useState([]),[_e,Fe]=w.useState(null),[m,E]=w.useState(1),U=10;w.useEffect(()=>{(async()=>{try{const F=await L.getClasses();o(F),F.length>0&&(v(F[0].id),V(F[0].id));const me=await L.getSubjects();H(me),me.length>0&&K(me[0]);const Ie=await L.getStudents();_(Ie)}catch(F){console.error("Failed to load attendance master data:",F)}})()},[]);const ne=(C,F="success")=>{I({show:!0,message:C,type:F}),setTimeout(()=>I(null),3e3)},$=S.filter(C=>C.classId===T);w.useEffect(()=>{(async()=>{if(c==="FORM"&&T&&z)try{const F=await L.getAttendance(T,M,z);X(F)}catch(F){console.error("Failed to load attendance records:",F)}})()},[c,T,M,z]);const Me=()=>{const C={};$.forEach(F=>{C[F.id]="H"}),X(C),ne("Semua siswa ditandai hadir!","success")},oe=async()=>{await L.saveAttendanceBulk(T,M,z,q),ne("Data absensi berhasil disimpan!","success"),X({}),d("ANALYSIS")},ue=C=>{switch(C){case"H":return"Hadir";case"S":return"Sakit";case"I":return"Izin";case"A":return"Alfa";default:return"Hadir"}},Ne=$.reduce((C,F)=>{const me=q[F.id]||"H";return C[me]=(C[me]||0)+1,C},{});w.useEffect(()=>{if(c!=="ANALYSIS"||!Q)return;E(1),(async()=>{try{const F=await L.getAllAttendanceRecords(),Ie=S.filter(ra=>ra.classId===Q).map((ra,ua)=>{let Le=F.filter(ze=>ze.studentId===ra.id&&ze.classId===Q);N&&N!=="ALL"&&(Le=Le.filter(ze=>ze.subject===N));const da=Le.filter(ze=>{if(!ze.date)return!1;const nt=String(ze.date).split("-");if(nt.length<2)return!1;const Ht=parseInt(nt[0]),ut=parseInt(nt[1])-1;return Ht!==le?!1:Ae.length>0?Ae.includes(ut):se==="ODD"?ut>=6&&ut<=11:ut>=0&&ut<=5}),ta={H:0,S:0,I:0,A:0};da.forEach(ze=>{ta[ze.status]!==void 0&&ta[ze.status]++});const Qa=ta.H+ta.S+ta.I+ta.A,Rt=Qa>0?(ta.H/Qa*100).toFixed(0):"0";return{id:ra.id,no:ua+1,name:ra.name,nis:ra.nis,...ta,total:Qa,percentage:Rt}});Se(Ie)}catch(F){console.error("Failed to fetch attendance data",F)}})()},[c,Q,N,le,se,Ae,S]);const G=te.reduce((C,F)=>(C.H+=F.H||0,C.S+=F.S||0,C.I+=F.I||0,C.A+=F.A||0,C),{H:0,S:0,I:0,A:0}),ye=(C,F,me)=>{Fe(null);const Ie=parseInt(me);isNaN(Ie)||Ie<0||Se(ra=>ra.map(ua=>{if(ua.id===C){const Le={...ua,[F]:Ie},da=Le.H+Le.S+Le.I+Le.A,ta=da>0?(Le.H/da*100).toFixed(0):0;return{...Le,total:da,percentage:ta}}return ua}))},Ze=async C=>{var F;try{if(!Q||!N){alert("Mohon pilih Kelas dan Mata Pelajaran terlebih dahulu.");return}const me=((F=g.find(Le=>Le.id===Q))==null?void 0:F.name)||Q,Ie=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],ra=Ae.length>0?Ae.sort((Le,da)=>Le-da).map(Le=>Ie[Le]).join(", "):se==="ODD"?"Semester Ganjil":"Semester Genap",ua=`Tahun ${le} (${ra})`;C==="pdf"?lt.attendance.toPDF(te,me,N,ua):C==="excel"?lt.attendance.toExcel(te,me,N,ua):C==="word"&&lt.attendance.toDocx(te,me,N,ua)}catch(me){console.error(me),ne("Gagal mengunduh laporan.","error")}},aa=({value:C,studentId:F,field:me,className:Ie})=>{const ra=`${F}-${me}`,ua=_e===ra,Le=w.useRef(null),[da,ta]=w.useState(String(C));w.useEffect(()=>{ua&&Le.current&&(Le.current.focus(),Le.current.select()),ta(String(C))},[ua,C]);const Qa=()=>{da!==String(C)?ye(F,me,da):Fe(null)},Rt=ze=>{var nt;ze.key==="Enter"?(nt=Le.current)==null||nt.blur():ze.key==="Escape"&&(Fe(null),ta(String(C)))};return ua?n.jsx("td",{className:`p-1 ${Ie}`,children:n.jsx("input",{ref:Le,type:"text",inputMode:"numeric",pattern:"[0-9]*",value:da,onChange:ze=>ta(ze.target.value),onBlur:Qa,onKeyDown:Rt,className:"w-full h-8 text-center rounded border border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-200 text-sm font-bold bg-white text-gray-900"})}):n.jsx("td",{onDoubleClick:()=>Fe(ra),className:`p-4 text-center font-medium cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition select-none ${Ie}`,title:"Klik 2x untuk edit jumlah",children:C})},ge=()=>{const C=Math.ceil(te.length/U);if(C<=1)return null;const F=[];if(C<=7)for(let me=1;me<=C;me++)F.push(me);else m<=4?F.push(1,2,3,4,5,"...",C):m>=C-3?F.push(1,"...",C-4,C-3,C-2,C-1,C):F.push(1,"...",m-1,m,m+1,"...",C);return n.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[n.jsx("button",{onClick:()=>E(me=>Math.max(me-1,1)),disabled:m===1,className:"p-2 rounded-lg border border-gray-200 dark:border-gray-600 disabled:opacity-30 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:n.jsx(ks,{size:16})}),F.map((me,Ie)=>n.jsx("button",{onClick:()=>typeof me=="number"&&E(me),disabled:typeof me!="number",className:`
                            min-w-[32px] h-8 px-2 rounded-lg text-sm font-medium transition
                            ${me===m?"bg-primary-600 text-white shadow-md shadow-primary-500/30":typeof me=="number"?"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":"text-gray-400 cursor-default"}
                        `,children:me},Ie)),n.jsx("button",{onClick:()=>E(me=>Math.min(me+1,C)),disabled:m===C,className:"p-2 rounded-lg border border-gray-200 dark:border-gray-600 disabled:opacity-30 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:n.jsx(Ul,{size:16})})]})},be=m*U,Ue=be-U,wa=te.slice(Ue,be);return n.jsxs("div",{className:"space-y-6 relative",children:[O&&n.jsx("div",{className:"fixed top-20 right-4 z-50 animate-[slideIn_0.3s_ease-out] md:right-8",children:n.jsxs("div",{className:`${O.type==="error"?"bg-red-500":"bg-emerald-600"} text-white px-6 py-4 rounded-2xl shadow-xl flex items-center gap-4`,children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-full",children:O.type==="error"?n.jsx(Mh,{size:24,className:"text-white"}):n.jsx(Ut,{size:24,className:"text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-sm",children:O.type==="error"?"Perhatian":"Berhasil!"}),n.jsx("p",{className:"text-xs text-white/90",children:O.message})]}),n.jsx("button",{onClick:()=>I(null),className:"ml-2 text-white/70 hover:text-white transition",children:n.jsx(fl,{size:18})})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"eSensi (Absensi)"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:c==="ANALYSIS"?"Analisis kehadiran siswa":"Isi daftar hadir harian"})]}),n.jsx("div",{children:c==="ANALYSIS"?n.jsxs("button",{onClick:()=>d("FORM"),className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl shadow-lg shadow-primary-500/30 flex items-center gap-2 transition",children:[n.jsx(Du,{size:18}),"Buat Absensi Baru"]}):n.jsxs("button",{onClick:()=>d("ANALYSIS"),className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-white rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center gap-2 transition",children:[n.jsx(Ir,{size:18}),"Kembali"]})})]}),c==="ANALYSIS"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Kelas"}),n.jsx("select",{value:Q,onChange:C=>V(C.target.value),className:"w-full p-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white text-sm",children:g.map(C=>n.jsx("option",{value:C.id,children:C.name},C.id))})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Mapel"}),n.jsxs("select",{value:N,onChange:C=>W(C.target.value),className:"w-full p-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white text-sm",children:[n.jsx("option",{value:"ALL",children:"Semua Mapel"}),k.map(C=>n.jsx("option",{value:C,children:C},C))]})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Tahun"}),n.jsx("select",{value:le,onChange:C=>Y(parseInt(C.target.value)),className:"w-full p-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white text-sm font-bold",children:[0,1,2,3].map(C=>{const F=new Date().getFullYear()-C;return n.jsx("option",{value:F,children:F},F)})})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Semester"}),n.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 p-1 rounded-xl",children:[n.jsx("button",{onClick:()=>{je("ODD"),ae([])},className:`flex-1 py-1.5 rounded-lg text-xs font-bold transition-all ${se==="ODD"?"bg-white dark:bg-gray-600 text-primary-600 shadow-sm":"text-gray-500"}`,children:"Ganjil"}),n.jsx("button",{onClick:()=>{je("EVEN"),ae([])},className:`flex-1 py-1.5 rounded-lg text-xs font-bold transition-all ${se==="EVEN"?"bg-white dark:bg-gray-600 text-primary-600 shadow-sm":"text-gray-500"}`,children:"Genap"})]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Pilih Bulan"}),n.jsx("div",{className:"grid grid-cols-6 gap-1",children:(se==="ODD"?[6,7,8,9,10,11]:[0,1,2,3,4,5]).map(C=>{const F=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],me=Ae.includes(C);return n.jsx("button",{onClick:()=>{ae(me?Ae.filter(Ie=>Ie!==C):[...Ae,C])},className:`py-1.5 rounded-lg text-[10px] font-bold border transition-all ${me?"bg-emerald-500 border-emerald-500 text-white":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500"}`,children:F[C]},C)})})]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[{label:"Hadir",key:"H",color:"bg-emerald-500"},{label:"Sakit",key:"S",color:"bg-blue-500"},{label:"Izin",key:"I",color:"bg-amber-500"},{label:"Alfa",key:"A",color:"bg-red-500"}].map(C=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col items-center justify-center py-6",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${C.color} mb-3`}),n.jsx("span",{className:"text-3xl font-bold dark:text-white mb-1",children:G[C.key]}),n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:C.label})]},C.key))}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[n.jsxs("h3",{className:"font-bold text-gray-700 dark:text-white flex items-center gap-2",children:[n.jsx($r,{size:18}),"Rekap Absensi"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>Ze("excel"),className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded-lg transition",title:"Export Excel",children:n.jsx(_u,{size:18})}),n.jsx("button",{onClick:()=>Ze("word"),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Export Word",children:n.jsx(ws,{size:18})}),n.jsx("button",{onClick:()=>Ze("pdf"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Export PDF",children:n.jsx(Wr,{size:18})})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-100 dark:border-gray-700 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold",children:[n.jsx("th",{className:"p-4 w-12 text-center",children:"No"}),n.jsx("th",{className:"p-4",children:"Nama Siswa"}),n.jsx("th",{className:"p-4 text-center text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/10",children:"Sakit (S)"}),n.jsx("th",{className:"p-4 text-center text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/10",children:"Izin (I)"}),n.jsx("th",{className:"p-4 text-center text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/10",children:"Alfa (A)"}),n.jsx("th",{className:"p-4 text-center text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/10",children:"Hadir (H)"}),n.jsx("th",{className:"p-4 text-center font-bold",children:"Kehadiran (%)"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700 text-sm",children:wa.length>0?wa.map((C,F)=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition",children:[n.jsx("td",{className:"p-4 text-center text-gray-500",children:Ue+F+1}),n.jsxs("td",{className:"p-4 font-medium text-gray-800 dark:text-white",children:[C.name,n.jsx("span",{className:"block text-xs text-gray-400 font-normal",children:C.nis})]}),n.jsx(aa,{value:C.S,studentId:C.id,field:"S",className:"bg-blue-50/30 dark:bg-blue-900/5"}),n.jsx(aa,{value:C.I,studentId:C.id,field:"I",className:"bg-amber-50/30 dark:bg-amber-900/5"}),n.jsx(aa,{value:C.A,studentId:C.id,field:"A",className:"bg-red-50/30 dark:bg-red-900/5"}),n.jsx(aa,{value:C.H,studentId:C.id,field:"H",className:"bg-emerald-50/30 dark:bg-emerald-900/5"}),n.jsx("td",{className:"p-4 text-center",children:n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${parseFloat(C.percentage)>=75?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"}`,children:[C.percentage,"%"]})})]},C.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"p-8 text-center text-gray-400 italic",children:"Tidak ada data kehadiran untuk periode ini."})})})]})}),te.length>U&&n.jsxs("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 flex flex-col md:flex-row justify-between items-center gap-3",children:[n.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 order-2 md:order-1",children:["Menampilkan ",Ue+1,"-",Math.min(be,te.length)," dari ",te.length," siswa"]}),n.jsx("div",{className:"order-1 md:order-2",children:ge()})]})]})]}),c==="FORM"&&n.jsxs("div",{className:"animate-fade-in space-y-6",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[n.jsxs("div",{className:"w-full md:w-auto",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Tanggal"}),n.jsx("input",{type:"date",value:M,onChange:C=>ee(C.target.value),className:"w-full rounded-xl border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-2.5"})]}),n.jsxs("div",{className:"w-full md:w-auto flex-1 flex gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Kelas"}),n.jsx("select",{value:T,onChange:C=>v(C.target.value),className:"w-full rounded-xl border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-2.5",children:g.map(C=>n.jsx("option",{value:C.id,children:C.name},C.id))})]}),n.jsxs("div",{className:"flex-[2]",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Mata Pelajaran"}),n.jsx("select",{value:z,onChange:C=>K(C.target.value),className:"w-full rounded-xl border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-2.5",children:k.map(C=>n.jsx("option",{value:C,children:C},C))})]})]})]})}),n.jsx("div",{className:"grid grid-cols-4 gap-2 md:gap-4",children:[{label:"Hadir",key:"H",color:"bg-emerald-500"},{label:"Sakit",key:"S",color:"bg-blue-500"},{label:"Izin",key:"I",color:"bg-amber-500"},{label:"Alfa",key:"A",color:"bg-red-500"}].map(C=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 text-center",children:[n.jsx("div",{className:`w-2 h-2 mx-auto rounded-full ${C.color} mb-1`}),n.jsx("span",{className:"block text-2xl font-bold dark:text-white",children:Ne[C.key]||0}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:C.label})]},C.key))}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:[$.length," Siswa Terdaftar"]}),n.jsx("span",{className:"text-xs text-gray-500",children:"Pilih status kehadiran untuk setiap siswa"})]}),n.jsxs("button",{onClick:Me,className:"w-full md:w-auto px-4 py-2 bg-emerald-50 text-emerald-700 border border-emerald-200 rounded-xl hover:bg-emerald-100 transition flex items-center justify-center gap-2 text-sm font-bold shadow-sm",children:[n.jsx(Ut,{size:18}),"Hadir Semua"]})]}),n.jsx("ul",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:$.map(C=>n.jsxs("li",{className:"p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-500 dark:text-gray-400 font-bold",children:C.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-gray-800 dark:text-white",children:C.name}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:C.nis})]})]}),n.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-800/80 p-1 rounded-2xl border border-gray-200/50 dark:border-gray-700/50",children:["H","S","I","A"].map(F=>{const me=(q[C.id]||"H")===F,Ie={H:"bg-emerald-500 text-white shadow-emerald-500/20",S:"bg-blue-500 text-white shadow-blue-500/20",I:"bg-amber-500 text-white shadow-amber-500/20",A:"bg-red-500 text-white shadow-red-500/20"};return n.jsxs("button",{onClick:()=>X(ra=>({...ra,[C.id]:F})),className:`
                            relative group flex flex-col items-center justify-center
                            w-10 h-10 md:w-12 md:h-12 rounded-xl transition-all duration-200
                            ${me?`${Ie[F]} shadow-lg scale-105 z-10`:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-white dark:hover:bg-gray-700"}
                          `,children:[n.jsx("span",{className:`text-base md:text-lg font-black ${me?"scale-110":""}`,children:F}),n.jsx("span",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-800 text-white text-[10px] rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-50",children:ue(F)})]},F)})})]},C.id))})]}),n.jsx("div",{className:"h-6"}),n.jsx("div",{className:"sticky bottom-4 z-10",children:n.jsxs("button",{onClick:oe,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-primary-500/30 transition transform flex items-center justify-center gap-2 active:scale-[0.99]",children:[n.jsx(Ut,{size:20})," Simpan Absensi"]})})]})]})},kx=()=>{const[c,d]=w.useState("RECAP"),[g,o]=w.useState([]),[S,_]=w.useState([]),[k,H]=w.useState([]),[O,I]=w.useState([]),[T,v]=w.useState(null),[z,K]=w.useState(""),[M,ee]=w.useState("FORMATIVE"),[q,X]=w.useState(""),[Q,V]=w.useState("PH 1"),[N,W]=w.useState(new Date().toISOString().split("T")[0]),[le,Y]=w.useState({}),[se,je]=w.useState({}),[Ae,ae]=w.useState(75),[te,Se]=w.useState(""),[_e,Fe]=w.useState(""),[m,E]=w.useState(""),[U,ne]=w.useState(new Date().getFullYear()),[$,Me]=w.useState(new Date().getMonth()>=6?"ODD":"EVEN"),[oe,ue]=w.useState([]),[Ne,G]=w.useState(null),[ye,Ze]=w.useState(null),[aa,ge]=w.useState(null),[be,Ue]=w.useState(1),wa=10;w.useEffect(()=>{(async()=>{try{const J=await L.getClasses(),Z=await L.getSubjects(),ie=await L.getStudents(),xe=await L.getAllScores();o(J),H(Z),_(ie),I(xe),J.length>0&&(K(J[0].id),Se(J[0].id)),Z.length>0&&(X(Z[0]),Fe(Z[0]))}catch(J){console.error("Failed to load evaluation data:",J)}})()},[]);const C=(b,J="success")=>{v({show:!0,message:b,type:J}),setTimeout(()=>v(null),3e3)},F=S.filter(b=>b.classId===z);w.useEffect(()=>{(async()=>{if(c==="INPUT"&&z&&q)try{const J=O.filter(xe=>xe.classId===z&&xe.subject===q&&xe.type===M&&xe.assessmentTitle===Q),Z={},ie={};J.forEach(xe=>{Z[xe.studentId]=xe.score.toString(),xe.notes&&(ie[xe.studentId]=xe.notes)}),J.length>0&&W(J[0].date),Y(Z),je(ie)}catch(J){console.error("Failed to load scores:",J)}})()},[c,z,M,q,Q]);const me=(b,J)=>{(J===""||/^\d+$/.test(J)&&parseInt(J)<=100)&&Y(Z=>({...Z,[b]:J}))},Ie=b=>b.toLowerCase().replace(/\s+/g,"").replace(/[^a-z0-9]/g,""),ra=async()=>{const b=[],J=Ie(Q)||"standard";Object.entries(le).forEach(([ie,xe])=>{const Ge=se[ie];(xe!==void 0||Ge)&&b.push({id:`${z}_${q}_${M}_${J}_${ie}`,classId:z,subject:q,type:M,studentId:ie,score:xe?parseInt(xe):0,assessmentTitle:Q,date:N,notes:Ge})}),await L.saveScoresBulk(b);const Z=await L.getAllScores();I(Z),Y({}),je({}),C(`Nilai ${Q} berhasil disimpan!`),d("RECAP")},ua=w.useMemo(()=>{const b=Object.values(le).map(Z=>parseInt(Z)).filter(Z=>!isNaN(Z));return b.length===0?{avg:"0",max:0,min:0}:{avg:(b.reduce((Z,ie)=>Z+ie,0)/b.length).toFixed(1),max:Math.max(...b),min:Math.min(...b)}},[le]),Le=b=>{if(!b)return"";const J=new Date(b),Z=String(J.getDate()).padStart(2,"0"),ie=String(J.getMonth()+1).padStart(2,"0"),xe=J.getFullYear();return`${Z}/${ie}/${xe}`},{formatifCols:da,portfolioCols:ta,slmCols:Qa}=w.useMemo(()=>{if(!te||!_e)return{formatifCols:[],portfolioCols:[],slmCols:[]};let b=O.filter(Z=>Z.classId===te&&Z.subject===_e);b=b.filter(Z=>{const ie=new Date(Z.date),xe=ie.getFullYear(),Ge=ie.getMonth();return xe!==U?!1:$==="ODD"?Ge>=6&&Ge<=11:$==="EVEN"?Ge>=0&&Ge<=5:!0});const J=Z=>{const ie=new Map;return b.filter(xe=>xe.type===Z).forEach(xe=>{let Ge="Penilaian";Z==="FORMATIVE"?Ge="PH 1":Z==="PORTFOLIO"?Ge="Tugas 1":Z==="SUMMATIVE"&&(Ge="SLM 1");const Ra=xe.assessmentTitle||Ge;ie.has(Ra)||ie.set(Ra,xe.date)}),Array.from(ie.entries()).map(([xe,Ge])=>({title:xe,date:Ge})).sort((xe,Ge)=>xe.title.localeCompare(Ge.title))};return{formatifCols:J("FORMATIVE"),portfolioCols:J("PORTFOLIO"),slmCols:J("SUMMATIVE")}},[O,te,_e,U,$]),Rt=w.useMemo(()=>!te||!_e?[]:S.filter(Z=>Z.classId===te).filter(Z=>Z.name.toLowerCase().includes(m.toLowerCase())).map((Z,ie)=>{var Hl,Lt;const xe=O.filter(Ye=>Ye.studentId===Z.id&&Ye.subject===_e&&Ye.classId===te).filter(Ye=>{const ya=new Date(Ye.date),ht=ya.getFullYear(),Gt=ya.getMonth();return ht!==U?!1:oe.length>0?oe.includes(Gt):$==="ODD"?Gt>=6&&Gt<=11:Gt>=0&&Gt<=5}),Ge=(Ye,ya)=>ya?xe.find(ht=>ht.type===Ye&&ht.assessmentTitle===ya):xe.find(ht=>ht.type===Ye),Ra=da.map(Ye=>{var ya;return(ya=Ge("FORMATIVE",Ye.title))==null?void 0:ya.score}),Ta=ta.map(Ye=>{var ya;return(ya=Ge("PORTFOLIO",Ye.title))==null?void 0:ya.score}),Aa=Qa.map(Ye=>{var ya;return(ya=Ge("SUMMATIVE",Ye.title))==null?void 0:ya.score}),Ha=(Hl=Ge("STS"))==null?void 0:Hl.score,ka=(Lt=Ge("SAS"))==null?void 0:Lt.score;let Xa=0,st=0;[...Ra,...Ta,...Aa,Ha,ka].forEach(Ye=>{Ye!=null&&(Xa+=Ye,st++)});const Bt=st>0?parseFloat((Xa/st).toFixed(1)):0,gl=xe.filter(Ye=>Ye.notes&&Ye.notes.trim()!=="").map(Ye=>({title:Ye.assessmentTitle||Ye.type,type:Ye.type,score:Ye.score,note:Ye.notes||""}));return{no:ie+1,id:Z.id,name:Z.name,nis:Z.nis,formatif:Ra,portfolio:Ta,slm:Aa,sts:Ha,sas:ka,total:Xa,average:Bt,notes:gl}}),[S,O,te,_e,m,da,ta,Qa,U,$,oe]),ze=w.useMemo(()=>{let b=[...Rt];return Ne!==null&&b.sort((J,Z)=>{const ie=J[Ne.key],xe=Z[Ne.key];return ie===void 0?1:xe===void 0?-1:ie<xe?Ne.direction==="asc"?-1:1:ie>xe?Ne.direction==="asc"?1:-1:0}),b},[Rt,Ne]),nt=b=>{let J="asc";Ne&&Ne.key===b&&Ne.direction==="asc"&&(J="desc"),G({key:b,direction:J})},Ht=async b=>{if(!te||!_e){C("Mohon pilih Kelas dan Mata Pelajaran terlebih dahulu.","error");return}try{b==="excel"?await lt.scores.toExcel(te,_e,U,$,oe):b==="pdf"?await lt.scores.toPDF(te,_e,U,$,oe):b==="word"&&await lt.scores.toDocx(te,_e,U,$,oe),C("Laporan berhasil diunduh!")}catch(J){console.error(J),C("Gagal mengunduh laporan.","error")}},ut=async(b,J,Z,ie)=>{if(Ze(null),ie==="")return;const xe=parseInt(ie);if(isNaN(xe)||xe<0||xe>100)return;const Ge=Ie(Z)||"standard",Ra=`${te}_${_e}_${J}_${Ge}_${b}`,Ta=O.find(Xa=>Xa.id===Ra),Aa=Ta?Ta.date:new Date().toISOString().split("T")[0],Ha={id:Ra,classId:te,subject:_e,type:J,studentId:b,score:xe,assessmentTitle:Z,date:Aa};await L.saveScoresBulk([Ha]);const ka=await L.getAllScores();I(ka)},dt=({value:b,studentId:J,type:Z,title:ie,colIndex:xe,className:Ge})=>{const Ra=`${J}-${Z}-${xe!==void 0?xe:"main"}`,Ta=ye===Ra,Aa=w.useRef(null),[Ha,ka]=w.useState(b!==void 0?String(b):"");w.useEffect(()=>{Ta&&Aa.current&&(Aa.current.focus(),Aa.current.select(),ka(b!==void 0?String(b):""))},[Ta,b]);const Xa=()=>{Ha!==(b!==void 0?String(b):"")?ut(J,Z,ie,Ha):Ze(null)},st=Bt=>{var gl;Bt.key==="Enter"?(gl=Aa.current)==null||gl.blur():Bt.key==="Escape"&&(Ze(null),ka(b!==void 0?String(b):""))};return Ta?n.jsx("td",{className:`p-1 ${Ge}`,children:n.jsx("input",{ref:Aa,type:"text",inputMode:"numeric",pattern:"[0-9]*",value:Ha,onChange:Bt=>ka(Bt.target.value),onKeyDown:st,onBlur:Xa,className:"w-full h-8 text-center rounded border border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-200 text-sm font-bold bg-white text-gray-900"})}):n.jsx("td",{onDoubleClick:()=>Ze(Ra),className:`p-4 text-center cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition group select-none ${Ge}`,title:"Klik 2x untuk edit nilai",children:b==null?n.jsx("span",{className:"text-gray-300 dark:text-gray-600 group-hover:text-gray-500",children:"-"}):n.jsx("span",{className:b<75?"text-red-500 font-bold":"text-gray-900 dark:text-gray-100 font-medium",children:b})})},ei=()=>{const b=Math.ceil(ze.length/wa);if(b<=1)return null;const J=[];if(b<=7)for(let Z=1;Z<=b;Z++)J.push(Z);else be<=4?J.push(1,2,3,4,5,"...",b):be>=b-3?J.push(1,"...",b-4,b-3,b-2,b-1,b):J.push(1,"...",be-1,be,be+1,"...",b);return n.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[n.jsx("button",{onClick:()=>Ue(Z=>Math.max(Z-1,1)),disabled:be===1,className:"p-2 rounded-lg border border-gray-200 dark:border-gray-600 disabled:opacity-30 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:n.jsx(ks,{size:16})}),J.map((Z,ie)=>n.jsx("button",{onClick:()=>typeof Z=="number"&&Ue(Z),disabled:typeof Z!="number",className:`min-w-[32px] h-8 px-2 rounded-lg text-sm font-medium transition ${Z===be?"bg-primary-600 text-white shadow-md":typeof Z=="number"?"text-gray-600 dark:text-gray-300 hover:bg-gray-100":"text-gray-400"}`,children:Z},ie)),n.jsx("button",{onClick:()=>Ue(Z=>Math.min(Z+1,b)),disabled:be===b,className:"p-2 rounded-lg border border-gray-200 dark:border-gray-600 disabled:opacity-30 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:n.jsx(Ul,{size:16})})]})},Rl=be*wa,Cn=Rl-wa,As=ze.slice(Cn,Rl);return n.jsxs("div",{className:"space-y-6 relative",children:[T&&n.jsx("div",{className:"fixed top-20 right-4 z-50 animate-[slideIn_0.3s_ease-out] md:right-8",children:n.jsxs("div",{className:`${T.type==="error"?"bg-red-500":"bg-emerald-600"} text-white px-6 py-4 rounded-2xl shadow-xl flex items-center gap-4`,children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-full",children:T.type==="error"?n.jsx(Ol,{size:24,className:"text-white"}):n.jsx(Ut,{size:24,className:"text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-sm",children:T.type==="error"?"Perhatian":"Berhasil!"}),n.jsx("p",{className:"text-xs text-white/90",children:T.message})]}),n.jsx("button",{onClick:()=>v(null),className:"ml-2 text-white/70 hover:text-white transition",children:n.jsx(fl,{size:18})})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"ePenilaian"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:c==="RECAP"?"Rekap nilai hasil belajar siswa":"Input nilai penilaian harian/ujian"})]}),n.jsx("div",{children:c==="RECAP"?n.jsxs("button",{onClick:()=>d("INPUT"),className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl shadow-lg shadow-primary-500/30 flex items-center gap-2 transition",children:[n.jsx(Du,{size:18}),"Input Nilai Baru"]}):n.jsxs("button",{onClick:()=>d("RECAP"),className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-white rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center gap-2 transition",children:[n.jsx(Ir,{size:18}),"Kembali"]})})]}),c==="RECAP"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-end",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Kelas"}),n.jsx("select",{value:te,onChange:b=>{Se(b.target.value),Ue(1)},className:"w-full rounded-lg border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-2.5",children:g.map(b=>n.jsx("option",{value:b.id,children:b.name},b.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Mata Pelajaran"}),n.jsx("select",{value:_e,onChange:b=>{Fe(b.target.value),Ue(1)},className:"w-full rounded-lg border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-2.5",children:k.map(b=>n.jsx("option",{value:b,children:b},b))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Tahun"}),n.jsx("select",{value:U,onChange:b=>{ne(parseInt(b.target.value)),Ue(1)},className:"w-full rounded-lg border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-2.5 font-bold",children:[0,1,2,3].map(b=>{const J=new Date().getFullYear()-b;return n.jsx("option",{value:J,children:J},J)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Semester"}),n.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 p-1 rounded-xl",children:[n.jsx("button",{onClick:()=>{Me("ODD"),ue([]),Ue(1)},className:`flex-1 py-1.5 rounded-lg text-xs font-bold transition-all ${$==="ODD"?"bg-white dark:bg-gray-600 text-primary-600 shadow-sm":"text-gray-500"}`,children:"Ganjil"}),n.jsx("button",{onClick:()=>{Me("EVEN"),ue([]),Ue(1)},className:`flex-1 py-1.5 rounded-lg text-xs font-bold transition-all ${$==="EVEN"?"bg-white dark:bg-gray-600 text-primary-600 shadow-sm":"text-gray-500"}`,children:"Genap"})]})]}),n.jsxs("div",{className:"lg:col-span-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Pilih Bulan"}),n.jsx("div",{className:"grid grid-cols-6 gap-1",children:($==="ODD"?[6,7,8,9,10,11]:[0,1,2,3,4,5]).map(b=>{const J=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],Z=oe.includes(b);return n.jsx("button",{onClick:()=>{ue(Z?oe.filter(ie=>ie!==b):[...oe,b]),Ue(1)},className:`py-1.5 rounded-lg text-[10px] font-bold border transition-all ${Z?"bg-emerald-500 border-emerald-500 text-white":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500"}`,children:J[b]},b)})})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ml,{className:"absolute left-3 top-3 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Cari Nama Siswa...",value:m,onChange:b=>{E(b.target.value),Ue(1)},className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[n.jsxs("h3",{className:"font-bold text-gray-700 dark:text-white flex items-center gap-2",children:[n.jsx(Oh,{size:18}),"Rekap Nilai Siswa"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>Ht("excel"),title:"Export Excel",className:"p-2 bg-emerald-50 text-emerald-600 hover:bg-emerald-100 rounded-lg transition",children:n.jsx(_u,{size:20})}),n.jsx("button",{onClick:()=>Ht("word"),title:"Export Word",className:"p-2 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg transition",children:n.jsx(ws,{size:20})}),n.jsx("button",{onClick:()=>Ht("pdf"),title:"Export PDF",className:"p-2 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg transition",children:n.jsx(Wr,{size:20})})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left border-collapse whitespace-nowrap",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-100 dark:border-gray-700 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold",children:[n.jsx("th",{className:"p-4 w-12 text-center sticky left-0 bg-gray-50 dark:bg-gray-800 z-10 shadow-sm md:shadow-none",children:"No"}),n.jsx("th",{className:"p-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition sticky left-12 bg-gray-50 dark:bg-gray-800 z-10 shadow-sm md:shadow-none",onClick:()=>nt("name"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Nama Siswa ",n.jsx(Tf,{size:12})]})}),da.map((b,J)=>n.jsx("th",{className:"p-4 text-center min-w-[80px] border-l border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{children:b.title}),b.date&&n.jsx("span",{className:"text-[10px] text-gray-400 font-normal",children:Le(b.date)})]})},`h-f-${J}`)),Qa.map((b,J)=>n.jsx("th",{className:"p-4 text-center min-w-[80px] border-l border-gray-200 dark:border-gray-600 bg-blue-50/30 dark:bg-blue-900/10",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{children:"SLM"}),n.jsx("span",{className:"text-[10px] font-bold text-gray-600 dark:text-gray-300 mt-0.5",children:b.title}),b.date&&n.jsx("span",{className:"text-[10px] text-gray-400 font-normal",children:Le(b.date)})]})},`h-slm-${J}`)),n.jsx("th",{className:"p-4 text-center w-24 border-l border-gray-200 dark:border-gray-600",children:"STS"}),n.jsx("th",{className:"p-4 text-center w-24",children:"SAS"}),ta.map((b,J)=>n.jsx("th",{className:"p-4 text-center min-w-[80px] border-l border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{children:b.title}),b.date&&n.jsx("span",{className:"text-[10px] text-gray-400 font-normal",children:Le(b.date)})]})},`h-p-${J}`)),n.jsx("th",{className:"p-4 text-center w-24 border-l border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>nt("average"),children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:["Rata-rata ",n.jsx(Tf,{size:12})]})}),n.jsx("th",{className:"p-4 text-center w-16 border-l border-gray-200 dark:border-gray-600",children:"Catatan"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700 text-sm",children:As.length>0?As.map((b,J)=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition",children:[n.jsx("td",{className:"p-4 text-center text-gray-500 sticky left-0 bg-white dark:bg-gray-800 z-10",children:Cn+J+1}),n.jsxs("td",{className:"p-4 font-medium text-gray-800 dark:text-white sticky left-12 bg-white dark:bg-gray-800 z-10",children:[b.name,n.jsx("span",{className:"block text-xs text-gray-400 font-normal",children:b.nis})]}),da.map((Z,ie)=>n.jsx(dt,{value:b.formatif[ie],studentId:b.id,type:"FORMATIVE",title:Z.title,colIndex:ie,className:"border-l border-gray-50 dark:border-gray-700"},`d-f-${ie}`)),Qa.map((Z,ie)=>n.jsx(dt,{value:b.slm[ie],studentId:b.id,type:"SUMMATIVE",title:Z.title,colIndex:ie,className:"border-l border-gray-50 dark:border-gray-700 bg-blue-50/10 dark:bg-blue-900/5"},`d-slm-${ie}`)),n.jsx(dt,{value:b.sts,studentId:b.id,type:"STS",title:"Utama",className:"border-l border-gray-50 dark:border-gray-700"}),n.jsx(dt,{value:b.sas,studentId:b.id,type:"SAS",title:"Utama",className:""}),ta.map((Z,ie)=>n.jsx(dt,{value:b.portfolio[ie],studentId:b.id,type:"PORTFOLIO",title:Z.title,colIndex:ie,className:"border-l border-gray-50 dark:border-gray-700"},`d-p-${ie}`)),n.jsx("td",{className:"p-4 text-center font-bold text-primary-600 dark:text-primary-400 bg-primary-50/50 dark:bg-primary-900/10 border-l border-gray-100 dark:border-gray-700",children:b.average}),n.jsx("td",{className:"p-4 text-center border-l border-gray-100 dark:border-gray-700",children:n.jsx("button",{onClick:()=>ge({studentId:b.id,studentName:b.name,notes:b.notes}),disabled:!b.notes||b.notes.length===0,className:"p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-600 transition disabled:opacity-30",children:n.jsx(Tu,{size:18,className:b.notes&&b.notes.length>0?"text-blue-500":"text-gray-300"})})})]},b.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:15,className:"p-8 text-center text-gray-400 italic",children:"Tidak ada data ditemukan."})})})]})}),ze.length>wa&&n.jsxs("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 flex flex-col md:flex-row justify-between items-center gap-3",children:[n.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 order-2 md:order-1",children:["Menampilkan ",Cn+1,"-",Math.min(Rl,ze.length)," dari ",ze.length," siswa"]}),n.jsx("div",{className:"order-1 md:order-2",children:ei()})]})]})]}),c==="INPUT"&&n.jsxs("div",{className:"animate-fade-in space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Kelas"}),n.jsx("select",{value:z,onChange:b=>K(b.target.value),className:"w-full rounded-lg border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-2",children:g.map(b=>n.jsx("option",{value:b.id,children:b.name},b.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Mata Pelajaran"}),n.jsx("select",{value:q,onChange:b=>X(b.target.value),className:"w-full rounded-lg border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-2",children:k.map(b=>n.jsx("option",{value:b,children:b},b))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Jenis Penilaian"}),n.jsxs("select",{value:M,onChange:b=>{const J=b.target.value;ee(J),V(J==="FORMATIVE"?"PH 1":J==="PORTFOLIO"?"Tugas 1":"Utama")},className:"w-full rounded-lg border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-2",children:[n.jsx("option",{value:"FORMATIVE",children:"Formatif (Quiz/Tugas Harian)"}),n.jsx("option",{value:"SUMMATIVE",children:"Sumatif Lingkup Materi (SLM)"}),n.jsx("option",{value:"STS",children:"Sumatif Tengah Semester (STS)"}),n.jsx("option",{value:"SAS",children:"Sumatif Akhir Semester (SAS)"}),n.jsx("option",{value:"PORTFOLIO",children:"Portofolio (Proyek)"})]})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row items-end gap-4 pt-2 border-t border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex-1 w-full",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1 flex items-center gap-1",children:[n.jsx(Uh,{size:12})," Judul / Topik Penilaian"]}),n.jsx("input",{type:"text",value:Q,onChange:b=>V(b.target.value),placeholder:"Contoh: PH 1, Tugas Bab 2...",className:"w-full rounded-lg border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-2 font-medium"})]}),n.jsxs("div",{className:"w-full md:w-48",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1 flex items-center gap-1",children:[n.jsx(Ns,{size:12})," Tanggal"]}),n.jsx("input",{type:"date",value:N,onChange:b=>W(b.target.value),className:"w-full rounded-lg border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-2 font-medium"})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1 flex items-center gap-1",children:[n.jsx(Ol,{size:12})," Target KKM"]}),n.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:Ae,onChange:b=>{const J=b.target.value;(J===""||/^\d*$/.test(J))&&ae(J===""?0:parseInt(J))},className:"w-full rounded-lg border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 dark:text-white p-2 font-bold text-center"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800 text-center",children:[n.jsx("h4",{className:"text-xs font-bold text-blue-600 uppercase mb-1",children:"Rata-rata"}),n.jsx("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-200",children:ua.avg})]}),n.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-xl border border-emerald-100 dark:border-emerald-800 text-center",children:[n.jsxs("h4",{className:"text-xs font-bold text-emerald-600 uppercase mb-1 flex items-center justify-center gap-1",children:[n.jsx(zu,{size:14})," Tertinggi"]}),n.jsx("div",{className:"text-2xl font-bold text-emerald-700 dark:text-emerald-200",children:ua.max})]}),n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-xl border border-red-100 dark:border-red-800 text-center",children:[n.jsxs("h4",{className:"text-xs font-bold text-red-600 uppercase mb-1 flex items-center justify-center gap-1",children:[n.jsx(Rh,{size:14})," Terendah"]}),n.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-200",children:ua.min})]})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-100 dark:border-gray-700 text-xs uppercase text-gray-500 font-semibold",children:[n.jsx("th",{className:"p-4 w-12",children:"#"}),n.jsx("th",{className:"p-4",children:"Nama Siswa"}),n.jsx("th",{className:"p-4 w-32 text-center",children:"Nilai"}),n.jsx("th",{className:"p-4",children:"Catatan"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:F.map((b,J)=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition",children:[n.jsx("td",{className:"p-4 text-gray-500",children:J+1}),n.jsx("td",{className:"p-4 font-medium text-gray-800 dark:text-white",children:b.name}),n.jsx("td",{className:"p-4",children:n.jsx("input",{type:"text",inputMode:"numeric",value:le[b.id]||"",onChange:Z=>me(b.id,Z.target.value),className:`w-full text-center p-2 rounded-lg border font-bold ${!isNaN(parseInt(le[b.id]))&&parseInt(le[b.id])<Ae?"bg-red-50 border-red-300 text-red-600":"bg-gray-50 border-gray-200 dark:bg-gray-800 dark:text-white"}`})}),n.jsx("td",{className:"p-4",children:n.jsx("input",{type:"text",value:se[b.id]||"",onChange:Z=>je(ie=>({...ie,[b.id]:Z.target.value})),className:"w-full p-2 rounded-lg border border-gray-200 dark:bg-gray-800 dark:text-white text-sm",placeholder:"Catatan..."})})]},b.id))})]})})}),n.jsx("div",{className:"flex justify-end p-4",children:n.jsxs("button",{onClick:ra,className:"bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg flex items-center gap-2 transition",children:[n.jsx(Ut,{size:20})," Simpan Semua Nilai"]})})]}),aa&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden transform scale-100 animate-in zoom-in-95 duration-200 border border-gray-100",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Catatan Penilaian"}),n.jsx("p",{className:"text-xs text-gray-500",children:aa.studentName})]}),n.jsx("button",{onClick:()=>ge(null),className:"p-1 hover:bg-gray-200 rounded-full transition text-gray-400",children:n.jsx(fl,{size:20})})]}),n.jsxs("div",{className:"p-5 max-h-[60vh] overflow-y-auto",children:[n.jsx("div",{className:"space-y-4",children:aa.notes.map((b,J)=>n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("span",{className:"text-xs font-bold text-primary-600 bg-primary-50 px-2 py-0.5 rounded uppercase tracking-wider",children:b.title}),b.score>0&&n.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["Nilai: ",b.score]})]}),n.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed italic",children:['"',b.note,'"']})]},J))}),n.jsx("button",{onClick:()=>ge(null),className:"w-full mt-6 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-bold",children:"Tutup"})]})]})})]})},Ax=()=>{var Ae;const[c,d]=w.useState([]),[g,o]=w.useState([]),[S,_]=w.useState(""),[k,H]=w.useState("AKADEMIK"),[O,I]=w.useState(new Date().toISOString().split("T")[0]),[T,v]=w.useState(""),[z,K]=w.useState(""),[M,ee]=w.useState(!0),[q,X]=w.useState(""),[Q,V]=w.useState(!1),[N,W]=w.useState(null);w.useEffect(()=>{(async()=>{try{const te=await L.getStudents();d(te);const Se=await L.getClasses();o(Se)}catch(te){console.error("Failed to load counseling data:",te)}})()},[]);const le=c.filter(ae=>ae.name.toLowerCase().includes(q.toLowerCase())||ae.nis.includes(q)),Y=c.find(ae=>ae.id===S),se=async()=>{if(!Y||!T){W({show:!0,message:"Isi catatan konseling terlebih dahulu untuk generate RTL."}),setTimeout(()=>W(null),3e3);return}V(!0);const ae=await px(Y.name,k,T);ae&&K(ae),V(!1)},je=()=>{if(!S)return;const ae={id:Date.now().toString(),studentId:S,date:O,type:k,notes:T,followUp:z,isPrivate:M};L.saveCounselingSession(ae),v(""),K(""),W({show:!0,message:"Data konseling berhasil dicatat!"}),setTimeout(()=>W(null),3e3)};return n.jsxs("div",{className:"space-y-6 relative",children:[N&&n.jsx("div",{className:"fixed top-20 right-4 z-50 animate-[slideIn_0.3s_ease-out] md:right-8",children:n.jsxs("div",{className:"bg-emerald-600 text-white px-6 py-4 rounded-2xl shadow-xl flex items-center gap-4",children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-full",children:n.jsx(Ut,{size:24,className:"text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-sm",children:"Berhasil!"}),n.jsx("p",{className:"text-xs text-emerald-100",children:N.message})]}),n.jsx("button",{onClick:()=>W(null),className:"ml-2 text-emerald-200 hover:text-white transition",children:n.jsx(fl,{size:18})})]})}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"eKonseling"}),n.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-amber-600 bg-amber-50 dark:bg-amber-900/20 dark:text-amber-400 px-3 py-1 rounded-full border border-amber-200 dark:border-amber-800",children:[n.jsx(Ff,{size:12}),"Privasi Terjamin"]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col h-[500px]",children:[n.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ml,{className:"absolute left-3 top-3 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Cari Siswa...",value:q,onChange:ae=>X(ae.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-50 dark:bg-gray-700 border-none focus:ring-2 focus:ring-primary-500 dark:text-white"})]})}),n.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:le.map(ae=>{var te;return n.jsxs("button",{onClick:()=>_(ae.id),className:`w-full text-left p-3 rounded-xl flex items-center justify-between mb-1 transition ${S===ae.id?"bg-primary-50 dark:bg-primary-900/30 border-primary-200":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-xs font-bold text-gray-600 dark:text-gray-300",children:ae.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm font-semibold ${S===ae.id?"text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-200"}`,children:ae.name}),n.jsx("p",{className:"text-xs text-gray-500",children:((te=g.find(Se=>Se.id===ae.classId))==null?void 0:te.name)||"Unknown Class"})]})]}),S===ae.id&&n.jsx(Ul,{size:16,className:"text-primary-500"})]},ae.id)})})]}),n.jsx("div",{className:"lg:col-span-2",children:Y?n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-100 dark:border-gray-700",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center text-2xl font-bold text-primary-600 dark:text-primary-300",children:Y.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold dark:text-white",children:Y.name}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["NIS: ",Y.nis,"  ",(Ae=g.find(ae=>ae.id===Y.classId))==null?void 0:Ae.name]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tanggal Konseling"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ns,{className:"absolute left-3 top-3 text-gray-400",size:18}),n.jsx("input",{type:"date",value:O,onChange:ae=>I(ae.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Jenis Masalah"}),n.jsxs("select",{value:k,onChange:ae=>H(ae.target.value),className:"w-full py-2.5 px-4 rounded-xl border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-primary-500",children:[n.jsx("option",{value:"AKADEMIK",children:"Akademik (Nilai/Belajar)"}),n.jsx("option",{value:"PERILAKU",children:"Perilaku (Kedisiplinan)"}),n.jsx("option",{value:"PRIBADI",children:"Pribadi"}),n.jsx("option",{value:"SOSIAL",children:"Sosial (Teman/Bullying)"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Catatan Konseling"}),n.jsx("textarea",{rows:4,value:T,onChange:ae=>v(ae.target.value),className:"w-full p-4 rounded-xl border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-primary-500",placeholder:"Deskripsikan permasalahan dan hasil diskusi..."})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Rencana Tindak Lanjut"}),n.jsxs("button",{type:"button",onClick:se,disabled:Q||!T,className:"flex items-center gap-1.5 px-3 py-1 bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-300 rounded-lg text-xs font-semibold shadow-sm hover:bg-purple-100 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Zr,{size:12,className:Q?"animate-spin":""}),Q?"Sedang Membuat...":"Bantu Buat RTL"]})]}),n.jsx("textarea",{rows:3,value:z,onChange:ae=>K(ae.target.value),className:"w-full p-4 rounded-xl border border-primary-200 dark:border-primary-800 bg-white dark:bg-gray-800 dark:text-white focus:ring-2 focus:ring-primary-500",placeholder:"Apa yang akan dilakukan selanjutnya?"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"private",checked:M,onChange:ae=>ee(ae.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),n.jsx("label",{htmlFor:"private",className:"text-sm text-gray-600 dark:text-gray-300 select-none",children:"Tandai sebagai rahasia (Hanya Guru BK)"})]}),n.jsx("div",{className:"pt-4 flex justify-end",children:n.jsxs("button",{onClick:je,className:"bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg transition flex items-center gap-2 active:scale-[0.98]",children:[n.jsx(Fr,{size:18}),"Simpan Data"]})})]}):n.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-800/50 rounded-2xl border-2 border-dashed border-gray-200 dark:border-gray-700 p-12 text-center text-gray-400",children:[n.jsx(Ml,{size:48,className:"mb-4 opacity-50"}),n.jsx("p",{className:"font-medium",children:"Pilih siswa dari daftar di samping untuk memulai konseling."})]})})]})]})},Ex=()=>{const[c,d]=w.useState([]),[g,o]=w.useState([]),[S,_]=w.useState([]),[k,H]=w.useState(new Date().getFullYear()),[O,I]=w.useState(new Date().getMonth()>=6?"ODD":"EVEN"),[T,v]=w.useState([]),[z,K]=w.useState(""),[M,ee]=w.useState(""),[q,X]=w.useState(""),[Q,V]=w.useState([]);w.useEffect(()=>{(async()=>{try{const se=await L.getClasses(),je=await L.getSubjects(),Ae=await L.getStudents();d(se),se.length>0&&K(se[0].id),_(je),je.length>0&&X(je[0]),o(Ae)}catch(se){console.error("Failed to load initial data",se)}})()},[]);const N=g.filter(Y=>Y.classId===z);w.useEffect(()=>{N.length>0?ee(N[0].id):ee("")},[z,g]),w.useEffect(()=>{if(!M){V([]);return}(async()=>{try{const Ae=(await L.getAllScores()).filter(ae=>ae.studentId===M&&ae.subject===q).sort((ae,te)=>new Date(ae.date).getTime()-new Date(te.date).getTime()).map(ae=>({date:new Date(ae.date).toLocaleDateString("id-ID",{day:"numeric",month:"short"}),nilai:ae.score,type:ae.type}));V(Ae)}catch(se){console.error("Failed to fetch chart data",se)}})()},[M,q]);const W=async(Y,se)=>{try{switch(Y){case"journal":se==="pdf"?await lt.journal.toPDF(k,T,O):se==="excel"?await lt.journal.toExcel(k,T,O):se==="word"&&await lt.journal.toDocx(k,T,O);break;case"counseling":se==="pdf"?await lt.counseling.toPDF(k,T,O):se==="excel"?await lt.counseling.toExcel(k,T,O):se==="word"&&await lt.counseling.toDocx(k,T,O);break;default:alert("Tipe laporan belum didukung")}}catch(je){console.error(je),alert("Gagal mengunduh laporan. Pastikan data tersedia.")}},le=[{id:"journal",title:"Laporan Jurnal Mengajar",desc:"Rekap aktivitas harian guru",color:"bg-emerald-500"},{id:"counseling",title:"Laporan Bimbingan Konseling",desc:"Statistik kasus siswa",color:"bg-red-500"}];return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold dark:text-white mb-6",children:"Laporan & Arsip"}),n.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800 mb-6 space-y-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Cf,{size:20,className:"text-blue-600 dark:text-blue-400 shrink-0 mt-0.5"}),n.jsxs("div",{className:"w-full",children:[n.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:[n.jsx("b",{children:"Filter Laporan:"})," Gunakan filter di bawah ini untuk mengatur periode pada ",n.jsx("b",{children:"Jurnal Mengajar"})," dan ",n.jsx("b",{children:"Bimbingan Konseling"}),"."]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-blue-800 dark:text-blue-200 uppercase mb-1",children:"Tahun"}),n.jsx("select",{value:k,onChange:Y=>H(parseInt(Y.target.value)),className:"w-full p-2.5 rounded-lg border border-blue-200 dark:border-blue-700 bg-white dark:bg-gray-800 text-sm focus:ring-2 focus:ring-blue-400 font-bold",children:[0,1,2,3].map(Y=>{const se=new Date().getFullYear()-Y;return n.jsx("option",{value:se,children:se},se)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-blue-800 dark:text-blue-200 uppercase mb-1",children:"Semester"}),n.jsxs("div",{className:"flex bg-white/50 dark:bg-gray-800/50 p-1 rounded-xl border border-blue-200 dark:border-blue-700",children:[n.jsx("button",{onClick:()=>{I("ODD"),v([])},className:`flex-1 py-1.5 rounded-lg text-xs font-bold transition-all ${O==="ODD"?"bg-blue-600 text-white shadow-md":"text-blue-600"}`,children:"Ganjil"}),n.jsx("button",{onClick:()=>{I("EVEN"),v([])},className:`flex-1 py-1.5 rounded-lg text-xs font-bold transition-all ${O==="EVEN"?"bg-blue-600 text-white shadow-md":"text-blue-600"}`,children:"Genap"})]})]}),n.jsxs("div",{className:"md:col-span-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-blue-800 dark:text-blue-200 uppercase mb-1",children:"Pilih Bulan"}),n.jsx("div",{className:"grid grid-cols-6 gap-1",children:(O==="ODD"?[6,7,8,9,10,11]:[0,1,2,3,4,5]).map(Y=>{const se=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],je=T.includes(Y);return n.jsx("button",{onClick:()=>{v(je?T.filter(Ae=>Ae!==Y):[...T,Y])},className:`py-1.5 rounded-lg text-[10px] font-bold border transition-all ${je?"bg-emerald-500 border-emerald-500 text-white":"bg-white/50 dark:bg-gray-800/50 border-blue-200 dark:border-blue-700 text-blue-600"}`,children:se[Y]},Y)})})]})]})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:le.map((Y,se)=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col justify-between",children:[n.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[n.jsx("div",{className:`p-3 rounded-xl ${Y.color} text-white shadow-lg shadow-${Y.color}/30`,children:n.jsx(ws,{size:24})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:Y.title}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:Y.desc})]})]}),n.jsxs("div",{className:"flex gap-3 mt-4",children:[n.jsxs("button",{onClick:()=>W(Y.id,"excel"),className:"flex-1 py-2.5 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm font-bold text-emerald-600 dark:text-emerald-400 flex items-center justify-center gap-2 transition",children:[n.jsx(_u,{size:16})," Excel"]}),n.jsxs("button",{onClick:()=>W(Y.id,"word"),className:"flex-1 py-2.5 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm font-bold text-blue-600 dark:text-blue-400 flex items-center justify-center gap-2 transition",children:[n.jsx(ws,{size:16})," Word"]}),n.jsxs("button",{onClick:()=>W(Y.id,"pdf"),className:"flex-1 py-2.5 rounded-lg bg-gray-900 dark:bg-white text-white dark:text-gray-900 hover:bg-gray-800 dark:hover:bg-gray-100 text-sm font-bold flex items-center justify-center gap-2 transition",children:[n.jsx(Wr,{size:16})," PDF"]})]})]},se))})]}),n.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-700"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-bold dark:text-white flex items-center gap-2",children:[n.jsx(zu,{className:"text-primary-600"}),"Analisis Perkembangan Siswa"]}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Visualisasi data nilai siswa dari waktu ke waktu."})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full md:w-auto",children:[n.jsx("select",{value:z,onChange:Y=>K(Y.target.value),className:"flex-1 md:flex-none p-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 dark:text-white text-sm",children:c.map(Y=>n.jsx("option",{value:Y.id,children:Y.name},Y.id))}),n.jsx("select",{value:M,onChange:Y=>ee(Y.target.value),className:"flex-1 md:flex-none p-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 dark:text-white text-sm",children:N.map(Y=>n.jsx("option",{value:Y.id,children:Y.name},Y.id))}),n.jsx("select",{value:q,onChange:Y=>X(Y.target.value),className:"flex-1 md:flex-none p-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 dark:text-white text-sm",children:S.map(Y=>n.jsx("option",{value:Y,children:Y},Y))})]})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:Q.length>0?n.jsx("div",{className:"h-80 w-full",children:n.jsx(Nu,{width:"100%",height:"100%",children:n.jsxs(Kf,{data:Q,margin:{top:5,right:20,bottom:5,left:0},children:[n.jsx(mh,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),n.jsx(hh,{dataKey:"date",stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(xh,{domain:[0,100],stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(Jf,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",backgroundColor:"rgba(255, 255, 255, 0.95)"}}),n.jsx(bh,{}),n.jsx(qf,{type:"monotone",dataKey:"nilai",name:"Nilai",stroke:"#22c55e",strokeWidth:3,dot:{r:4,fill:"#22c55e",strokeWidth:2,stroke:"#fff"},activeDot:{r:6}})]})})}):n.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-gray-400",children:[n.jsx(Cf,{size:48,className:"mb-2 opacity-20"}),n.jsx("p",{children:"Belum ada data nilai untuk siswa dan mata pelajaran ini."}),n.jsx("p",{className:"text-xs mt-1",children:"Silakan input nilai di menu ePenilaian terlebih dahulu."})]})})]})]})},Tx=({user:c,onUpdateUser:d,isDarkMode:g,toggleTheme:o})=>{const[S,_]=w.useState((c==null?void 0:c.name)||""),[k,H]=w.useState((c==null?void 0:c.username)||""),[O,I]=w.useState((c==null?void 0:c.avatar)||""),[T,v]=w.useState(""),[z,K]=w.useState(""),[M,ee]=w.useState(""),[q,X]=w.useState(!1),[Q,V]=w.useState(null),N=async()=>{if(c)try{const Y=await L.updateUser({name:S,avatar:O});Y&&(d(Y),V({show:!0,message:"Profil berhasil diperbarui!",type:"success"}),setTimeout(()=>V(null),3e3))}catch{V({show:!0,message:"Gagal memperbarui profil.",type:"error"}),setTimeout(()=>V(null),3e3)}},W=async Y=>{if(Y.preventDefault(),z!==M){V({show:!0,message:"Konfirmasi password tidak cocok!",type:"error"});return}X(!0);try{await L.updateUser({currentPassword:T,newPassword:z})&&(V({show:!0,message:"Password berhasil diganti!",type:"success"}),v(""),K(""),ee(""))}catch(se){V({show:!0,message:se.message||"Gagal mengganti password",type:"error"})}finally{X(!1),setTimeout(()=>V(null),4e3)}},le=()=>{prompt("Ketik 'RESET' untuk menghapus semua data (Jurnal, Nilai, Absensi). Data User tidak akan dihapus.")==="RESET"&&(L.clearAllData(),alert("Semua data aplikasi telah dihapus. Halaman akan dimuat ulang."),window.location.reload())};return n.jsxs("div",{className:"space-y-6 pb-10 relative",children:[Q&&n.jsx("div",{className:"fixed top-20 right-4 z-[100] animate-[slideIn_0.3s_ease-out] md:right-8",children:n.jsxs("div",{className:`${Q.type==="error"?"bg-red-600":"bg-emerald-600"} text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 backdrop-blur-lg bg-opacity-90 border border-white/10`,children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-full",children:Q.type==="error"?n.jsx(fl,{size:24}):n.jsx(Ut,{size:24})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-sm",children:Q.type==="error"?"Oops!":"Berhasil!"}),n.jsx("p",{className:"text-xs opacity-90",children:Q.message})]}),n.jsx("button",{onClick:()=>V(null),className:"ml-2 opacity-50 hover:opacity-100 transition",children:n.jsx(fl,{size:18})})]})}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h2",{className:"text-3xl font-black dark:text-white tracking-tight",children:"Pengaturan"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Kelola akun dan preferensi aplikasi Anda."})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-gray-700 relative overflow-hidden group",children:[n.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity",children:n.jsx(En,{size:120})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start relative z-10",children:[n.jsxs("div",{className:"relative group/avatar",children:[n.jsx("div",{className:"w-32 h-32 rounded-[2rem] bg-gradient-to-br from-primary-500 to-emerald-600 p-1 shadow-xl",children:n.jsx("div",{className:"w-full h-full rounded-[1.8rem] bg-white dark:bg-gray-800 overflow-hidden flex items-center justify-center",children:O?n.jsx("img",{src:O,alt:"avatar",className:"w-full h-full object-cover"}):n.jsx(En,{size:48,className:"text-primary-500"})})}),n.jsx("button",{onClick:()=>{const Y=prompt("Masukkan URL foto profil baru Anda:",O);Y!==null&&I(Y)},className:"absolute -right-2 -bottom-2 p-3 bg-white dark:bg-gray-700 shadow-lg rounded-2xl text-primary-600 hover:scale-110 transition active:scale-95 border border-gray-100 dark:border-gray-600",children:n.jsx(Hh,{size:20})})]}),n.jsxs("div",{className:"flex-1 space-y-6 w-full",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-black uppercase text-gray-400 tracking-wider ml-1",children:"Nama Lengkap & Gelar"}),n.jsxs("div",{className:"relative group",children:[n.jsx(En,{className:"absolute left-4 top-3.5 text-gray-400 group-focus-within:text-primary-500 transition-colors",size:18}),n.jsx("input",{type:"text",value:S,onChange:Y=>_(Y.target.value),className:"w-full pl-12 pr-4 py-3.5 rounded-2xl border-none bg-gray-50 dark:bg-gray-700/50 dark:text-white focus:ring-2 focus:ring-primary-500 transition-all font-semibold",placeholder:"Contoh: Ahmad, S.Pd."})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-black uppercase text-gray-400 tracking-wider ml-1",children:"Username / NIP"}),n.jsxs("div",{className:"relative opacity-60",children:[n.jsx($f,{className:"absolute left-4 top-3.5 text-gray-400",size:18}),n.jsx("input",{type:"text",readOnly:!0,value:k,className:"w-full pl-12 pr-4 py-3.5 rounded-2xl border-none bg-gray-100 dark:bg-gray-900/40 dark:text-gray-400 font-semibold cursor-not-allowed"})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-4",children:[n.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-primary-50 dark:bg-primary-900/30 rounded-full",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-500 animate-pulse"}),n.jsxs("span",{className:"text-[10px] font-black uppercase text-primary-600 dark:text-primary-400 tracking-widest",children:[c==null?void 0:c.role," ACCOUNT"]})]}),n.jsxs("button",{onClick:N,className:"bg-primary-600 hover:bg-primary-700 text-white font-black py-3 px-8 rounded-2xl shadow-xl shadow-primary-500/20 flex items-center gap-2 transition-all active:scale-[0.95]",children:[n.jsx(Fr,{size:20}),"Simpan Perubahan"]})]})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsx("div",{className:"p-4 bg-amber-100 dark:bg-amber-900/40 text-amber-600 dark:text-amber-400 rounded-2xl shadow-inner",children:n.jsx(Bh,{size:24})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-black dark:text-white tracking-tight",children:"Keamanan Akun"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Perbarui kata sandi Anda secara berkala."})]})]}),n.jsxs("form",{onSubmit:W,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-black uppercase text-gray-400 tracking-wider ml-1",children:"Password Saat Ini"}),n.jsx("input",{type:"password",required:!0,value:T,onChange:Y=>v(Y.target.value),className:"w-full px-5 py-3.5 rounded-2xl border-none bg-gray-50 dark:bg-gray-700/50 dark:text-white focus:ring-2 focus:ring-amber-500 transition-all font-semibold"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-black uppercase text-gray-400 tracking-wider ml-1",children:"Password Baru"}),n.jsx("input",{type:"password",required:!0,value:z,onChange:Y=>K(Y.target.value),className:"w-full px-5 py-3.5 rounded-2xl border-none bg-gray-50 dark:bg-gray-700/50 dark:text-white focus:ring-2 focus:ring-amber-500 transition-all font-semibold"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-black uppercase text-gray-400 tracking-wider ml-1",children:"Konfirmasi Password"}),n.jsx("input",{type:"password",required:!0,value:M,onChange:Y=>ee(Y.target.value),className:"w-full px-5 py-3.5 rounded-2xl border-none bg-gray-50 dark:bg-gray-700/50 dark:text-white focus:ring-2 focus:ring-amber-500 transition-all font-semibold"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{disabled:q,className:"px-8 py-3.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-black rounded-2xl hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:q?"Memproses...":"Ganti Password Sekarang"})})]})]})]}),n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-gray-700",children:n.jsxs("div",{className:"flex justify-between items-center group",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-4 bg-indigo-100 dark:bg-indigo-900/40 text-indigo-600 dark:text-indigo-400 rounded-2xl",children:g?n.jsx(ku,{size:24}):n.jsx(wu,{size:24})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-black dark:text-white",children:"Tema"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:g?"Dark Mode Aktif":"Light Mode Aktif"})]})]}),n.jsx("button",{onClick:o,className:`h-8 w-14 rounded-full transition-all flex items-center p-1 ${g?"bg-primary-600":"bg-gray-200"}`,children:n.jsx("div",{className:`h-6 w-6 rounded-full bg-white shadow-md transform transition-transform duration-300 ${g?"translate-x-6":"translate-x-0"}`})})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"p-4 bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400 rounded-2xl",children:n.jsx(zf,{size:24})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-black dark:text-white",children:"Bahasa"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Pilih bahasa aplikasi"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"flex-1 py-2 px-3 bg-primary-100 dark:bg-primary-900/40 text-primary-700 dark:text-primary-300 rounded-xl font-bold text-xs ring-2 ring-primary-500",children:"Bahasa Indonesia"}),n.jsx("button",{className:"flex-1 py-2 px-3 bg-gray-50 dark:bg-gray-700/50 text-gray-400 rounded-xl font-bold text-xs opacity-50 grayscale hover:grayscale-0 transition cursor-not-allowed",title:"Segera Hadir",children:"English (Soon)"})]})]}),n.jsxs("div",{className:"bg-primary-600 p-8 rounded-[2.5rem] text-white shadow-2xl shadow-primary-500/20 relative overflow-hidden group",children:[n.jsx(Wf,{className:"absolute -right-8 -bottom-8 w-32 h-32 opacity-10 group-hover:scale-125 transition-transform duration-1000"}),n.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[n.jsx("h4",{className:"text-sm font-black uppercase tracking-widest opacity-80 mb-6",children:"Status Sistem"}),n.jsxs("div",{className:"space-y-4 flex-1",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm font-bold",children:[n.jsx("span",{children:"Cloud Sync"}),n.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full text-[10px]",children:"AKTIF"})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm font-bold",children:[n.jsx("span",{children:"Database"}),n.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full text-[10px]",children:"CONNECTED"})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm font-bold",children:[n.jsx("span",{children:"Uptime"}),n.jsx("span",{children:"99.9%"})]})]}),n.jsx("div",{className:"mt-8 pt-6 border-t border-white/10 text-center",children:n.jsx("p",{className:"text-xs font-black tracking-widest",children:"EDUGURU v1.2.0 PRO"})})]})]}),n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 p-8 rounded-[2.5rem] border border-red-100 dark:border-red-900/50",children:[n.jsxs("h3",{className:"text-lg font-black text-red-800 dark:text-red-400 mb-4 flex items-center gap-2",children:[n.jsx(An,{size:20})," Danger Zone"]}),n.jsx("p",{className:"text-xs text-red-600 dark:text-red-400/70 mb-6 leading-relaxed",children:"Semua data jurnal, nilai, dan sesi bimbingan akan dihapus permanen dari server. Tindakan ini tidak dapat dibatalkan."}),n.jsx("button",{onClick:le,className:"w-full bg-white dark:bg-red-900/30 text-red-600 dark:text-red-400 font-black py-4 rounded-2xl hover:bg-red-600 hover:text-white dark:hover:bg-red-600 transition-all shadow-sm active:scale-95 border border-red-100 dark:border-red-800/50",children:"Reset Semua Data"})]})]})]}),n.jsxs("div",{className:"flex flex-col items-center gap-4 py-12",children:[n.jsxs("div",{className:"flex items-center gap-6 text-gray-400",children:[n.jsx("a",{href:"#",className:"hover:text-primary-500 transition-colors",children:n.jsx(If,{size:20})}),n.jsx(Lh,{size:20,className:"opacity-50"}),n.jsx(zf,{size:20,className:"opacity-50"})]}),n.jsx("div",{className:"text-center text-[10px] font-black tracking-[0.2em] text-gray-400 dark:text-gray-500 uppercase",children:" 2026 EduGuru Advanced  Handcrafted for Teachers"})]})]})},Cx=()=>{const[c,d]=w.useState("STUDENTS"),[g,o]=w.useState([]),[S,_]=w.useState(Date.now()),[k,H]=w.useState([]),[O,I]=w.useState([]),[T,v]=w.useState([]),[z,K]=w.useState(0),[M,ee]=w.useState(null),[q,X]=w.useState(!1),[Q,V]=w.useState(""),[N,W]=w.useState(1),le=10;w.useEffect(()=>{(async()=>{if(c==="STUDENTS"){const[E,U]=await Promise.all([L.getStudents(),L.getClasses()]);H(E),I(U)}else c==="CLASSES"?I(await L.getClasses()):c==="SUBJECTS"&&v(await L.getSubjects());W(1)})()},[c,z]),w.useEffect(()=>{W(1)},[Q]);const Y=m=>{var ne;const E=(ne=m.target.files)==null?void 0:ne[0];if(!E)return;const U=new FileReader;U.onload=$=>{var ye;const Me=(ye=$.target)==null?void 0:ye.result,oe=Zh(Me,{type:"binary"}),ue=oe.SheetNames[0],Ne=oe.Sheets[ue],G=sa.sheet_to_json(Ne);o(G)},U.readAsBinaryString(E)},se=async()=>{if(g.length!==0&&confirm(`Yakin ingin menyimpan ${g.length} data baru? Data lama akan tertimpa.`))try{if(c==="STUDENTS"){localStorage.removeItem("eduguru_cache_classes");const E=(await L.getClasses()).map($=>$.id),U=[];let ne=0;if(g.forEach($=>{const Me=$.KodeKelas?String($.KodeKelas).trim():$.ClassID||"c1",oe=E.includes(Me);!oe&&Me&&ne++,U.push({id:$.ID?String($.ID):"S"+Math.random().toString(36).substr(2,5).toUpperCase(),name:$.Nama||$.Name||"No Name",nis:$.NIS?String($.NIS):"-",classId:oe?Me:null})}),ne>0&&!confirm(`PERINGATAN: Ditemukan ${ne} siswa dengan Kode Kelas yang TIDAK TERDAFTAR di Master Kelas.

Siswa ini akan disimpan TANPA KELAS.

Lanjutkan penyimpanan?`))return;await L.saveStudentsBulk(U)}else if(c==="CLASSES"){const m=g.map(E=>({id:E.ID?String(E.ID):E.Kode,name:E.NamaKelas||E.Name,grade:Number(E.Tingkat||E.Grade||10)}));await L.saveClassesBulk(m)}else if(c==="SUBJECTS"){const m=g.map(E=>String(E.Mapel||E.Subject||"").trim()).filter(Boolean);await L.saveSubjectsBulk(m)}alert("Data berhasil disimpan!"),o([]),_(Date.now()),K(m=>m+1)}catch(m){console.error(m),alert("Gagal menyimpan data: "+m.message)}},je=()=>{let m=[],E="";switch(c){case"STUDENTS":m=[{Nama:"Budi Santoso",NIS:"2024001",KodeKelas:"c1"},{Nama:"Siti Aminah",NIS:"2024002",KodeKelas:"c1"}],E="Template_Siswa.xlsx";break;case"CLASSES":m=[{ID:"c1",NamaKelas:"X IPA 1",Tingkat:10}],E="Template_Kelas.xlsx";break;case"SUBJECTS":m=[{Mapel:"Matematika"}],E="Template_Mapel.xlsx";break}const U=sa.json_to_sheet(m),ne=sa.book_new();sa.book_append_sheet(ne,U,"Template"),Ss(ne,E)},Ae=()=>{switch(c){case"STUDENTS":return"Kolom: Nama, NIS, KodeKelas (Harus sesuai ID di Data Kelas)";case"CLASSES":return"Kolom: ID (Kode Unik), NamaKelas, Tingkat";case"SUBJECTS":return"Kolom: Mapel";default:return""}},ae=async m=>{if(confirm("Apakah Anda yakin ingin menghapus data ini?"))try{c==="STUDENTS"?await L.deleteStudent(m.id):c==="CLASSES"?await L.deleteClass(m.id):c==="SUBJECTS"&&await L.deleteSubject(m),K(E=>E+1),alert("Data berhasil dihapus")}catch(E){console.error(E),alert("Gagal menghapus data")}},te=m=>{ee(c==="SUBJECTS"?{name:m,oldName:m}:{...m}),X(!0)},Se=async()=>{try{c==="STUDENTS"?await L.saveStudent(M):c==="CLASSES"?await L.saveClass(M):c==="SUBJECTS"&&M.name!==M.oldName&&(await L.deleteSubject(M.oldName),await L.saveSubject(M.name)),K(m=>m+1),X(!1),ee(null),alert("Data berhasil diperbarui")}catch(m){console.error(m),alert("Gagal memperbarui data")}},_e=async()=>{const m=c==="STUDENTS"?"Data Siswa":c==="CLASSES"?"Data Kelas":"Mata Pelajaran";if(confirm(`PERINGATAN: Anda akan MENGHAPUS SEMUA ${m}!`))try{c==="STUDENTS"?await L.deleteAllStudents():c==="CLASSES"?await L.deleteAllClasses():c==="SUBJECTS"&&await L.deleteAllSubjects(),K(E=>E+1),alert(`Semua ${m} berhasil dihapus.`)}catch(E){console.error(E),alert("Gagal menghapus semua data.")}},Fe=m=>{const E=m.split(" "),U=E.length>1?E[0][0]+E[1][0]:E[0][0]+(E[0][1]||""),ne=["bg-blue-500","bg-purple-500","bg-pink-500","bg-emerald-500","bg-amber-500","bg-indigo-500"],$=m.length%ne.length;return{initials:U.toUpperCase(),color:ne[$]}};return n.jsxs("div",{className:"space-y-8 pb-32 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-3 rounded-xl",children:n.jsx(Gh,{className:"text-emerald-500",size:32})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:c==="STUDENTS"?"Master Data Siswa":c==="CLASSES"?"Master Data Kelas":"Master Data Mapel"}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 font-medium mt-1",children:["Kelola dan import data ",c==="STUDENTS"?"siswa sekolah":c==="CLASSES"?"kelas sekolah":"mata pelajaran"," untuk digunakan di seluruh modul aplikasi."]})]})]}),n.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700 gap-8 overflow-x-auto no-scrollbar",children:[{id:"STUDENTS",label:"Data Siswa",icon:$r},{id:"CLASSES",label:"Data Kelas",icon:_l},{id:"SUBJECTS",label:"Mata Pelajaran",icon:Yh}].map(m=>n.jsxs("button",{onClick:()=>{d(m.id),o([])},className:`flex items-center gap-2 pb-4 text-sm font-bold transition-all relative whitespace-nowrap ${c===m.id?"text-emerald-600 dark:text-emerald-400":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:[n.jsx(m.icon,{size:18}),m.label,c===m.id&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-emerald-500 rounded-full"})]},m.id))}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6 mb-8",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white",children:["Import Data ",c==="STUDENTS"?"Siswa":c==="CLASSES"?"Kelas":"Mapel"]}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium max-w-xl",children:"Gunakan template Excel yang disediakan untuk mengunggah data dalam jumlah banyak."}),n.jsxs("div",{className:"mt-4 flex items-center gap-2 bg-amber-50 dark:bg-amber-900/10 text-amber-700 dark:text-amber-400 px-4 py-2 rounded-xl text-xs font-bold w-fit",children:[n.jsx(Ol,{size:14,className:"shrink-0"}),Ae()]})]}),n.jsxs("button",{onClick:je,className:"flex items-center gap-2 text-sm font-bold text-emerald-700 dark:text-emerald-300 bg-emerald-50 dark:bg-emerald-900/30 px-6 py-3 rounded-xl hover:bg-emerald-100 transition-all duration-300 shrink-0 shadow-sm",children:[n.jsx(Wr,{size:18}),"Download Template"]})]}),n.jsx("div",{className:"flex flex-col items-center justify-center w-full",children:n.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-56 border-2 border-gray-200 border-dashed rounded-[2rem] cursor-pointer bg-gray-50 dark:bg-gray-700/30 hover:bg-emerald-50/30 dark:hover:bg-emerald-900/10 transition-all duration-300 group",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/40 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:n.jsx(Kh,{className:"text-emerald-500",size:32})}),n.jsxs("p",{className:"mb-2 text-sm",children:[n.jsx("span",{className:"font-bold text-emerald-600",children:"Klik untuk upload"})," atau ",n.jsx("span",{className:"text-gray-500",children:"drag & drop file disini"})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Format: XLSX atau CSV (Maks. 5MB)"})]}),n.jsx("input",{type:"file",className:"hidden",accept:".xlsx, .xls, .csv",onChange:Y},S)]})})]}),g.length>0&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white",children:"Preview Data"}),n.jsxs("button",{onClick:se,className:"bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-8 rounded-2xl shadow-lg shadow-emerald-500/20 flex items-center gap-2 transition-all active:scale-95",children:[n.jsx(Fr,{size:20}),"Simpan ke Database"]})]}),n.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-100 dark:border-gray-700",children:n.jsxs("table",{className:"w-full text-left border-collapse text-sm",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:n.jsx("tr",{children:Object.keys(g[0]||{}).map(m=>n.jsx("th",{className:"p-4 font-black text-gray-400 uppercase tracking-widest text-xs whitespace-nowrap",children:m},m))})}),n.jsx("tbody",{children:g.slice(0,10).map((m,E)=>n.jsx("tr",{className:"border-t border-gray-50 dark:border-gray-700",children:Object.values(m).map((U,ne)=>n.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-400 font-medium whitespace-nowrap",children:U},ne))},E))})]})})]}),g.length===0&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"p-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white",children:"Data Tersimpan"}),n.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-500 text-xs font-black px-3 py-1 rounded-full uppercase tracking-wider",children:[c==="STUDENTS"?k.length:c==="CLASSES"?O.length:T.length," Item"]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[n.jsxs("div",{className:"relative flex-1 sm:w-80 group",children:[n.jsx(Ml,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-emerald-500 transition-colors",size:18}),n.jsx("input",{type:"text",placeholder:c==="STUDENTS"?"Cari Nama atau NIS...":c==="CLASSES"?"Cari Nama Kelas...":"Cari Mapel...",value:Q,onChange:m=>V(m.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 rounded-2xl text-sm font-medium focus:ring-2 focus:ring-emerald-500 outline-none transition-all dark:text-white"})]}),(c==="STUDENTS"&&k.length>0||c==="CLASSES"&&O.length>0||c==="SUBJECTS"&&T.length>0)&&n.jsxs("button",{onClick:_e,className:"flex items-center justify-center gap-2 px-6 py-3 bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/10 dark:text-red-400 rounded-2xl text-sm font-black transition-all duration-300",children:[n.jsx(An,{size:18}),"Hapus Semua"]})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left border-collapse",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 border-y border-gray-100 dark:border-gray-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 text-xs font-black text-gray-400 uppercase tracking-widest text-center",children:"#"}),c==="STUDENTS"&&n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"p-4 text-xs font-black text-gray-400 uppercase tracking-widest",children:"Nama Lengkap"}),n.jsx("th",{className:"p-4 text-xs font-black text-gray-400 uppercase tracking-widest",children:"NIS"}),n.jsx("th",{className:"p-4 text-xs font-black text-gray-400 uppercase tracking-widest text-center",children:"Kelas"}),n.jsx("th",{className:"p-4 text-xs font-black text-gray-400 uppercase tracking-widest text-center",children:"ID Kelas"})]}),c==="CLASSES"&&n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"p-4 text-xs font-black text-gray-400 uppercase tracking-widest",children:"ID Kelas"}),n.jsx("th",{className:"p-4 text-xs font-black text-gray-400 uppercase tracking-widest",children:"Nama Kelas"}),n.jsx("th",{className:"p-4 text-xs font-black text-gray-400 uppercase tracking-widest",children:"Tingkat"})]}),c==="SUBJECTS"&&n.jsx("th",{className:"p-4 text-xs font-black text-gray-400 uppercase tracking-widest",children:"Nama Mata Pelajaran"}),n.jsx("th",{className:"p-4 text-xs font-black text-gray-400 uppercase tracking-widest text-center",children:"Aksi"})]})}),n.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[c==="STUDENTS"&&(()=>{const m=k.filter(U=>!Q||U.name.toLowerCase().includes(Q.toLowerCase())||U.nis.includes(Q)),E=m.slice((N-1)*le,N*le);return m.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400 italic",children:"Belum ada data siswa."})}):E.map((U,ne)=>{var oe;const $=(oe=O.find(ue=>ue.id===U.classId))==null?void 0:oe.name,Me=Fe(U.name);return n.jsxs("tr",{className:"hover:bg-gray-50/80 dark:hover:bg-gray-700/50 transition-colors",children:[n.jsx("td",{className:"p-4 text-center text-gray-400 font-medium text-sm",children:(N-1)*le+ne+1}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 ${Me.color} rounded-full flex items-center justify-center text-white text-xs font-black ring-4 ring-white dark:ring-gray-800 shadow-sm`,children:Me.initials}),n.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:U.name})]})}),n.jsx("td",{className:"p-4 text-gray-500 font-medium text-sm tabular-nums",children:U.nis}),n.jsx("td",{className:"p-4 text-center text-gray-700 dark:text-gray-300 font-bold",children:$||"-"}),n.jsx("td",{className:"p-4 text-center",children:U.classId?n.jsx("span",{className:"px-4 py-1.5 rounded-full bg-blue-50 text-blue-600 dark:bg-blue-900/30 text-[10px] font-black tracking-wider uppercase ring-1 ring-blue-100",children:U.classId}):"-"}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex gap-1 justify-center",children:[n.jsx("button",{onClick:()=>te(U),className:"p-2.5 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl transition-all",children:n.jsx(fu,{size:18})}),n.jsx("button",{onClick:()=>ae(U),className:"p-2.5 text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:n.jsx(An,{size:18})})]})})]},U.id)})})(),c==="CLASSES"&&(()=>{const m=O.filter(U=>!Q||U.name.toLowerCase().includes(Q.toLowerCase())||U.id.toLowerCase().includes(Q.toLowerCase())),E=m.slice((N-1)*le,N*le);return m.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400 italic",children:"Belum ada data kelas."})}):E.map((U,ne)=>n.jsxs("tr",{className:"hover:bg-gray-50/80 dark:hover:bg-gray-700/50 transition-colors",children:[n.jsx("td",{className:"p-4 text-center text-gray-400 font-medium text-sm",children:(N-1)*le+ne+1}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"px-4 py-1.5 rounded-full bg-blue-50 text-blue-600 dark:bg-blue-900/30 text-[10px] font-black tracking-wider uppercase ring-1 ring-blue-100",children:U.id})}),n.jsx("td",{className:"p-4 font-bold text-gray-800 dark:text-white",children:U.name}),n.jsx("td",{className:"p-4 text-gray-500 font-medium",children:U.grade}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex gap-1 justify-center",children:[n.jsx("button",{onClick:()=>te(U),className:"p-2.5 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl transition-all",children:n.jsx(fu,{size:18})}),n.jsx("button",{onClick:()=>ae(U),className:"p-2.5 text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:n.jsx(An,{size:18})})]})})]},U.id))})(),c==="SUBJECTS"&&(()=>{const m=T.filter(U=>!Q||U.toLowerCase().includes(Q.toLowerCase())),E=m.slice((N-1)*le,N*le);return m.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:3,className:"p-8 text-center text-gray-400 italic",children:"Belum ada data mata pelajaran."})}):E.map((U,ne)=>n.jsxs("tr",{className:"hover:bg-gray-50/80 dark:hover:bg-gray-700/50 transition-colors",children:[n.jsx("td",{className:"p-4 text-center text-gray-400 font-medium text-sm w-20",children:(N-1)*le+ne+1}),n.jsx("td",{className:"p-4 font-bold text-gray-800 dark:text-white",children:U}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex gap-1 justify-center",children:[n.jsx("button",{onClick:()=>te(U),className:"p-2.5 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl transition-all",children:n.jsx(fu,{size:18})}),n.jsx("button",{onClick:()=>ae(U),className:"p-2.5 text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:n.jsx(An,{size:18})})]})})]},ne))})()]})]})}),(()=>{const m=c==="STUDENTS"?k.filter(U=>!Q||U.name.toLowerCase().includes(Q.toLowerCase())||U.nis.includes(Q)):c==="CLASSES"?O.filter(U=>!Q||U.name.toLowerCase().includes(Q.toLowerCase())||U.id.toLowerCase().includes(Q.toLowerCase())):T.filter(U=>!Q||U.toLowerCase().includes(Q.toLowerCase())),E=Math.ceil(m.length/le);return E<=1?null:n.jsxs("div",{className:"px-8 py-6 bg-gray-50/50 dark:bg-gray-800/50 border-t border-gray-100 dark:border-gray-700 flex flex-col sm:flex-row justify-between items-center gap-4",children:[n.jsxs("p",{className:"text-xs font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:["Halaman ",N," dari ",E,n.jsx("span",{className:"w-1 h-1 bg-gray-300 rounded-full"}),m.length," Total Data"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{disabled:N===1,onClick:()=>W(U=>Math.max(1,U-1)),className:"p-2 rounded-xl border border-gray-200 dark:border-gray-700 hover:bg-white dark:hover:bg-gray-700 disabled:opacity-20 transition-all active:scale-90",children:n.jsx(ks,{size:20,className:"text-gray-600 dark:text-gray-300"})}),n.jsx("div",{className:"flex gap-1",children:[...Array(Math.min(5,E))].map((U,ne)=>{let $=N;return N<=3?$=ne+1:N>=E-2?$=E-4+ne:$=N-2+ne,$>0&&$<=E?n.jsx("button",{onClick:()=>W($),className:`w-10 h-10 rounded-xl text-xs font-black transition-all ${N===$?"bg-emerald-600 text-white shadow-lg ring-2 ring-emerald-500/20":"text-gray-500 hover:bg-white dark:hover:bg-gray-700 border border-transparent hover:border-emerald-100"}`,children:$},$):null})}),n.jsx("button",{disabled:N===E,onClick:()=>W(U=>Math.min(E,U+1)),className:"p-2 rounded-xl border border-gray-200 dark:border-gray-700 hover:bg-white dark:hover:bg-gray-700 disabled:opacity-20 transition-all active:scale-90",children:n.jsx(Ul,{size:20,className:"text-gray-600 dark:text-gray-300"})})]})]})})()]}),q&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-[2.5rem] w-full max-w-md shadow-2xl border border-gray-100 dark:border-gray-700 animate-in fade-in zoom-in duration-200",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:["Edit ",c==="STUDENTS"?"Data Siswa":c==="CLASSES"?"Data Kelas":"Mapel"]}),n.jsx("button",{onClick:()=>X(!1),className:"p-2 bg-gray-50 dark:bg-gray-700 text-gray-400 hover:text-gray-600 rounded-full transition-colors",children:n.jsx(fl,{size:20})})]}),n.jsxs("div",{className:"space-y-6",children:[c==="STUDENTS"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-black ml-1 text-gray-400 uppercase tracking-widest",children:"Nama Lengkap"}),n.jsx("input",{value:M.name,onChange:m=>ee({...M,name:m.target.value}),className:"w-full px-5 py-4 bg-gray-50 dark:bg-gray-700 border border-transparent focus:border-emerald-500 rounded-2xl outline-none transition-all dark:text-white font-bold"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-black ml-1 text-gray-400 uppercase tracking-widest",children:"NIS"}),n.jsx("input",{value:M.nis,onChange:m=>ee({...M,nis:m.target.value}),className:"w-full px-5 py-4 bg-gray-50 dark:bg-gray-700 border border-transparent focus:border-emerald-500 rounded-2xl outline-none transition-all dark:text-white font-bold"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-black ml-1 text-gray-400 uppercase tracking-widest",children:"Kelas ID"}),n.jsx("input",{value:M.classId,onChange:m=>ee({...M,classId:m.target.value}),className:"w-full px-5 py-4 bg-gray-50 dark:bg-gray-700 border border-transparent focus:border-emerald-500 rounded-2xl outline-none transition-all dark:text-white font-bold"})]})]}),c==="CLASSES"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-black ml-1 text-gray-400 uppercase tracking-widest",children:"ID Kelas"}),n.jsx("input",{value:M.id,disabled:!0,className:"w-full px-5 py-4 bg-gray-100 dark:bg-gray-900 border border-transparent rounded-2xl text-gray-400 font-bold cursor-not-allowed"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-black ml-1 text-gray-400 uppercase tracking-widest",children:"Nama Kelas"}),n.jsx("input",{value:M.name,onChange:m=>ee({...M,name:m.target.value}),className:"w-full px-5 py-4 bg-gray-50 dark:bg-gray-700 border border-transparent focus:border-emerald-500 rounded-2xl outline-none transition-all dark:text-white font-bold"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-black ml-1 text-gray-400 uppercase tracking-widest",children:"Tingkat"}),n.jsx("input",{type:"number",value:M.grade,onChange:m=>ee({...M,grade:Number(m.target.value)}),className:"w-full px-5 py-4 bg-gray-50 dark:bg-gray-700 border border-transparent focus:border-emerald-500 rounded-2xl outline-none transition-all dark:text-white font-bold"})]})]}),c==="SUBJECTS"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-black ml-1 text-gray-400 uppercase tracking-widest",children:"Mata Pelajaran"}),n.jsx("input",{value:M.name,onChange:m=>ee({...M,name:m.target.value}),className:"w-full px-5 py-4 bg-gray-50 dark:bg-gray-700 border border-transparent focus:border-emerald-500 rounded-2xl outline-none transition-all dark:text-white font-bold"})]})]}),n.jsxs("div",{className:"flex gap-4 mt-10",children:[n.jsx("button",{onClick:()=>X(!1),className:"flex-1 py-4 bg-gray-50 dark:bg-gray-800 text-gray-500 font-black rounded-2xl hover:bg-gray-100 transition-all",children:"BATAL"}),n.jsx("button",{onClick:Se,className:"flex-1 py-4 bg-emerald-600 text-white font-black rounded-2xl shadow-lg shadow-emerald-500/20 hover:bg-emerald-700 transition-all active:scale-95",children:"SIMPAN"})]})]})})]})},Yf={id:"init-1",role:"model",text:`Halo Bapak/Ibu Guru! 

Saya adalah Asisten Cerdas EduGuru yang siap membantu Anda:

  Merancang strategi pembelajaran kreatif
  Membuat soal latihan formatif/sumatif
  Saran penanganan siswa (konseling dasar)
  Menjawab pertanyaan seputar materi pelajaran

Apa yang bisa saya bantu hari ini?`},zx=[{label:" Buat Soal",prompt:"Buatkan 5 soal pilihan ganda tentang "},{label:" Ide Mengajar",prompt:"Berikan 3 metode pembelajaran kreatif untuk materi "},{label:" Rangkum Materi",prompt:"Buatkan rangkuman singkat tentang "},{label:" RPP Singkat",prompt:"Buatkan kerangka RPP untuk materi "}],Dx=()=>{const[c,d]=w.useState([Yf]),[g,o]=w.useState(""),[S,_]=w.useState(!1),[k,H]=w.useState("checking"),O=w.useRef(null),I=w.useRef(null);w.useEffect(()=>{(async()=>{try{const X=await jx();H(X?"online":"offline"),X||d(Q=>[...Q,{id:"err-init",role:"model",text:" Layanan AI sedang tidak tersedia. Pastikan GEMINI_API_KEY sudah dikonfigurasi di server.",isError:!0}])}catch{H("offline")}})()},[]),w.useEffect(()=>{var q;(q=O.current)==null||q.scrollIntoView({behavior:"smooth"})},[c]);const T=()=>c.filter(q=>!q.isError&&!q.isLoading&&q.id!=="init-1").map(q=>({role:q.role,text:q.text})),v=async()=>{var V;if(!g.trim()||S)return;const q=g.trim();o(""),_(!0);const X=Date.now().toString();d(N=>[...N,{id:X,role:"user",text:q}]);const Q=(Date.now()+1).toString();d(N=>[...N,{id:Q,role:"model",text:"",isLoading:!0}]);try{const N=T(),W=await vx(q,N);d(le=>le.map(Y=>Y.id===Q?{...Y,text:W,isLoading:!1}:Y))}catch(N){console.error(N),d(W=>W.map(le=>le.id===Q?{...le,text:N.message||"Maaf, terjadi kesalahan saat menghubungi server AI. Silakan coba lagi.",isLoading:!1,isError:!0}:le))}finally{_(!1),(V=I.current)==null||V.focus()}},z=q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),v())},K=q=>{var X;o(q),(X=I.current)==null||X.focus()},M=()=>{d([Yf]),o("")},ee=q=>q.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,'<code class="bg-gray-100 dark:bg-gray-700 px-1 rounded">$1</code>').replace(/\n/g,"<br/>");return n.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] md:h-[calc(100vh-100px)] relative",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-green-500 rounded-xl flex items-center justify-center text-white shadow-lg shadow-primary-500/30",children:n.jsx(Zr,{size:22})}),n.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white dark:border-gray-800 ${k==="online"?"bg-green-500":k==="offline"?"bg-red-500":"bg-yellow-500 animate-pulse"}`})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-bold dark:text-white flex items-center gap-2",children:["Asisten Cerdas",k==="online"&&n.jsxs("span",{className:"text-xs font-normal bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 px-2 py-0.5 rounded-full flex items-center gap-1",children:[n.jsx(qh,{size:10})," Online"]}),k==="offline"&&n.jsxs("span",{className:"text-xs font-normal bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 px-2 py-0.5 rounded-full flex items-center gap-1",children:[n.jsx(Jh,{size:10})," Offline"]})]}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Powered by Gemini AI"})]})]}),n.jsxs("button",{onClick:M,className:"text-gray-500 hover:text-primary-600 dark:text-gray-400 dark:hover:text-primary-400 p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition flex items-center gap-2",title:"Reset Chat",children:[n.jsx(Qh,{size:18}),n.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Reset"})]})]}),n.jsx("div",{className:"flex gap-2 mb-3 overflow-x-auto pb-2 no-scrollbar",children:zx.map((q,X)=>n.jsx("button",{onClick:()=>K(q.prompt),className:"flex-shrink-0 px-3 py-1.5 text-xs font-medium bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-full hover:border-primary-500 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:q.label},X))}),n.jsxs("div",{className:"flex-1 overflow-y-auto bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 space-y-4 mb-4",children:[c.map(q=>n.jsxs("div",{className:`flex gap-3 ${q.role==="user"?"flex-row-reverse":"flex-row"} animate-[fadeIn_0.2s_ease-out]`,children:[n.jsx("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center shrink-0 shadow-sm ${q.role==="user"?"bg-gradient-to-br from-primary-500 to-green-500 text-white":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300"}`,children:q.role==="user"?n.jsx(En,{size:18}):n.jsx(Zf,{size:18})}),n.jsx("div",{className:`max-w-[85%] md:max-w-[75%] p-4 rounded-2xl text-sm leading-relaxed ${q.role==="user"?"bg-gradient-to-br from-primary-600 to-green-600 text-white rounded-tr-sm shadow-lg shadow-primary-500/20":q.isError?"bg-red-50 text-red-600 border border-red-100 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800/50 rounded-tl-sm":"bg-gray-50 dark:bg-gray-700/50 text-gray-800 dark:text-gray-100 border border-gray-100 dark:border-gray-600 rounded-tl-sm"}`,children:q.isLoading?n.jsxs("div",{className:"flex gap-2 items-center h-6",children:[n.jsx(Au,{className:"w-4 h-4 animate-spin text-primary-500"}),n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Sedang mengetik..."})]}):q.isError?n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Ol,{className:"w-4 h-4 shrink-0 mt-0.5"}),n.jsx("span",{children:q.text})]}):n.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:ee(q.text)}})})]},q.id)),n.jsx("div",{ref:O})]}),n.jsxs("div",{className:"relative bg-white dark:bg-gray-800 p-2 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-lg shadow-gray-200/50 dark:shadow-none focus-within:ring-2 focus-within:ring-primary-500 focus-within:border-primary-500 transition",children:[n.jsx("textarea",{ref:I,value:g,onChange:q=>o(q.target.value),onKeyDown:z,placeholder:k==="offline"?"AI sedang offline...":"Ketik pesan Anda... (Enter untuk kirim)",disabled:k==="offline",className:"w-full bg-transparent border-none focus:ring-0 focus:outline-none resize-none max-h-32 min-h-[52px] py-3 pl-3 pr-14 text-sm dark:text-white disabled:opacity-50 disabled:cursor-not-allowed",rows:1}),n.jsx("button",{onClick:v,disabled:S||!g.trim()||k==="offline",className:`absolute right-3 bottom-3 p-2.5 rounded-xl transition-all ${S||!g.trim()||k==="offline"?"bg-gray-100 text-gray-400 dark:bg-gray-700 dark:text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-primary-600 to-green-600 text-white shadow-lg shadow-primary-500/30 hover:shadow-primary-500/50 hover:scale-105 active:scale-95"}`,children:S?n.jsx(Au,{size:18,className:"animate-spin"}):n.jsx(Xh,{size:18})})]}),n.jsx("p",{className:"text-center text-xs text-gray-400 dark:text-gray-500 mt-2 md:hidden",children:"Shift+Enter untuk baris baru"})]})},_x=()=>{const[c,d]=w.useState("dashboard"),[g,o]=w.useState(!1),[S,_]=w.useState(null);w.useEffect(()=>{window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&o(!0);const O=L.getUser();O&&_(O)},[]),w.useEffect(()=>{g?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[g]),w.useEffect(()=>{const O=()=>{L.logout(),_(null)};return window.addEventListener("auth:unauthorized",O),()=>{window.removeEventListener("auth:unauthorized",O)}},[]);const k=()=>{L.logout(),_(null)},H=()=>{switch(c){case"dashboard":return n.jsx(Gf,{user:S,setActiveTab:d});case"journal":return n.jsx(Sx,{});case"attendance":return n.jsx(wx,{});case"assessment":return n.jsx(kx,{});case"counseling":return n.jsx(Ax,{});case"reports":return n.jsx(Ex,{});case"master-data":return n.jsx(Cx,{});case"chat-ai":return n.jsx(Dx,{});case"settings":return n.jsx(Tx,{user:S,onUpdateUser:_,isDarkMode:g,toggleTheme:()=>o(!g)});default:return n.jsx(Gf,{user:S,setActiveTab:d})}};return S?n.jsx(sx,{activeTab:c,setActiveTab:d,isDarkMode:g,toggleTheme:()=>o(!g),onLogout:k,user:S,children:H()}):n.jsx("div",{className:g?"dark":"",children:n.jsx(mx,{onLogin:O=>_(O)})})},Pf=document.getElementById("root");if(!Pf)throw new Error("Could not find root element to mount to");const Mx=lx.createRoot(Pf);Mx.render(n.jsx(Vr.StrictMode,{children:n.jsx(_x,{})}));
